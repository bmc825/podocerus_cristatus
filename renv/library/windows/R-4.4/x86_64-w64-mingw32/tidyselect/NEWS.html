
<!DOCTYPE html>


<html lang="en" data-content_root="../../../../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>tidyselect 1.2.1 &#8212; Chapter 3 Data Analysis</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'renv/library/windows/R-4.4/x86_64-w64-mingw32/tidyselect/NEWS';</script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../../../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../../../../_static/Podocerus_bw.png" class="logo__image only-light" alt="Chapter 3 Data Analysis - Home"/>
    <img src="../../../../../../_static/Podocerus_bw.png" class="logo__image only-dark pst-js-only" alt="Chapter 3 Data Analysis - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../../../../intro.html">
                    Data Analysis of P. cristatus
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../scripts/Load_Packages.html">Load Packages</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../01_Population/01_intro.html">Question 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../01_Population/01_data_cleaning.html">Data Cleaning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../01_Population/Clustering.html">Cluster Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../01_Population/Population_structure.html">Population Structure Analysis</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../02_Occurrence/02_intro.html">Question 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/02_data_cleaning.html">Data Cleaning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/Model_1.html">Model 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/Model_2.html">Model 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/Model_3.html">Model 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/Model_exp.html">Substrate Experiment Model</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../03_Camouflage/03_intro.html">Question 3</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../03_Camouflage/03_data_cleaning.html">Data Cleaning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../03_Camouflage/Model_4.html">Model 4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../03_Camouflage/Model_5.html">Model 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../03_Camouflage/Model_6.html">Model 6</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../04_Phylogenetic/04_intro.html">Question 4</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../04_Phylogenetic/Geneious_protocol.html">Geneious Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../04_Phylogenetic/Phylogenetic_analysis.html">Phylogenetic Analysis</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../../../../_sources/renv/library/windows/R-4.4/x86_64-w64-mingw32/tidyselect/NEWS.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>tidyselect 1.2.1</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">tidyselect 1.2.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-1-2-0">tidyselect 1.2.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-features">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lifecycle-changes">Lifecycle changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minor-improvements-and-bug-fixes">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-1-1-2">tidyselect 1.1.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-1-1-1">tidyselect 1.1.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-1-1-0">tidyselect 1.1.0</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-1-0-0">tidyselect 1.0.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation">Documentation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#breaking-changes">Breaking changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#syntax">Syntax</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#user-facing-improvements">User-facing improvements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#api">API</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-features-and-fixes">Other features and fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-2-5">tidyselect 0.2.5</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-2-4">tidyselect 0.2.4</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-2-3">tidyselect 0.2.3</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-2-2">tidyselect 0.2.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-2-1">tidyselect 0.2.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-2-0">tidyselect 0.2.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluation-rules">Evaluation rules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fixes">Fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-1-1">tidyselect 0.1.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#api-changes">API changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#establishing-a-variable-context">Establishing a variable context</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-evaluation-semantics">New evaluation semantics</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="tidyselect-1-2-1">
<h1>tidyselect 1.2.1<a class="headerlink" href="#tidyselect-1-2-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Performance improvements (#337, #338, #339, #341)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> out-of-bounds errors now use the verb “select” rather than
“subset” in the error message for consistency with <code class="docutils literal notranslate"><span class="pre">dplyr::select()</span></code> (#271).</p></li>
<li><p>Fix for CRAN checks.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tidyselect-1-2-0">
<h1>tidyselect 1.2.0<a class="headerlink" href="#tidyselect-1-2-0" title="Link to this heading">#</a></h1>
<section id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">tidyselect_data_proxy()</span></code> and <code class="docutils literal notranslate"><span class="pre">tidyselect_data_has_predicates()</span></code>
allows tidyselect to work with custom input types (#242).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">eval_relocate()</span></code> for moving a selection. This powers <code class="docutils literal notranslate"><span class="pre">dplyr::relocate()</span></code>
(#232).</p></li>
</ul>
</section>
<section id="lifecycle-changes">
<h2>Lifecycle changes<a class="headerlink" href="#lifecycle-changes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Using <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> outside of a tidyselect context is now deprecated (#269).
In the future it will error to be consistent with <code class="docutils literal notranslate"><span class="pre">any_of()</span></code>.</p></li>
<li><p>Use of <code class="docutils literal notranslate"><span class="pre">.data</span></code> in tidyselect expressions is now deprecated to more cleanly
separate tidy-select from data-masking. Replace <code class="docutils literal notranslate"><span class="pre">.data$x</span></code> with <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code> and
<code class="docutils literal notranslate"><span class="pre">.data[[var]]</span></code> with <code class="docutils literal notranslate"><span class="pre">all_of(var)</span></code> (#169).</p></li>
<li><p>Use of bare predicates (not wrapped in <code class="docutils literal notranslate"><span class="pre">where()</span></code>) and indirection (without
using <code class="docutils literal notranslate"><span class="pre">all_of()</span></code>) have been formally deprecated (#317).</p></li>
</ul>
</section>
<section id="minor-improvements-and-bug-fixes">
<h2>Minor improvements and bug fixes<a class="headerlink" href="#minor-improvements-and-bug-fixes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Selection language:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">any_of()</span></code> generates a more informative error if you supply too many
arguments (#241).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">all_of()</span></code> (like <code class="docutils literal notranslate"><span class="pre">any_of()</span></code>) returns an integer vector to make it easier
to combine in functions (#270, #294). It also fails when it can’t find
variables even when <code class="docutils literal notranslate"><span class="pre">strict</span> <span class="pre">=</span> <span class="pre">FALSE</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matches()</span></code> recognises and correctly uses stringr pattern objects
(<code class="docutils literal notranslate"><span class="pre">stringr::regex()</span></code>, <code class="docutils literal notranslate"><span class="pre">stringr::fixed()</span></code>, etc) (#238). It also now
works with named vectors (#250).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_range()</span></code> gains a <code class="docutils literal notranslate"><span class="pre">suffix</span></code> argument (#229).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">where()</span></code> is now exported, like all other select helpers (#201),
and gives more informative errors (#236).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> with <code class="docutils literal notranslate"><span class="pre">include</span></code> now preserves the order of the variables
if they’re present in the selection (#224).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> always returns a named vector, even when renaming is not
permitted (#220).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> and <code class="docutils literal notranslate"><span class="pre">eval_relocate()</span></code> gain new <code class="docutils literal notranslate"><span class="pre">allow_empty</span></code> argument which
makes it possible to forbid empty selections with <code class="docutils literal notranslate"><span class="pre">allow_empty</span> <span class="pre">=</span> <span class="pre">FALSE</span></code> (#252).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_select(allow_rename</span> <span class="pre">=</span> <span class="pre">FALSE)</span></code> no longer fails with empty
selections (#221, &#64;eutwt) or with predicate functions (#225). It now properly
fails with partial renaming (#305).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">peek_var()</span></code> error now generates hyperlink to docs with recent RStudio (#289).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_pull()</span></code> generates more informative error messages (#234, #258, #318)
and gains <code class="docutils literal notranslate"><span class="pre">error_call</span></code> and <code class="docutils literal notranslate"><span class="pre">error_arg</span></code> arguments.</p></li>
<li><p>Errors produced by tidyselect should now be more informative. Evaluation
errors are now chained, with the child error call is set to the <code class="docutils literal notranslate"><span class="pre">error_call</span></code>
argument of <code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> and <code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code>. We’ve also improved
backtraces of base errors, and done better at propagating the root
<code class="docutils literal notranslate"><span class="pre">error_call</span></code> to vctrs input checkers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tidyselect_verbosity</span></code> is no longer used; deprecation messaging is now
controlled by <code class="docutils literal notranslate"><span class="pre">lifecycle_verbosity</span></code> like all other packages (#317).</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tidyselect-1-1-2">
<h1>tidyselect 1.1.2<a class="headerlink" href="#tidyselect-1-1-2" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fix for CRAN checks.</p></li>
<li><p>Better compatibility with rlang 1.0.0 errors. More to come soon.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tidyselect-1-1-1">
<h1>tidyselect 1.1.1<a class="headerlink" href="#tidyselect-1-1-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fix for CRAN checks.</p></li>
<li><p>tidyselect has been re-licensed as MIT (#217).</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tidyselect-1-1-0">
<h1>tidyselect 1.1.0<a class="headerlink" href="#tidyselect-1-1-0" title="Link to this heading">#</a></h1>
<ul>
<li><p>Predicate functions must now be wrapped with <code class="docutils literal notranslate"><span class="pre">where()</span></code>.</p>
<p>We made this change to avoid puzzling error messages when a variable
is unexpectedly missing from the data frame and there is a
corresponding function in the environment:</p>
<p>Now tidyselect will correctly complain about a missing variable
rather than trying to invoke a function.</p>
<p>For compatibility we will support predicate functions starting with
<code class="docutils literal notranslate"><span class="pre">is</span></code> for 1 version.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> gains an <code class="docutils literal notranslate"><span class="pre">allow_rename</span></code> argument. If set to <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>,
renaming variables with the <code class="docutils literal notranslate"><span class="pre">c(foo</span> <span class="pre">=</span> <span class="pre">bar)</span></code> syntax is an error.
This is useful to implement purely selective behaviour (#178).</p></li>
<li><p>Fixed issue preventing repeated deprecation messages when
<code class="docutils literal notranslate"><span class="pre">tidyselect_verbosity</span></code> is set to <code class="docutils literal notranslate"><span class="pre">&quot;verbose&quot;</span></code> (#184).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">any_of()</span></code> now preserves the order of the input variables (#186).</p></li>
<li><p>The return value of <code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> is now always named, even when
inputs are constant (#173).</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tidyselect-1-0-0">
<h1>tidyselect 1.0.0<a class="headerlink" href="#tidyselect-1-0-0" title="Link to this heading">#</a></h1>
<p>This is the 1.0.0 release of tidyselect. It features a more solidly
defined and implemented syntax, support for predicate functions, new
boolean operators, and much more.</p>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>New Get started vignette for client packages. Read it with
<code class="docutils literal notranslate"><span class="pre">vignette(&quot;tidyselect&quot;)</span></code> or at
<a class="reference external" href="https://tidyselect.r-lib.org/articles/tidyselect.html">https://tidyselect.r-lib.org/articles/tidyselect.html</a>.</p></li>
<li><p>The definition of the tidyselect language has been consolidated. A
technical description is now available:
<a class="reference external" href="https://tidyselect.r-lib.org/articles/syntax.html">https://tidyselect.r-lib.org/articles/syntax.html</a>.</p></li>
</ul>
</section>
<section id="breaking-changes">
<h2>Breaking changes<a class="headerlink" href="#breaking-changes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Selecting non-column variables with bare names now triggers an
informative message suggesting to use <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> instead. Referring
to contextual objects with a bare name is brittle because it might
be masked by a data frame column. Using <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> is safe (#76).</p></li>
</ul>
<p>tidyselect now uses vctrs for validating inputs. These changes may
reveal programming errors that were previously silent. They may also
cause failures if your unit tests make faulty assumptions about the
content of error messages created in tidyselect:</p>
<ul class="simple">
<li><p>Out-of-bounds errors are thrown when a name doesn’t exist or a
location is too large for the input.</p></li>
<li><p>Logical vectors now fail properly.</p></li>
<li><p>Selected variables now must be unique. It was previously possible to
return duplicate selections in some circumstances.</p></li>
<li><p>The input names can no longer contain <code class="docutils literal notranslate"><span class="pre">NA</span></code> values.</p></li>
</ul>
<p>Note that we recommend <code class="docutils literal notranslate"><span class="pre">testthat::verify_output()</span></code> for monitoring
error messages thrown from packages that you don’t control. Unlike
<code class="docutils literal notranslate"><span class="pre">expect_error()</span></code>, <code class="docutils literal notranslate"><span class="pre">verify_output()</span></code> does not cause CMD check failures
when error messages have changed. See
<a class="reference external" href="https://www.tidyverse.org/blog/2019/11/testthat-2-3-0/">https://www.tidyverse.org/blog/2019/11/testthat-2-3-0/</a> for more
information.</p>
</section>
<section id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Link to this heading">#</a></h2>
<ul>
<li><p>The boolean operators can now be used to create selections (#106).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">!</span></code> negates a selection.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">|</span></code> takes the union of two selections.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&amp;</span></code> takes the intersection of two selections.</p></li>
</ul>
<p>These patterns can currently be achieved using <code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">c()</span></code> and
<code class="docutils literal notranslate"><span class="pre">intersect()</span></code> respectively. The boolean operators should be more
intuitive to use.</p>
<p>Many thanks to Irene Steves (&#64;isteves) for suggesting this UI.</p>
</li>
<li><p>You can now use predicate functions in selection contexts:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">iris</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="nf">select</span><span class="p">(</span><span class="n">is.factor</span><span class="p">)</span>
<span class="n">iris</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="nf">select</span><span class="p">(</span><span class="n">is.factor</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">is.numeric</span><span class="p">)</span>
</pre></div>
</div>
<p>This feature is not available in functions that use the legacy
interface of tidyselect. These need to be updated to use
the new <code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> function instead of <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code>.</p>
</li>
<li><p>Unary <code class="docutils literal notranslate"><span class="pre">-</span></code> inside nested <code class="docutils literal notranslate"><span class="pre">c()</span></code> is now consistently syntax for set
difference (#130).</p></li>
<li><p>Improved support for named elements. It is now possible to assign
the same name to multiple elements, if the input data structure
doesn’t require unique names (i.e. anything but a data frame).</p></li>
<li><p>The selection engine has been rewritten to support a clearer
separation between data-expressions (calls to <code class="docutils literal notranslate"><span class="pre">:</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, and <code class="docutils literal notranslate"><span class="pre">c</span></code>) and
env-expressions (anything else). This means you can now safely use
expressions of the type:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="nf">select</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">ncol</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="n">data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="nf">pivot_longer</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">ncol</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
</pre></div>
</div>
<p>Even if the data frame <code class="docutils literal notranslate"><span class="pre">data</span></code> contains a column also named <code class="docutils literal notranslate"><span class="pre">data</span></code>,
the subexpression <code class="docutils literal notranslate"><span class="pre">ncol(data)</span></code> is still correctly evaluated.
The <code class="docutils literal notranslate"><span class="pre">data:ncol(data)</span></code> expression is equivalent to <code class="docutils literal notranslate"><span class="pre">2:3</span></code> because
<code class="docutils literal notranslate"><span class="pre">data</span></code> is looked up in the relevant context without ambiguity:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">tibble</span><span class="p">(</span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span>
<span class="n">data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">data</span><span class="o">:</span><span class="nf">ncol</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="c1">#&gt; # A tibble: 1 x 2</span>
<span class="c1">#&gt;    data   bar</span>
<span class="c1">#&gt;   &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="c1">#&gt; 1     2     3</span>
</pre></div>
</div>
<p>While this example above is a bit contrived, there are many realistic
cases where these changes make it easier to write safe code:</p>
</li>
</ul>
</section>
<section id="user-facing-improvements">
<h2>User-facing improvements<a class="headerlink" href="#user-facing-improvements" title="Link to this heading">#</a></h2>
<ul>
<li><p>The new selection helpers <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> and <code class="docutils literal notranslate"><span class="pre">any_of()</span></code> are strict
variants of <code class="docutils literal notranslate"><span class="pre">one_of()</span></code>. The former always fails if some variables
are unknown, while the latter does not. <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> is safer to use
when you expect all selected variables to exist. <code class="docutils literal notranslate"><span class="pre">any_of()</span></code> is
useful in other cases, for instance to ensure variables are selected
out:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">vars</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s2">&quot;Species&quot;</span><span class="p">,</span> <span class="s2">&quot;Genus&quot;</span><span class="p">)</span>
<span class="n">iris</span> <span class="o">%&gt;%</span> <span class="n">dplyr</span><span class="p">::</span><span class="n">select</span><span class="p">(</span><span class="o">-</span><span class="n">any_of</span><span class="p">(</span><span class="nb">vars</span><span class="p">))</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> and <code class="docutils literal notranslate"><span class="pre">any_of()</span></code> are a bit more conservative in
their function signature than <code class="docutils literal notranslate"><span class="pre">one_of()</span></code>: they do not accept dots.
The equivalent of <code class="docutils literal notranslate"><span class="pre">one_of(&quot;a&quot;,</span> <span class="pre">&quot;b&quot;)</span></code> is <code class="docutils literal notranslate"><span class="pre">all_of(c(&quot;a&quot;,</span> <span class="pre">&quot;b&quot;))</span></code>.</p>
</li>
<li><p>Selection helpers like <code class="docutils literal notranslate"><span class="pre">all_of()</span></code> and <code class="docutils literal notranslate"><span class="pre">starts_with()</span></code> are now
available in all selection contexts, even when they haven’t been
attached to the search path. The most visible consequence of this
change is that it is now easier to use selection functions without
attaching the host package:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Before</span>
<span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">mtcars</span><span class="p">,</span><span class="w"> </span><span class="n">dplyr</span><span class="o">::</span><span class="nf">starts_with</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">))</span>

<span class="c1"># After</span>
<span class="n">dplyr</span><span class="o">::</span><span class="nf">select</span><span class="p">(</span><span class="n">mtcars</span><span class="p">,</span><span class="w"> </span><span class="nf">starts_with</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>It is still recommended to export the helpers from your package so
that users can easily look up the documentation with <code class="docutils literal notranslate"><span class="pre">?</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">starts_with()</span></code>, <code class="docutils literal notranslate"><span class="pre">ends_with()</span></code>, <code class="docutils literal notranslate"><span class="pre">contains()</span></code>, and <code class="docutils literal notranslate"><span class="pre">matches()</span></code> now
accept vector inputs (#50). For instance these are now equivalent
ways of selecting all variables that start with either <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;b&quot;</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matches()</span></code> has new argument <code class="docutils literal notranslate"><span class="pre">perl</span></code> to allow for Perl-like regular
expressions (&#64;fmichonneau, #71)</p></li>
<li><p>Better support for selecting with S3 vectors. For instance, factors
are treated as characters.</p></li>
</ul>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Link to this heading">#</a></h2>
<p>New <code class="docutils literal notranslate"><span class="pre">eval_select()</span></code> and <code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code> functions for client
packages. These replace <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> and <code class="docutils literal notranslate"><span class="pre">vars_rename()</span></code>, which are
now deprecated. These functions:</p>
<ul class="simple">
<li><p>Take the full data rather than just names. This makes it possible to
use function predicates in selection context.</p></li>
<li><p>Return a numeric vector of locations rather than a vector of
names. This makes it possible to use tidyselect with inputs that
support duplicate names, like regular vectors.</p></li>
</ul>
</section>
<section id="other-features-and-fixes">
<h2>Other features and fixes<a class="headerlink" href="#other-features-and-fixes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">.strict</span></code> argument of <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> now works more robustly
and consistently.</p></li>
<li><p>Using arithmetic operators in selection context now fails more
informatively (#84).</p></li>
<li><p>It is now possible to select columns in data frames containing
duplicate variables (#94). However, the duplicates can’t be part of
the final selection.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code> no longer ignore the names of unquoted character
vectors of length 1 (#79).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code> now fails when a variable is renamed to an existing
name (#70).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code> has better support for existing duplicates (but
creating new duplicates is an error).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval_select()</span></code>, <code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code> and <code class="docutils literal notranslate"><span class="pre">vars_pull()</span></code> now detect
missing values uniformly (#72).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_pull()</span></code> now includes the faulty expression in error messages.</p></li>
<li><p>The performance issues of <code class="docutils literal notranslate"><span class="pre">eval_rename()</span></code> with many arguments have
been fixed. This make <code class="docutils literal notranslate"><span class="pre">dplyr::rename_all()</span></code> with many columns much
faster (&#64;zkamvar, #92).</p></li>
<li><p>tidyselect is now much faster with many columns, thanks to a
performance fix in <code class="docutils literal notranslate"><span class="pre">rlang::env_bind()</span></code> as well as internal fixes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> ignores vectors with only zeros (#82).</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tidyselect-0-2-5">
<h1>tidyselect 0.2.5<a class="headerlink" href="#tidyselect-0-2-5" title="Link to this heading">#</a></h1>
<p>This is a maintenance release for compatibility with rlang 0.3.0.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tidyselect-0-2-4">
<h1>tidyselect 0.2.4<a class="headerlink" href="#tidyselect-0-2-4" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fixed a warning that occurred when a vector of column positions was
supplied to <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> or functions depending on it such as
<code class="docutils literal notranslate"><span class="pre">tidyr::gather()</span></code> (#43 and tidyverse/tidyr#374).</p></li>
<li><p>Fixed compatibility issue with rlang 0.2.0 (#51).</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tidyselect-0-2-3">
<h1>tidyselect 0.2.3<a class="headerlink" href="#tidyselect-0-2-3" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Internal fixes in prevision of using <code class="docutils literal notranslate"><span class="pre">tidyselect</span></code> within <code class="docutils literal notranslate"><span class="pre">dplyr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> and <code class="docutils literal notranslate"><span class="pre">vars_rename()</span></code> now correctly support unquoting
character vectors that have names.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> now ignores missing variables.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tidyselect-0-2-2">
<h1>tidyselect 0.2.2<a class="headerlink" href="#tidyselect-0-2-2" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr</span></code> is now correctly mentioned as suggested package.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tidyselect-0-2-1">
<h1>tidyselect 0.2.1<a class="headerlink" href="#tidyselect-0-2-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-</span></code> now supports character vectors in addition to strings. This
makes it easy to unquote column names to exclude from the set:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">last_col()</span></code> now issues an error when the variable vector is empty.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">last_col()</span></code> now returns column positions rather than column names
for consistency with other helpers. This also makes it compatible
with functions like <code class="docutils literal notranslate"><span class="pre">seq()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c()</span></code> now supports character vectors the same way as <code class="docutils literal notranslate"><span class="pre">-</span></code> and <code class="docutils literal notranslate"><span class="pre">seq()</span></code>.
(#37 &#64;gergness)</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tidyselect-0-2-0">
<h1>tidyselect 0.2.0<a class="headerlink" href="#tidyselect-0-2-0" title="Link to this heading">#</a></h1>
<p>The main point of this release is to revert a troublesome behaviour
introduced in tidyselect 0.1.0. It also includes a few features.</p>
<section id="evaluation-rules">
<h2>Evaluation rules<a class="headerlink" href="#evaluation-rules" title="Link to this heading">#</a></h2>
<p>The special evaluation semantics for selection have been changed
back to the old behaviour because the new rules were causing too
much trouble and confusion. From now on data expressions (symbols
and calls to <code class="docutils literal notranslate"><span class="pre">:</span></code> and <code class="docutils literal notranslate"><span class="pre">c()</span></code>) can refer to both registered variables
and to objects from the context.</p>
<p>However the semantics for context expressions (any calls other than
to <code class="docutils literal notranslate"><span class="pre">:</span></code> and <code class="docutils literal notranslate"><span class="pre">c()</span></code>) remain the same. Those expressions are evaluated
in the context only and cannot refer to registered variables.</p>
<p>If you’re writing functions and refer to contextual objects, it is
still a good idea to avoid data expressions. Since registered
variables are change as a function of user input and you never know
if your local objects might be shadowed by a variable. Consider:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">&lt;-</span> <span class="mi">2</span>
<span class="n">vars_select</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>Should that select up to the second element of <code class="docutils literal notranslate"><span class="pre">letters</span></code> or up to
the 14th? Since the variables have precedence in a data expression,
this will select the 14 first letters. This can be made more robust
by turning the data expression into a context expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vars_select</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="n">seq</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<p>You can also use quasiquotation since unquoted arguments are
guaranteed to be evaluated without any user data in scope. While
equivalent because of the special rules for context expressions,
this may be clearer to the reader accustomed to tidy eval:</p>
<p>Finally, you may want to be more explicit in the opposite direction.
If you expect a variable to be found in the data but not in the
context, you can use the <code class="docutils literal notranslate"><span class="pre">.data</span></code> pronoun:</p>
</section>
<section id="id1">
<h2>New features<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>The new select helper <code class="docutils literal notranslate"><span class="pre">last_col()</span></code> is helpful to select over a
custom range: <code class="docutils literal notranslate"><span class="pre">vars_select(vars,</span> <span class="pre">3:last_col())</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">:</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code> now handle strings as well. This makes it easy to
unquote a column name: <code class="docutils literal notranslate"><span class="pre">(!!name)</span> <span class="pre">:</span> <span class="pre">last_col()</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span> <span class="pre">!!name</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> gains a <code class="docutils literal notranslate"><span class="pre">.strict</span></code> argument similar to
<code class="docutils literal notranslate"><span class="pre">rename_vars()</span></code>.  If set to <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>, errors about unknown variables
are ignored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> now treats <code class="docutils literal notranslate"><span class="pre">NULL</span></code> as empty inputs. This follows a
trend in the tidyverse tools.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_rename()</span></code> now handles variable positions (integers or round
doubles) just like <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> (#20).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars_rename()</span></code> is now implemented with the tidy eval framework.
Like <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code>, expressions are evaluated without any user
data in scope. In addition a variable context is now established so
you can write rename helpers. Those should return a single round
number or a string (variable position or variable name).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_vars()</span></code> is a predicate that tests whether a variable context
has been set (#21).</p></li>
<li><p>The selection helpers are now exported in a list
<code class="docutils literal notranslate"><span class="pre">vars_select_helpers</span></code>.  This is intended for APIs that embed the
helpers in the evaluation environment.</p></li>
</ul>
</section>
<section id="fixes">
<h2>Fixes<a class="headerlink" href="#fixes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">one_of()</span></code> argument <code class="docutils literal notranslate"><span class="pre">vars</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">.vars</span></code> to avoid
spurious matching.</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tidyselect-0-1-1">
<h1>tidyselect 0.1.1<a class="headerlink" href="#tidyselect-0-1-1" title="Link to this heading">#</a></h1>
<p>tidyselect is the new home for the legacy functions
<code class="docutils literal notranslate"><span class="pre">dplyr::select_vars()</span></code>, <code class="docutils literal notranslate"><span class="pre">dplyr::rename_vars()</span></code> and
<code class="docutils literal notranslate"><span class="pre">dplyr::select_var()</span></code>.</p>
<section id="api-changes">
<h2>API changes<a class="headerlink" href="#api-changes" title="Link to this heading">#</a></h2>
<p>We took this opportunity to make a few changes to the API:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">select_vars()</span></code> and <code class="docutils literal notranslate"><span class="pre">rename_vars()</span></code> are now <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code> and
<code class="docutils literal notranslate"><span class="pre">vars_rename()</span></code>. This follows the tidyverse convention that a prefix
corresponds to the input type while suffixes indicate the output
type. Similarly, <code class="docutils literal notranslate"><span class="pre">select_var()</span></code> is now <code class="docutils literal notranslate"><span class="pre">vars_pull()</span></code>.</p></li>
<li><p>The arguments are now prefixed with dots to limit argument matching
issues. While the dots help, it is still a good idea to splice a
list of captured quosures to make sure dotted arguments are never
matched to <code class="docutils literal notranslate"><span class="pre">vars_select()</span></code>’s named arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>vars_select(vars, !!! quos(...))
</pre></div>
</div>
</li>
<li><p>Error messages can now be customised. For consistency with dplyr,
error messages refer to “columns” by default. This assumes that the
variables being selected come from a data frame. If this is not
appropriate for your DSL, you can now add an attribute <code class="docutils literal notranslate"><span class="pre">vars_type</span></code>
to the <code class="docutils literal notranslate"><span class="pre">.vars</span></code> vector to specify alternative names. This must be a
character vector of length 2 whose first component is the singular
form and the second is the plural. For example, <code class="docutils literal notranslate"><span class="pre">c(&quot;variable&quot;,</span> <span class="pre">&quot;variables&quot;)</span></code>.</p></li>
</ul>
</section>
<section id="establishing-a-variable-context">
<h2>Establishing a variable context<a class="headerlink" href="#establishing-a-variable-context" title="Link to this heading">#</a></h2>
<p>tidyselect provides a few more ways of establishing a variable
context:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">scoped_vars()</span></code> sets up a variable context along with an an exit
hook that automatically restores the previous variables. It is the
preferred way of changing the variable context.</p>
<p><code class="docutils literal notranslate"><span class="pre">with_vars()</span></code> takes variables and an expression and evaluates the
latter in the context of the former.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">poke_vars()</span></code> establishes a new variable context. It returns the
previous context invisibly and it is your responsibility to restore
it after you are done. This is for expert use only.</p>
<p><code class="docutils literal notranslate"><span class="pre">current_vars()</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">peek_vars()</span></code>. This naming is a
reference to <a class="reference external" href="https://en.wikipedia.org/wiki/PEEK_and_POKE">peek and poke</a>
from legacy languages.</p>
</li>
</ul>
</section>
<section id="new-evaluation-semantics">
<h2>New evaluation semantics<a class="headerlink" href="#new-evaluation-semantics" title="Link to this heading">#</a></h2>
<p>The evaluation semantics for selecting verbs have changed. Symbols are
now evaluated in a data-only context that is isolated from the calling
environment. This means that you can no longer refer to local variables
unless you are explicitly unquoting these variables with <code class="docutils literal notranslate"><span class="pre">!!</span></code>, which
is mostly for expert use.</p>
<p>Note that since dplyr 0.7, helper calls (like <code class="docutils literal notranslate"><span class="pre">starts_with()</span></code>) obey
the opposite behaviour and are evaluated in the calling context
isolated from the data context. To sum up, symbols can only refer to
data frame objects, while helpers can only refer to contextual
objects. This differs from usual R evaluation semantics where both
the data and the calling environment are in scope (with the former
prevailing over the latter).</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./renv\library\windows\R-4.4\x86_64-w64-mingw32\tidyselect"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">tidyselect 1.2.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-1-2-0">tidyselect 1.2.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-features">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lifecycle-changes">Lifecycle changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minor-improvements-and-bug-fixes">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-1-1-2">tidyselect 1.1.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-1-1-1">tidyselect 1.1.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-1-1-0">tidyselect 1.1.0</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-1-0-0">tidyselect 1.0.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation">Documentation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#breaking-changes">Breaking changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#syntax">Syntax</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#user-facing-improvements">User-facing improvements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#api">API</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-features-and-fixes">Other features and fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-2-5">tidyselect 0.2.5</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-2-4">tidyselect 0.2.4</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-2-3">tidyselect 0.2.3</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-2-2">tidyselect 0.2.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-2-1">tidyselect 0.2.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-2-0">tidyselect 0.2.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluation-rules">Evaluation rules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fixes">Fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tidyselect-0-1-1">tidyselect 0.1.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#api-changes">API changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#establishing-a-variable-context">Establishing a variable context</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-evaluation-semantics">New evaluation semantics</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Brittany Cummings
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>