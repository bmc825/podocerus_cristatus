
<!DOCTYPE html>


<html lang="en" data-content_root="../../../../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>dbplyr 2.5.0 &#8212; Chapter 3 Data Analysis</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'renv/library/windows/R-4.4/x86_64-w64-mingw32/dbplyr/NEWS';</script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../../../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../../../../_static/Podocerus_bw.png" class="logo__image only-light" alt="Chapter 3 Data Analysis - Home"/>
    <img src="../../../../../../_static/Podocerus_bw.png" class="logo__image only-dark pst-js-only" alt="Chapter 3 Data Analysis - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../../../../intro.html">
                    Data Analysis of P. cristatus
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../scripts/Load_Packages.html">Load Packages</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../01_Population/01_intro.html">Question 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../01_Population/01_data_cleaning.html">Data Cleaning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../01_Population/Clustering.html">Cluster Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../01_Population/Population_structure.html">Population Structure Analysis</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../02_Occurrence/02_intro.html">Question 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/02_data_cleaning.html">Data Cleaning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/Model_1.html">Model 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/Model_2.html">Model 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/Model_3.html">Model 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/Model_exp.html">Substrate Experiment Model</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../03_Camouflage/03_intro.html">Question 3</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../03_Camouflage/03_data_cleaning.html">Data Cleaning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../03_Camouflage/Model_4.html">Model 4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../03_Camouflage/Model_5.html">Model 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../03_Camouflage/Model_6.html">Model 6</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../04_Phylogenetic/04_intro.html">Question 4</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../04_Phylogenetic/Geneious_protocol.html">Geneious Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../04_Phylogenetic/Phylogenetic_analysis.html">Phylogenetic Analysis</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../../../../_sources/renv/library/windows/R-4.4/x86_64-w64-mingw32/dbplyr/NEWS.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>dbplyr 2.5.0</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">dbplyr 2.5.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#improved-tools-for-qualified-table-names">Improved tools for qualified table names</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#improved-sql">Improved SQL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minor-improvements-and-bug-fixes">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-4-0">dbplyr 2.4.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#breaking-changes">Breaking changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Improved SQL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Minor improvements and bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backend-specific-improvements">Backend specific improvements</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-3-4">dbplyr 2.3.4</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-3-3">dbplyr 2.3.3</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-3-2">dbplyr 2.3.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-3-1">dbplyr 2.3.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Breaking changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#improved-error-messages">Improved error messages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bug-fixes-in-sql-generation">Bug fixes in SQL generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-3-0">dbplyr 2.3.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-features">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sql-optimisation">SQL optimisation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Improved error messages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Minor improvements and bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Backend specific improvements</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-2-1">dbplyr 2.2.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-2-0">dbplyr 2.2.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#improvements-to-sql-generation">Improvements to SQL generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-1-1">dbplyr 2.1.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-1-0">dbplyr 2.1.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sql-translation">SQL translation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-0-0">dbplyr 2.0.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dplyr-1-0-0-compatibility">dplyr 1.0.0 compatibility</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sql-generation">SQL generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">SQL translation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extensibility">Extensibility</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-4-4">dbplyr 1.4.4</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-4-3">dbplyr 1.4.3</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-4-2">dbplyr 1.4.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-4-1">dbplyr 1.4.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-4-0">dbplyr 1.4.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Breaking changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sql-translations">SQL translations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sql-simulation">SQL simulation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#database-specific-improvements">Database specific improvements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-3-0">dbplyr 1.3.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#api-changes">API changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">SQL translation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-2-2">dbplyr 1.2.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-2-1">dbplyr 1.2.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-2-0">dbplyr 1.2.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-top-level-translations">New top-level translations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tools-for-developers">Tools for developers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">Minor improvements and bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">Database specific improvements</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-1-0">dbplyr 1.1.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-0-0">dbplyr 1.0.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecated-and-defunct">Deprecated and defunct</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#verb-level-sql-generation">Verb-level SQL generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vector-level-sql-generation">Vector-level SQL generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backends">Backends</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minor-bug-fixes-and-improvements">Minor bug fixes and improvements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lazy-ops">Lazy ops</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="dbplyr-2-5-0">
<h1>dbplyr 2.5.0<a class="headerlink" href="#dbplyr-2-5-0" title="Link to this heading">#</a></h1>
<section id="improved-tools-for-qualified-table-names">
<h2>Improved tools for qualified table names<a class="headerlink" href="#improved-tools-for-qualified-table-names" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Specification of table names with schema/catalogs has been overhauled to
make it simpler. This includes the following features and fixes:</p>
<ul>
<li><p>The simplest way to refer to a qualified table is now to wrap it in
<code class="docutils literal notranslate"><span class="pre">I()</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">I(&quot;schema_name.table_name&quot;)</span></code>.</p></li>
<li><p>Use of <code class="docutils literal notranslate"><span class="pre">sql()</span></code> and <code class="docutils literal notranslate"><span class="pre">ident_q()</span></code> inside <code class="docutils literal notranslate"><span class="pre">in_catalog()</span></code> and <code class="docutils literal notranslate"><span class="pre">in_schema()</span></code>
is once again supported (#1388).</p></li>
<li><p>It’s ok to use <code class="docutils literal notranslate"><span class="pre">ident_q()</span></code> once again (#1413) and you should no longer
see unsuppressable warnings about using <code class="docutils literal notranslate"><span class="pre">in_schema()</span></code> (#1408).</p></li>
<li><p>The names of the arguments to <code class="docutils literal notranslate"><span class="pre">Id()</span></code> no longer matter, only their order
(#1416). Additionally, thanks to changes to the DBI package, you no
longer need to name each argument.</p></li>
<li><p>If you accidentally pass a named vector to any of the database identifer
functions, those names will be automatically stripped (#1404).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tbl_sql(check_from)</span></code> is now deprecated.</p></li>
</ul>
</li>
<li><p>dbplyr now exports some tools to work with the internal <code class="docutils literal notranslate"><span class="pre">table_path</span></code> class
which is useful for certain backends that need to work with this
data structure (#1300).</p></li>
</ul>
</section>
<section id="improved-sql">
<h2>Improved SQL<a class="headerlink" href="#improved-sql" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>New translations for clock functions <code class="docutils literal notranslate"><span class="pre">add_years()</span></code>, <code class="docutils literal notranslate"><span class="pre">add_days()</span></code>,
<code class="docutils literal notranslate"><span class="pre">date_build()</span></code>, <code class="docutils literal notranslate"><span class="pre">get_year()</span></code>, <code class="docutils literal notranslate"><span class="pre">get_month()</span></code>, <code class="docutils literal notranslate"><span class="pre">get_day()</span></code>,
and <code class="docutils literal notranslate"><span class="pre">base::difftime()</span></code> on SQL server, Redshift, Snowflake, and Postgres.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">select()</span></code> will keep computed columns used to <code class="docutils literal notranslate"><span class="pre">arrange()</span></code> subqueries that are
eliminated by a subsequent select (&#64;ejneer, #1437).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">semi_join()</span></code> will no longer inline away an aggregate filter (i.e. <code class="docutils literal notranslate"><span class="pre">HAVING</span></code>
clause) that was followed by a <code class="docutils literal notranslate"><span class="pre">select()</span></code> (&#64;ejneer, #1474)</p></li>
<li><p>Improved function translations:</p>
<ul>
<li><p>Functions qualified with the base namespace are now also translated, e.g.
<code class="docutils literal notranslate"><span class="pre">base::paste0(x,</span> <span class="pre">&quot;_1&quot;)</span></code> is now translated (&#64;mgirlich, #1022).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-1</span> <span class="pre">+</span> <span class="pre">x</span></code> now generates a translation instead erroring (#1420).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x$name</span></code> never attempts to evaluate <code class="docutils literal notranslate"><span class="pre">name</span></code> (#1368).</p></li>
<li><p>You can once again use <code class="docutils literal notranslate"><span class="pre">NULL</span></code> on the LHS of an infix operator in order
to generate SQL with unusual syntax (#1345).</p></li>
<li><p>Namespaced calls now error if the function doesn’t exist, or a translation
is not available (#1426).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lead()</span></code> translation coerces <code class="docutils literal notranslate"><span class="pre">n</span></code> to an integer.</p></li>
</ul>
</li>
<li><p>Databricks: now supports creating non-temporary tables too (#1418).</p></li>
<li><p>Oracle:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">db_explain()</span></code> now works (&#64;thomashulst, #1353).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">as.Date()</span></code> works when applied to a string (#1389).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">head()</span></code> is once again translated to <code class="docutils literal notranslate"><span class="pre">FETCH</span> <span class="pre">FIRST</span></code>. This does require Oracle
12c or newer, but it actually works, compared to the approach using
<code class="docutils literal notranslate"><span class="pre">ROWNUM</span></code> from #1292 (#1436).</p></li>
<li><p>Added support for <code class="docutils literal notranslate"><span class="pre">str_replace()</span></code> and <code class="docutils literal notranslate"><span class="pre">str_replace_all()</span></code> via
<code class="docutils literal notranslate"><span class="pre">REGEXP_REPLACE()</span></code> (&#64;thomashulst, #1402).</p></li>
</ul>
</li>
<li><p>Snowflake (&#64;nathanhaigh, #1406)</p>
<ul>
<li><p>Added support for <code class="docutils literal notranslate"><span class="pre">str_starts()</span></code> and <code class="docutils literal notranslate"><span class="pre">str_ends()</span></code> via <code class="docutils literal notranslate"><span class="pre">REGEXP_INSTR()</span></code></p></li>
<li><p>Refactored <code class="docutils literal notranslate"><span class="pre">str_detect()</span></code> to use <code class="docutils literal notranslate"><span class="pre">REGEXP_INSTR()</span></code> so now supports
regular expressions.</p></li>
<li><p>Refactored <code class="docutils literal notranslate"><span class="pre">grepl()</span></code> to use <code class="docutils literal notranslate"><span class="pre">REGEXP_INSTR()</span></code> so now supports
case-insensitive matching through <code class="docutils literal notranslate"><span class="pre">grepl(...,</span> <span class="pre">ignore.case</span> <span class="pre">=</span> <span class="pre">TRUE)</span></code></p></li>
</ul>
</li>
<li><p>SQL server:</p>
<ul>
<li><p>Now products a clear error if you attempt to use <code class="docutils literal notranslate"><span class="pre">n_distinct()</span></code> in
<code class="docutils literal notranslate"><span class="pre">mutate()</span></code> or <code class="docutils literal notranslate"><span class="pre">filter()</span></code> (#1366).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">filter()</span></code> does a better job of converting logical vectors
from bit to boolean (&#64;ejneer, #1288).</p></li>
</ul>
</li>
<li><p>MySQL: <code class="docutils literal notranslate"><span class="pre">as.integer()</span></code> gets correct translation (&#64;krlmlr, #1375).</p></li>
</ul>
</section>
<section id="minor-improvements-and-bug-fixes">
<h2>Minor improvements and bug fixes<a class="headerlink" href="#minor-improvements-and-bug-fixes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Deprecation status of functions deprecated in previous versions (at least
2 years old) have been advanced. In particular, <code class="docutils literal notranslate"><span class="pre">src_sql()</span></code> is now defunct,
as is the use of <code class="docutils literal notranslate"><span class="pre">partial_eval()</span></code> with character <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p></li>
<li><p>Database errors now show the generated SQL, which hopefully will make it
faster to track down problems (#1401).</p></li>
<li><p>When dbplyr creates an index on a table in a schema (e.g. <code class="docutils literal notranslate"><span class="pre">schema.table</span></code>),
it now only includes the table name in the index name, not the schema name.</p></li>
<li><p>The class of remote sources now includes all S4 class names, not just
the first (#918).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compute()</span></code> passes additional arguments all the way to
<code class="docutils literal notranslate"><span class="pre">sql_query_save()</span></code>-methods (&#64;rsund).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db_sql_render()</span></code> correctly passes on <code class="docutils literal notranslate"><span class="pre">...</span></code> when re-calling with
<code class="docutils literal notranslate"><span class="pre">sql_options</span></code> set (#1394).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reframe()</span></code> now gives an informative error that it isn’t supported (#1148).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rows_patch(in_place</span> <span class="pre">=</span> <span class="pre">FALSE)</span></code> now works when more than one column should be
patched (&#64;gorcha, #1443).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">simulate_mariadb()</span></code> (&#64;krlmlr, #1375).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_translator()</span></code> now checks for duplicated definitions (&#64;krlmlr, #1374).</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-2-4-0">
<h1>dbplyr 2.4.0<a class="headerlink" href="#dbplyr-2-4-0" title="Link to this heading">#</a></h1>
<section id="breaking-changes">
<h2>Breaking changes<a class="headerlink" href="#breaking-changes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Using <code class="docutils literal notranslate"><span class="pre">compute(temporary</span> <span class="pre">=</span> <span class="pre">FALSE)</span></code> without providing a name is now
deprecated (&#64;mgirlich, #1154).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ntile()</span></code>’s first argument has been renamed from <code class="docutils literal notranslate"><span class="pre">order_by</span></code> to <code class="docutils literal notranslate"><span class="pre">x</span></code> to
match the interface of <code class="docutils literal notranslate"><span class="pre">dplyr::ntile()</span></code> (&#64;mgirlich, #1242).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">simulate_vars()</span></code> and <code class="docutils literal notranslate"><span class="pre">simulate_vars_is_typed()</span></code> were removed as they weren’t
used and tidyselect now offers <code class="docutils literal notranslate"><span class="pre">tidyselect_data_proxy()</span></code> and
<code class="docutils literal notranslate"><span class="pre">tidyselect_data_has_predicates()</span></code> (&#64;mgirllich, #1199).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_not_supported()</span></code> now expects a function name without parentheses.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_query_append()</span></code>, <code class="docutils literal notranslate"><span class="pre">sql_query_insert()</span></code>, <code class="docutils literal notranslate"><span class="pre">sql_query_update()</span></code>,
<code class="docutils literal notranslate"><span class="pre">sql_query_upsert()</span></code>, and <code class="docutils literal notranslate"><span class="pre">sql_query_delete()</span></code> changed their arguments to
make them more consistent to the other <code class="docutils literal notranslate"><span class="pre">sql_query_*()</span></code> functions:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">x_name</span></code> was renamed to <code class="docutils literal notranslate"><span class="pre">table</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code> was renamed to <code class="docutils literal notranslate"><span class="pre">from</span></code> and must now be a table identifier or SQL instead
of a lazy table.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_query_append()</span></code> and <code class="docutils literal notranslate"><span class="pre">sql_query_insert()</span></code> have gained the argument <code class="docutils literal notranslate"><span class="pre">cols</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">remote_name()</span></code> now returns a string with the name of the table. To get the
qualified identifier use the newly added <code class="docutils literal notranslate"><span class="pre">remote_table()</span></code> (&#64;mgirlich, #1280).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tbl_lazy()</span></code> loses <code class="docutils literal notranslate"><span class="pre">src</span></code> argument after it has been deprecated for years
(&#64;mgirlich, #1208).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">translate_sql()</span></code> now requires the <code class="docutils literal notranslate"><span class="pre">con</span></code> argument (&#64;mgirlich, #1311).
The <code class="docutils literal notranslate"><span class="pre">vars</span></code> argument has been removed after it threw an error for the last 7
years (&#64;mgirlich).</p></li>
</ul>
</section>
<section id="id1">
<h2>Improved SQL<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Preliminary databricks Spark SQL backend (#1377).</p></li>
<li><p>Joins</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">*_join()</span></code> after <code class="docutils literal notranslate"><span class="pre">full_join()</span></code> works again (&#64;mgirlich, #1178).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*_join()</span></code> now allows specifying the relationship argument. It must be
<code class="docutils literal notranslate"><span class="pre">NULL</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;many-to-many&quot;</span></code> (&#64;bairdj, #1305).</p></li>
<li><p>Queries now qualify <code class="docutils literal notranslate"><span class="pre">*</span></code> with the table alias for better compatibility
(&#64;mgirlich, #1003).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">full_join()</span></code> can now handle column names that only differ in case
(&#64;ejneer, #1255).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">na_matches</span></code> argument of <code class="docutils literal notranslate"><span class="pre">semi_join()</span></code> and <code class="docutils literal notranslate"><span class="pre">anti_join()</span></code> works again
(&#64;mgirlich, #1211).</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">semi/anti_join()</span></code> on fitlered <code class="docutils literal notranslate"><span class="pre">y</span></code> is inlined when possible (&#64;mgirlich, #884).</p></li>
<li><p>Joins now work again for Pool and Oracle connections (&#64;mgirlich, #1177, #1181).</p></li>
</ul>
</li>
<li><p>A sequence of <code class="docutils literal notranslate"><span class="pre">union()</span></code> resp. <code class="docutils literal notranslate"><span class="pre">union_all()</span></code> now produces a flat query
instead of subqueries (&#64;mgirlich, #1269).</p></li>
<li><p>Added translations for:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">nzchar()</span></code> (&#64;MichaelChirico, &#64;mgirlich, #1094).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str_detect()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_starts()</span></code> and <code class="docutils literal notranslate"><span class="pre">str_ends()</span></code> with fixed patterns
(&#64;mgirlich, #1009).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">runif()</span></code> (&#64;mgirlich, #1200).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">if_any()</span></code> and <code class="docutils literal notranslate"><span class="pre">if_all()</span></code> translations are now wrapped in parentheses.
This makes sure it can be combined via <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> with other conditions
(&#64;mgirlich, #1153).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nth()</span></code>, <code class="docutils literal notranslate"><span class="pre">first()</span></code>, and <code class="docutils literal notranslate"><span class="pre">last()</span></code> now support the <code class="docutils literal notranslate"><span class="pre">na_rm</span></code> argument
(&#64;mgirlich, #1193).</p></li>
</ul>
</section>
<section id="id2">
<h2>Minor improvements and bug fixes<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">across()</span></code> now supports namespaced functions, e.g.
<code class="docutils literal notranslate"><span class="pre">across(x,</span> <span class="pre">dplyr::dense_rank)</span></code> (&#64;mgirlich, #1231).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db_copy_to(overwrite</span> <span class="pre">=</span> <span class="pre">TRUE)</span></code> now actually works.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db_copy_to()</span></code>’s <code class="docutils literal notranslate"><span class="pre">...</span></code> are now passed to <code class="docutils literal notranslate"><span class="pre">db_write_table()</span></code> (&#64;mgirlich, #1237).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">db_supports_table_alias_with_as()</span></code> to customise whether a backend
supports specifying a table alias with <code class="docutils literal notranslate"><span class="pre">AS</span></code> or not (&#64;mgirlich).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db_write_table()</span></code> and <code class="docutils literal notranslate"><span class="pre">db_save_query()</span></code> gain the <code class="docutils literal notranslate"><span class="pre">overwrite</span></code> argument.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dbplyr_pivot_wider_spec()</span></code> is now exported. Unlike <code class="docutils literal notranslate"><span class="pre">pivot_wider()</span></code> this can
be lazy. Note that this will be removed soon after <code class="docutils literal notranslate"><span class="pre">pivot_wider_spec()</span></code>
becomes a generic (&#64;mgirlich).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">filter()</span></code>ing with window functions now generates columns called <code class="docutils literal notranslate"><span class="pre">col01</span></code>
rather than <code class="docutils literal notranslate"><span class="pre">q01</span></code> (&#64;mgirlich, #1258).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pivot_wider()</span></code> now matches tidyr <code class="docutils literal notranslate"><span class="pre">NA</span></code> column handling (&#64;ejneer #1238).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">select()</span></code> can once again be used after <code class="docutils literal notranslate"><span class="pre">arrange(desc(x))</span></code> (&#64;ejneer, #1240).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">show_query()</span></code> and <code class="docutils literal notranslate"><span class="pre">remote_query()</span></code> gain the argument <code class="docutils literal notranslate"><span class="pre">sql_options</span></code> that allows
to control how the SQL is generated. It can be created via <code class="docutils literal notranslate"><span class="pre">sql_options()</span></code>
which has the following arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cte</span></code>: use common table expressions?</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">use_star</span></code>: use <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span></code> or explicitly select every column?</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qualify_all_columns</span></code>: qualify all columns in a join or only the ambiguous ones?
(&#64;mgirlich, #1146).</p></li>
</ul>
<p>Consequently the <code class="docutils literal notranslate"><span class="pre">cte</span></code> argument of <code class="docutils literal notranslate"><span class="pre">show_query()</span></code> and <code class="docutils literal notranslate"><span class="pre">remote_query()</span></code> has
been deprecated (&#64;mgirlich, #1146).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">slice_min/max()</span></code> can now order by multiple variables like dplyr, e.g. use
<code class="docutils literal notranslate"><span class="pre">slice_min(lf,</span> <span class="pre">tibble(x,</span> <span class="pre">y))</span></code> (&#64;mgirlich, #1167).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slice_*()</span></code> now supports the data masking pronouns <code class="docutils literal notranslate"><span class="pre">.env</span></code> and <code class="docutils literal notranslate"><span class="pre">.data</span></code> (&#64;mgirlich, #1294).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_join_suffix()</span></code> gains the argument <code class="docutils literal notranslate"><span class="pre">suffix</span></code> so that methods can check
whether the suffix is valid for the backend (&#64;mgirlich).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_random()</span></code> is now deprecated. It was used to power <code class="docutils literal notranslate"><span class="pre">slice_sample()</span></code> which
is now done via the translation for <code class="docutils literal notranslate"><span class="pre">runif()</span></code> (&#64;mgirlich, #1200).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tbl()</span></code> now informs when the user probably forgot to wrap the table identifier
with <code class="docutils literal notranslate"><span class="pre">in_schema()</span></code> or <code class="docutils literal notranslate"><span class="pre">sql()</span></code> (&#64;mgirlich, #1287).</p></li>
</ul>
</section>
<section id="backend-specific-improvements">
<h2>Backend specific improvements<a class="headerlink" href="#backend-specific-improvements" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Access</p>
<ul>
<li><p>Added translation for <code class="docutils literal notranslate"><span class="pre">!=</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code> (&#64;erikvona, #1219).</p></li>
</ul>
</li>
<li><p>DuckDB</p>
<ul>
<li><p>now supports the <code class="docutils literal notranslate"><span class="pre">returning</span></code> argument of <code class="docutils literal notranslate"><span class="pre">rows_*()</span></code>.</p></li>
</ul>
</li>
<li><p>MySQL/MariaDB:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">rows_update()</span></code> and <code class="docutils literal notranslate"><span class="pre">rows_patch()</span></code> now give an informative error when the
unsupported <code class="docutils literal notranslate"><span class="pre">returning</span></code> argument is used (&#64;mgirlich, #1279).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rows_upsert()</span></code> now gives an informative error that it isn’t supported
(&#64;mgirlich, #1279).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rows_*()</span></code> use the column types of <code class="docutils literal notranslate"><span class="pre">x</span></code> when auto copying <code class="docutils literal notranslate"><span class="pre">y</span></code> (&#64;mgirlich, #1327).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy_inline()</span></code> now works (&#64;mgirlich, #1188).</p></li>
<li><p>Fix translation of <code class="docutils literal notranslate"><span class="pre">as.numeric()</span></code>, <code class="docutils literal notranslate"><span class="pre">as.POSIXct()</span></code>, <code class="docutils literal notranslate"><span class="pre">as_datetime()</span></code>, and
<code class="docutils literal notranslate"><span class="pre">as.integer64()</span></code> (&#64;avsdev-cw, #1189).</p></li>
</ul>
</li>
<li><p>MS SQL:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">row_number()</span></code> now works when no order is specified (&#64;ejneer, &#64;fh-mthomson, #1332)</p></li>
</ul>
</li>
<li><p>Oracle:</p>
<ul>
<li><p>Fix translation of <code class="docutils literal notranslate"><span class="pre">rows_upsert()</span></code> (&#64;mgirlich, &#64;TBlackmore, #1286)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">head(n)</span></code> is now translated to <code class="docutils literal notranslate"><span class="pre">WHERE</span> <span class="pre">ROWNUM</span> <span class="pre">&lt;=</span> <span class="pre">n</span></code> to also support old
versions &lt;= 11.2 (&#64;JeremyPasco, #1292).</p></li>
</ul>
</li>
<li><p>Postgres</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">rows_*()</span></code> functions now also work inside a transaction (&#64;mgirlich, #1183).</p></li>
</ul>
</li>
<li><p>SQLite</p>
<ul>
<li><p>Subqueries now also get an alias. This makes it consistent with other
backends and simplifies the implementation.</p></li>
</ul>
</li>
<li><p>SQL Server</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">distinct(.keep_all</span> <span class="pre">=</span> <span class="pre">TRUE)</span></code> now works (&#64;mgirlich, #1053).</p></li>
<li><p>The translation of <code class="docutils literal notranslate"><span class="pre">between()</span></code> now also works when used in <code class="docutils literal notranslate"><span class="pre">mutate()</span></code>
(&#64;mgirlich, #1241).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">any()</span></code> and <code class="docutils literal notranslate"><span class="pre">all()</span></code> now work (&#64;ejneer, #1273).</p></li>
<li><p>Fixed negation of bit (boolean) fields (&#64;ejneer, #1239)</p></li>
</ul>
</li>
<li><p>Snowflake:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">na.rm</span> <span class="pre">=</span> <span class="pre">TRUE</span></code> is now respected in <code class="docutils literal notranslate"><span class="pre">pmin()</span></code> and <code class="docutils literal notranslate"><span class="pre">pmax()</span></code> instead of being silently ignored (&#64;fh-mthomson, #1329)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">row_number()</span></code> now works when no order is specified (&#64;fh-mthomson, #1332)</p></li>
</ul>
</li>
<li><p>Teradata</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">distinct()</span></code> + <code class="docutils literal notranslate"><span class="pre">head()</span></code> now work (&#64;mgirlich, #685).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">as.Date(x)</span></code> is now translate to <code class="docutils literal notranslate"><span class="pre">CAST(x</span> <span class="pre">AS</span> <span class="pre">DATE)</span></code> again unless <code class="docutils literal notranslate"><span class="pre">x</span></code> is a
string (&#64;mgirlich, #1285).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">row_number()</span></code> no longer defaults to partitioning by groups (now aligned with other databases when no order is specified: <code class="docutils literal notranslate"><span class="pre">ROW_NUMBER()</span></code> defaults to <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span> <span class="pre">(SELECT</span> <span class="pre">NULL)</span></code>) (&#64;fh-mthomson, #1331)</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-2-3-4">
<h1>dbplyr 2.3.4<a class="headerlink" href="#dbplyr-2-3-4" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Hot patch release to resolve R CMD check failures.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-2-3-3">
<h1>dbplyr 2.3.3<a class="headerlink" href="#dbplyr-2-3-3" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Hot patch to fix R CMD check issues</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-2-3-2">
<h1>dbplyr 2.3.2<a class="headerlink" href="#dbplyr-2-3-2" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Hot patch to fix R CMD check issues</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-2-3-1">
<h1>dbplyr 2.3.1<a class="headerlink" href="#dbplyr-2-3-1" title="Link to this heading">#</a></h1>
<section id="id3">
<h2>Breaking changes<a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">window_order()</span></code> now only accepts bare symbols or symbols wrapped in <code class="docutils literal notranslate"><span class="pre">desc()</span></code>.
This breaking change is necessary to allow <code class="docutils literal notranslate"><span class="pre">select()</span></code> to drop and rename
variables used in <code class="docutils literal notranslate"><span class="pre">window_order()</span></code> (&#64;mgirlich, #1103).</p></li>
</ul>
</section>
<section id="improved-error-messages">
<h2>Improved error messages<a class="headerlink" href="#improved-error-messages" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">quantile()</span></code> and <code class="docutils literal notranslate"><span class="pre">median()</span></code> now error for SQL Server when used in <code class="docutils literal notranslate"><span class="pre">summarise()</span></code>
and for PostgreSQL when used in <code class="docutils literal notranslate"><span class="pre">mutate()</span></code> as they can’t be properly
translated (&#64;mgirlich, #1110).</p></li>
<li><p>Added an informative error for unsupported join arguments <code class="docutils literal notranslate"><span class="pre">unmatched</span></code> and
<code class="docutils literal notranslate"><span class="pre">multiple</span></code> (&#64;mgirlich).</p></li>
<li><p>Using predicates, e.g. <code class="docutils literal notranslate"><span class="pre">where(is.integer)</span></code>, in <code class="docutils literal notranslate"><span class="pre">across()</span></code> now produces an
error as they never worked anyway (&#64;mgirlich, #1169).</p></li>
<li><p>Catch unsupported argument <code class="docutils literal notranslate"><span class="pre">pivot_wider(id_expand</span> <span class="pre">=</span> <span class="pre">TRUE)</span></code> and
<code class="docutils literal notranslate"><span class="pre">pivot_longer(cols_vary)</span></code> (&#64;mgirlich, #1109).</p></li>
</ul>
</section>
<section id="bug-fixes-in-sql-generation">
<h2>Bug fixes in SQL generation<a class="headerlink" href="#bug-fixes-in-sql-generation" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Fixed an issue when using a window function after a <code class="docutils literal notranslate"><span class="pre">summarise()</span></code> and
<code class="docutils literal notranslate"><span class="pre">select()</span></code> (&#64;mgirlich, #1104).</p></li>
<li><p>Fixed an issue when there where at least 3 joins and renamed variables
(&#64;mgirlich, #1101).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mutate()</span></code> and <code class="docutils literal notranslate"><span class="pre">select()</span></code> after <code class="docutils literal notranslate"><span class="pre">distinct()</span></code> now again produce a subquery to
generate the correct translation (&#64;mgirlich, #1119, #1141).</p></li>
<li><p>Fixed an issue when using <code class="docutils literal notranslate"><span class="pre">filter()</span></code> on a summarised variable (&#64;mgirlich, #1128).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mutate()</span></code> + <code class="docutils literal notranslate"><span class="pre">filter()</span></code> now again produces a new query if the <code class="docutils literal notranslate"><span class="pre">mutate()</span></code>
uses a window function or SQL (&#64;mgirlich, #1135).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">across()</span></code> and <code class="docutils literal notranslate"><span class="pre">pick()</span></code> can be used (again) in <code class="docutils literal notranslate"><span class="pre">distinct()</span></code> (&#64;mgirlich, #1125).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">rows_*()</span></code> function work again for tables in a schema in PostgreSQL
(&#64;mgirlich, #1133).</p></li>
</ul>
</section>
<section id="id4">
<h2>Minor improvements and bug fixes<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">sql()</span></code> now evaluates its arguments locally also when used in <code class="docutils literal notranslate"><span class="pre">across()</span></code> (&#64;mgirlich, #1039).</p></li>
<li><p>The rank functions (<code class="docutils literal notranslate"><span class="pre">row_number()</span></code>, <code class="docutils literal notranslate"><span class="pre">min_rank()</span></code>, <code class="docutils literal notranslate"><span class="pre">rank()</span></code>, <code class="docutils literal notranslate"><span class="pre">dense_rank()</span></code>,
<code class="docutils literal notranslate"><span class="pre">percent_rank()</span></code>, and <code class="docutils literal notranslate"><span class="pre">cume_dist()</span></code>) now support multiple variables by
wrapping them in <code class="docutils literal notranslate"><span class="pre">tibble()</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">rank(tibble(x,</span> <span class="pre">y))</span></code> (&#64;mgirlich, #1118).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pull()</span></code> now supports the argument <code class="docutils literal notranslate"><span class="pre">name</span></code> (&#64;mgirlich, #1136).</p></li>
<li><p>Added support for <code class="docutils literal notranslate"><span class="pre">join_by()</span></code> added in dplyr 1.1.0 (&#64;mgirlich, #1074).</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">by</span> <span class="pre">=</span> <span class="pre">character()</span></code> to perform a cross join is now soft-deprecated in
favor of <code class="docutils literal notranslate"><span class="pre">cross_join()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">full_join()</span></code> and <code class="docutils literal notranslate"><span class="pre">right_join()</span></code> are now translated directly to <code class="docutils literal notranslate"><span class="pre">FULL</span> <span class="pre">JOIN</span></code>
and <code class="docutils literal notranslate"><span class="pre">RIGHT</span> <span class="pre">JOIN</span></code> for SQLite as native support was finally added (&#64;mgirlich, #1150).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">case_match()</span></code> now works with strings on the left hand side (&#64;mgirlich, #1143).</p></li>
<li><p>The rank functions (<code class="docutils literal notranslate"><span class="pre">row_number()</span></code>, <code class="docutils literal notranslate"><span class="pre">min_rank()</span></code>, <code class="docutils literal notranslate"><span class="pre">rank()</span></code>, <code class="docutils literal notranslate"><span class="pre">dense_rank()</span></code>,
<code class="docutils literal notranslate"><span class="pre">percent_rank()</span></code>, and <code class="docutils literal notranslate"><span class="pre">cume_dist()</span></code>) now work again for variables wrapped in
<code class="docutils literal notranslate"><span class="pre">desc()</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">row_number(desc(x))</span></code> (&#64;mgirlich, #1118).</p></li>
<li><p>Moved argument <code class="docutils literal notranslate"><span class="pre">auto_index</span></code> after <code class="docutils literal notranslate"><span class="pre">...</span></code> in <code class="docutils literal notranslate"><span class="pre">*_join()</span></code> (&#64;mgirlich, #1115).</p></li>
<li><p>Removed dependency on assertthat (&#64;mgirlich, #1112).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">across()</span></code> now uses the original value when a column is overridden to match
the behaviour of dplyr. For example <code class="docutils literal notranslate"><span class="pre">mutate(df,</span> <span class="pre">across(c(x,</span> <span class="pre">y),</span> <span class="pre">~</span> <span class="pre">.x</span> <span class="pre">/</span> <span class="pre">x))</span></code>
now produces</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SELECT `x` / `x` AS `x`, `y` / `x` AS `y`
FROM `df`
</pre></div>
</div>
<p>instead of</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SELECT `x`, `y` / `x` AS `y`
FROM (
  SELECT `x` / `x` AS `x`, `y`
  FROM `df`
) 
</pre></div>
</div>
<p>(&#64;mgirlich, #1015).</p>
</li>
<li><p>Restricted length of table aliases to avoid truncation on certain backends (e.g., Postgres) (&#64;fh-mthomson, #1096)</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-2-3-0">
<h1>dbplyr 2.3.0<a class="headerlink" href="#dbplyr-2-3-0" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Compatibility with purrr 1.0.0 (&#64;mgirlich, #1085).</p></li>
</ul>
<section id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stringr::str_like()</span></code> (new in 1.5.0) is translated to the closest <code class="docutils literal notranslate"><span class="pre">LIKE</span></code>
equivalent (&#64;rjpat, #509)</p></li>
<li><p>In preparation for dplyr 1.1.0:</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">.by</span></code> argument is supported (&#64;mgirlich, #1051).</p></li>
<li><p>Passing <code class="docutils literal notranslate"><span class="pre">...</span></code> to <code class="docutils literal notranslate"><span class="pre">across()</span></code> is deprecated because the evaluation timing
of <code class="docutils literal notranslate"><span class="pre">...</span></code> is ambiguous. Now instead of (e.g.)
<code class="docutils literal notranslate"><span class="pre">across(a:b,</span> <span class="pre">mean,</span> <span class="pre">na.rm</span> <span class="pre">=</span> <span class="pre">TRUE)</span></code> use  <code class="docutils literal notranslate"><span class="pre">across(a:b,</span> <span class="pre">\(x)</span> <span class="pre">mean(x,</span> <span class="pre">na.rm</span> <span class="pre">=</span> <span class="pre">TRUE)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pick()</span></code> is translated (&#64;mgirlich, #1044).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">case_match()</span></code> is translated (&#64;mgirlich, #1020).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">case_when()</span></code> now supports the <code class="docutils literal notranslate"><span class="pre">.default</span></code> argument (&#64;mgirlich, #1017).</p></li>
</ul>
</li>
<li><p>Variables that aren’t found in either the data or in the environment now
produce an error (&#64;mgirlich, #907).</p></li>
</ul>
</section>
<section id="sql-optimisation">
<h2>SQL optimisation<a class="headerlink" href="#sql-optimisation" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>dbplyr now produces fewer subqueries resulting in shorter, more readable, and,
in some cases, faster SQL. The following combination of verbs now avoids a
subquery if possible:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">*_join()</span></code> + <code class="docutils literal notranslate"><span class="pre">select()</span></code> (&#64;mgirlich, #876).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">select()</span></code> + <code class="docutils literal notranslate"><span class="pre">*_join()</span></code> (&#64;mgirlich, #875).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mutate()</span></code> + <code class="docutils literal notranslate"><span class="pre">filter()</span></code> and <code class="docutils literal notranslate"><span class="pre">filter()</span></code> + <code class="docutils literal notranslate"><span class="pre">filter()</span></code> (&#64;mgirlich, #792).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distinct()</span></code> (&#64;mgirlich, #880).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">summarise()</span></code> + <code class="docutils literal notranslate"><span class="pre">filter()</span></code> now translates to <code class="docutils literal notranslate"><span class="pre">HAVING</span></code> (&#64;mgirlich, #877).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">left/inner_join()</span></code> + <code class="docutils literal notranslate"><span class="pre">left/inner_join()</span></code> (&#64;mgirlich, #865).</p></li>
</ul>
</li>
<li><p>dbplyr now uses <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span></code> after a join instead of explicitly selecting every
column, where possible (&#64;mgirlich, #898).</p></li>
<li><p>Joins only use the table aliases (“LHS” and “RHS”) if necessary (&#64;mgirlich).</p></li>
<li><p>When using common table expressions, the results of joins and set operations
are now reused (&#64;mgirlich, #978).</p></li>
</ul>
</section>
<section id="id5">
<h2>Improved error messages<a class="headerlink" href="#id5" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Many errors have been improved and now show the function where the error
happened instead of a helper function (&#64;mgirlich, #907).</p></li>
<li><p>Errors produced by the database, e.g. in <code class="docutils literal notranslate"><span class="pre">collect()</span></code> or <code class="docutils literal notranslate"><span class="pre">rows_*()</span></code>, now show
the verb where the error happened (&#64;mgirlich).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">window_order()</span></code> now produces a better error message when applied to a data
frame (&#64;mgirlich, #947).</p></li>
<li><p>Using a named <code class="docutils literal notranslate"><span class="pre">across()</span></code> now gives a clear error message (&#64;mgirlich, #761).</p></li>
</ul>
</section>
<section id="id6">
<h2>Minor improvements and bug fixes<a class="headerlink" href="#id6" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Keyword highlighting can now be customised via the option <code class="docutils literal notranslate"><span class="pre">dbplyr_highlight</span></code>.
Turn it off via <code class="docutils literal notranslate"><span class="pre">options(dbplyr_highlight</span> <span class="pre">=</span> <span class="pre">FALSE)</span></code> or pass a custom ansi
style, e.g. <code class="docutils literal notranslate"><span class="pre">options(dbplyr_highlight</span> <span class="pre">=</span> <span class="pre">cli::combine_ansi_styles(&quot;bold&quot;,</span> <span class="pre">&quot;cyan&quot;))</span></code>
(&#64;mgirlich, #974).</p></li>
<li><p>The rank functions (<code class="docutils literal notranslate"><span class="pre">row_number()</span></code>, <code class="docutils literal notranslate"><span class="pre">min_rank()</span></code>, <code class="docutils literal notranslate"><span class="pre">rank()</span></code>, <code class="docutils literal notranslate"><span class="pre">dense_rank()</span></code>,
<code class="docutils literal notranslate"><span class="pre">percent_rank()</span></code>, and <code class="docutils literal notranslate"><span class="pre">cume_dist()</span></code>) now give missing values the rank NA to
match the behaviour of dplyr (&#64;mgirlich, #991).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NA</span></code>s in <code class="docutils literal notranslate"><span class="pre">blob()</span></code>s are correctly translated to <code class="docutils literal notranslate"><span class="pre">NULL</span></code> (#983).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy_inline()</span></code> gains a <code class="docutils literal notranslate"><span class="pre">types</span></code> argument to specify the SQL column types
(&#64;mgirlich, #963).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cur_column()</span></code> is now supported (&#64;mgirlich, #951).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distinct()</span></code> returns columns ordered the way you request, not the same
as the input data (&#64;mgirlich).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fill()</span></code> can now fill “downup” and “updown” (&#64;mgirlich, #1057), and
now order by non-numeric columns also in the up direction (&#64;mgirlich, #1057).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">filter()</span></code> now works when using a window function and an external vector
(#1048).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">group_by()</span></code> + renamed columns works once again (&#64;mgirlich, #928).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">last()</span></code> is correctly translated when no window frame is specified
(&#64;mgirlich, #1063).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setOldClass()</span></code> uses a namespace, fixing an installation issue (&#64;mgirlich, #927).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql()</span></code> is now translated differently. The <code class="docutils literal notranslate"><span class="pre">...</span></code> are now evaluated locally
instead of being translated with <code class="docutils literal notranslate"><span class="pre">translate_sql()</span></code> (&#64;mgirlich, #952).</p></li>
</ul>
</section>
<section id="id7">
<h2>Backend specific improvements<a class="headerlink" href="#id7" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>HANA:</p>
<ul>
<li><p>Correctly translates <code class="docutils literal notranslate"><span class="pre">as.character()</span></code> (#1027).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy_inline()</span></code> now works for Hana (#950)</p></li>
</ul>
</li>
<li><p>MySQL:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">str_flatten()</span></code> uses <code class="docutils literal notranslate"><span class="pre">collapse</span> <span class="pre">=</span> <span class="pre">&quot;&quot;</span></code> by default (&#64;fh-afrachioni, #993)</p></li>
</ul>
</li>
<li><p>Oracle:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">slice_sample()</span></code> now works for Oracle (&#64;mgirlich, #986).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy_inline()</span></code> now works for Oracle (#972)</p></li>
</ul>
</li>
<li><p>PostgreSQL:</p>
<ul>
<li><p>Generates correct literals for Dates (#727).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str_flatten()</span></code> uses <code class="docutils literal notranslate"><span class="pre">collapse</span> <span class="pre">=</span> <span class="pre">&quot;&quot;</span></code> by default (&#64;fh-afrachioni, #993)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rows_*()</span></code> use the column types of <code class="docutils literal notranslate"><span class="pre">x</span></code> when auto copying (&#64;mgirlich, #909).</p></li>
</ul>
</li>
<li><p>Redshift:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">round()</span></code> now respects the <code class="docutils literal notranslate"><span class="pre">digits</span></code> argument (&#64;owenjonesuob, #1033).</p></li>
<li><p>No longer tries to use named windows anymore (&#64;owenjonesuob, #1035).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy_inline()</span></code> now works for Redshift (#949, thanks to &#64;ejneer for an
initial implementation).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str_flatten()</span></code> uses <code class="docutils literal notranslate"><span class="pre">collapse</span> <span class="pre">=</span> <span class="pre">&quot;&quot;</span></code> by default (&#64;fh-afrachioni, #993)</p></li>
</ul>
</li>
<li><p>Snowflake:</p></li>
<li><p>numeric functions: <code class="docutils literal notranslate"><span class="pre">all()</span></code>, <code class="docutils literal notranslate"><span class="pre">any()</span></code>, <code class="docutils literal notranslate"><span class="pre">log10()</span></code>, <code class="docutils literal notranslate"><span class="pre">round()</span></code>, <code class="docutils literal notranslate"><span class="pre">cor()</span></code>, <code class="docutils literal notranslate"><span class="pre">cov()</span></code>
and <code class="docutils literal notranslate"><span class="pre">sd()</span></code>.</p></li>
<li><p>date functions: <code class="docutils literal notranslate"><span class="pre">day()</span></code>, <code class="docutils literal notranslate"><span class="pre">mday()</span></code>, <code class="docutils literal notranslate"><span class="pre">wday()</span></code>, <code class="docutils literal notranslate"><span class="pre">yday()</span></code>, <code class="docutils literal notranslate"><span class="pre">week()</span></code>,
<code class="docutils literal notranslate"><span class="pre">isoweek()</span></code>, <code class="docutils literal notranslate"><span class="pre">month()</span></code>, <code class="docutils literal notranslate"><span class="pre">quarter()</span></code>, <code class="docutils literal notranslate"><span class="pre">isoyear()</span></code>, <code class="docutils literal notranslate"><span class="pre">seconds()</span></code>, <code class="docutils literal notranslate"><span class="pre">minutes()</span></code>,
<code class="docutils literal notranslate"><span class="pre">hours()</span></code>, <code class="docutils literal notranslate"><span class="pre">days()</span></code>, <code class="docutils literal notranslate"><span class="pre">weeks()</span></code>, <code class="docutils literal notranslate"><span class="pre">months()</span></code>, <code class="docutils literal notranslate"><span class="pre">years()</span></code> and <code class="docutils literal notranslate"><span class="pre">floor_date()</span></code>.</p></li>
<li><p>string functions: <code class="docutils literal notranslate"><span class="pre">grepl()</span></code>, <code class="docutils literal notranslate"><span class="pre">paste()</span></code>, <code class="docutils literal notranslate"><span class="pre">paste0()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_c()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_locate()</span></code>,
<code class="docutils literal notranslate"><span class="pre">str_detect()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_replace()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_replace_all()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_remove()</span></code>,
<code class="docutils literal notranslate"><span class="pre">str_remove_all()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_trim()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_squish()</span></code> and <code class="docutils literal notranslate"><span class="pre">str_flatten()</span></code>
(&#64;fh-afrachioni, #860).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str_flatten()</span></code> uses <code class="docutils literal notranslate"><span class="pre">collapse</span> <span class="pre">=</span> <span class="pre">&quot;&quot;</span></code> by default (&#64;fh-afrachioni, #993)</p></li>
<li><p>SQLite:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">quantile()</span></code> gives a better error saying that it is not supported
(&#64;mgirlich, #1000).</p></li>
</ul>
</li>
<li><p>SQL server:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">as.POSIXct()</span></code> now translated correctly (&#64;krlmlr, #1011).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">median()</span></code> now translated correctly (#1008).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pivot_wider()</span></code> works again for MS SQL (&#64;mgirlich, #929).</p></li>
<li><p>Always use 1 and 0 as literals for logicals (&#64;krlmlr, #934).</p></li>
</ul>
</li>
<li><p>Teradata:</p>
<ul>
<li><p>Querying works again. Unfortunately, the fix requires every column to
once again by explicitly selected (&#64;mgirlich, #966).</p></li>
<li><p>New translations for <code class="docutils literal notranslate"><span class="pre">as.Date()</span></code>, <code class="docutils literal notranslate"><span class="pre">week()</span></code>, <code class="docutils literal notranslate"><span class="pre">quarter()</span></code>, <code class="docutils literal notranslate"><span class="pre">paste()</span></code>,
<code class="docutils literal notranslate"><span class="pre">startsWith()</span></code>, <code class="docutils literal notranslate"><span class="pre">row_number()</span></code>, <code class="docutils literal notranslate"><span class="pre">weighted.mean()</span></code>, <code class="docutils literal notranslate"><span class="pre">lead()</span></code>, <code class="docutils literal notranslate"><span class="pre">lag()</span></code>, and
<code class="docutils literal notranslate"><span class="pre">cumsum()</span></code> (&#64;overmar, #913).</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-2-2-1">
<h1>dbplyr 2.2.1<a class="headerlink" href="#dbplyr-2-2-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Querying Oracle databases works again. Unfortunately, the fix requires every
column to be explicitly selected again (&#64;mgirlich, #908).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">semi_join()</span></code> and <code class="docutils literal notranslate"><span class="pre">anti_join()</span></code> work again for Spark (&#64;mgirlich, #915).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str_c()</span></code> is now translated to <code class="docutils literal notranslate"><span class="pre">||</span></code> in Oracle (&#64;mgirlich, #921).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sd()</span></code>, <code class="docutils literal notranslate"><span class="pre">var()</span></code>, <code class="docutils literal notranslate"><span class="pre">cor()</span></code> and <code class="docutils literal notranslate"><span class="pre">cov()</span></code> now give clear error messages on
databases that don’t support them.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">any()</span></code> and <code class="docutils literal notranslate"><span class="pre">all()</span></code> gain default translations for all backends.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-2-2-0">
<h1>dbplyr 2.2.0<a class="headerlink" href="#dbplyr-2-2-0" title="Link to this heading">#</a></h1>
<section id="id8">
<h2>New features<a class="headerlink" href="#id8" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>SQL formatting has been considerably improved with new wrapping and indenting.
<code class="docutils literal notranslate"><span class="pre">show_query()</span></code> creates more readable queries by printing the keywords in blue
(&#64;mgirlich, #644). When possible dbplyr now uses <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span></code> instead of
explicitly selecting every column (&#64;mgirlich).</p></li>
<li><p>Added support for <code class="docutils literal notranslate"><span class="pre">rows_insert()</span></code>, <code class="docutils literal notranslate"><span class="pre">rows_append()</span></code>, <code class="docutils literal notranslate"><span class="pre">rows_update()</span></code>,
<code class="docutils literal notranslate"><span class="pre">rows_patch()</span></code>, <code class="docutils literal notranslate"><span class="pre">rows_upsert()</span></code>, and <code class="docutils literal notranslate"><span class="pre">rows_delete()</span></code> (&#64;mgirlich, #736).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">copy_inline()</span></code> as a <code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> equivalent that does not need write
access (&#64;mgirlich, #628).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">remote_query()</span></code>, <code class="docutils literal notranslate"><span class="pre">show_query()</span></code>, <code class="docutils literal notranslate"><span class="pre">compute()</span></code> and <code class="docutils literal notranslate"><span class="pre">collect()</span></code> have an
experimental <code class="docutils literal notranslate"><span class="pre">cte</span></code> argument. If <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> the SQL query will use common table
expressions instead of nested queries (&#64;mgirlich, #638).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">in_catalog()</span></code>, which works like <code class="docutils literal notranslate"><span class="pre">in_schema()</span></code>, but allows creation of
table identifiers consisting of three components: catalog, schema, name
(#806, &#64;krlmlr).</p></li>
</ul>
</section>
<section id="improvements-to-sql-generation">
<h2>Improvements to SQL generation<a class="headerlink" href="#improvements-to-sql-generation" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>When possible, dbplyr now uses <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span></code> instead of explicitly selecting
every column (&#64;mgirlich).</p></li>
<li><p>New translation for <code class="docutils literal notranslate"><span class="pre">cut()</span></code> (&#64;mgirlich, #697).</p></li>
<li><p>Improved translations for specific backends:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">as.Date()</span></code> for Oracle (&#64;mgirlich, #661).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">case_when()</span></code> with a final clause of the form <code class="docutils literal notranslate"><span class="pre">TRUE</span> <span class="pre">~</span> <span class="pre">...</span></code> uses <code class="docutils literal notranslate"><span class="pre">ELSE</span> <span class="pre">...</span></code>
for SQLite (&#64;mgirlich, #754).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">day()</span></code>, <code class="docutils literal notranslate"><span class="pre">week()</span></code>, <code class="docutils literal notranslate"><span class="pre">isoweek()</span></code>, and <code class="docutils literal notranslate"><span class="pre">isoyear()</span></code> for Postgres (&#64;mgirlich, #675).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">explain()</span></code> for ROracle (&#64;mgirlich).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fill()</span></code> for SQL Server (#651, &#64;mgirlich) and RPostgreSQL (&#64;mgirlich).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quantile()</span></code> for SQL Server (&#64;mgirlich, #620).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str_flatten()</span></code> for Redshift (&#64;hdplsa, #804)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slice_sample()</span></code> for MySQL/MariaDB and SQL Server (&#64;mgirlich, #617).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">union()</span></code> for Hive (&#64;mgirlich, #663).</p></li>
</ul>
</li>
<li><p>The backend function <code class="docutils literal notranslate"><span class="pre">dbplyr_fill0()</span></code> (used for databases that lack
<code class="docutils literal notranslate"><span class="pre">IGNORE</span> <span class="pre">NULLS</span></code> support) now respects database specific translations
(&#64;rsund, #753).</p></li>
<li><p>Calls of the form <code class="docutils literal notranslate"><span class="pre">stringr::foo()</span></code> or <code class="docutils literal notranslate"><span class="pre">lubridate::foo()</span></code> are now evaluated in
the database, rather than locally (#197).</p></li>
<li><p>Unary plus (e.g. <code class="docutils literal notranslate"><span class="pre">db</span> <span class="pre">%&gt;%</span> <span class="pre">filter(x</span> <span class="pre">==</span> <span class="pre">+1)</span></code>) now works (&#64;mgirlich, #674).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is.na()</span></code>, <code class="docutils literal notranslate"><span class="pre">ifelse()</span></code>, <code class="docutils literal notranslate"><span class="pre">if_else()</span></code>, <code class="docutils literal notranslate"><span class="pre">case_when()</span></code>, and <code class="docutils literal notranslate"><span class="pre">if()</span></code>
generate slightly more compact SQL (&#64;mgirlich, #738).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if_else()</span></code> now supports the <code class="docutils literal notranslate"><span class="pre">missing</span></code> argument (&#64;mgirlich, #641).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n()</span></code> now respects the window frame (&#64;mgirlich, #700).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quantile()</span></code> no longer errors when using the <code class="docutils literal notranslate"><span class="pre">na.rm</span></code> argument (&#64;mgirlich, #600).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">remote_name()</span></code> now returns a name in more cases where it makes sense
(&#64;mgirlich, #850).</p></li>
<li><p>The partial evaluation code is now more aligned with <code class="docutils literal notranslate"><span class="pre">dtplyr</span></code>. This makes it
easier to transfer bug fixes and new features from one package to the other.
In this process the second argument of <code class="docutils literal notranslate"><span class="pre">partial_eval()</span></code> was changed to a lazy
frame instead of a character vector of variables (&#64;mgirlich, #766).
Partially evaluated expressions with infix operations are now correctly
translated. For example <code class="docutils literal notranslate"><span class="pre">translate_sql(!!expr(2</span> <span class="pre">-</span> <span class="pre">1)</span> <span class="pre">*</span> <span class="pre">x)</span></code> now works
(&#64;mgirlich, #634).</p></li>
</ul>
</section>
<section id="id9">
<h2>Minor improvements and bug fixes<a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">pillar::tbl_format_header()</span></code> method for lazy tables: Printing a lazy
table where all rows are displayed also shows the exact number of rows in the
header. The threshold is controlled by <code class="docutils literal notranslate"><span class="pre">getOption(&quot;pillar.print_min&quot;)</span></code>,
with a default of 10 (#796, &#64;krlmlr).</p></li>
<li><p>The 1st edition extension mechanism is formally deprecated (#507).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">across()</span></code>, <code class="docutils literal notranslate"><span class="pre">if_any()</span></code> and <code class="docutils literal notranslate"><span class="pre">if_all()</span></code> now defaults to <code class="docutils literal notranslate"><span class="pre">.cols</span> <span class="pre">=</span> <span class="pre">everything()</span></code>
(&#64;mgirlich, #760). If <code class="docutils literal notranslate"><span class="pre">.fns</span></code> is not provided <code class="docutils literal notranslate"><span class="pre">if_any()</span></code> and <code class="docutils literal notranslate"><span class="pre">if_all()</span></code> work
like a parallel version of <code class="docutils literal notranslate"><span class="pre">any()</span></code>/<code class="docutils literal notranslate"><span class="pre">any()</span></code> (&#64;mgirlich, #734).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">across()</span></code>, <code class="docutils literal notranslate"><span class="pre">if_any()</span></code>, and <code class="docutils literal notranslate"><span class="pre">if_all()</span></code> can now translate evaluated lists
and functions (&#64;mgirlich, #796), and accept the name of a list of functions
(&#64;mgirlich, #817).</p></li>
<li><p>Multiple <code class="docutils literal notranslate"><span class="pre">across()</span></code> calls in <code class="docutils literal notranslate"><span class="pre">mutate()</span></code> and <code class="docutils literal notranslate"><span class="pre">transmute()</span></code> can now access
freshly created variables (&#64;mgirlich, #802).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">add_count()</span></code> now doesn’t change the groups of the input (&#64;mgirlich, #614).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compute()</span></code> can now handle when <code class="docutils literal notranslate"><span class="pre">name</span></code> is named by unnaming it first
(&#64;mgirlich, #623), and now works when <code class="docutils literal notranslate"><span class="pre">temporary</span> <span class="pre">=</span> <span class="pre">TRUE</span></code> for Oracle
(&#64;mgirlich, #621).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distinct()</span></code> now supports <code class="docutils literal notranslate"><span class="pre">.keep_all</span> <span class="pre">=</span> <span class="pre">TRUE</span></code> (&#64;mgirlich, #756).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expand()</span></code> now works in DuckDB (&#64;mgirlich, #712).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">explain()</span></code> passes <code class="docutils literal notranslate"><span class="pre">...</span></code> to methods (&#64;mgirlich, #783), and
works for Redshift (&#64;mgirlich, #740).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">filter()</span></code> throws an error if you supply a named argument (&#64;mgirlich, #764).</p></li>
<li><p>Joins disambiguates columns that only differ in case (&#64;mgirlich, #702).
New arguments <code class="docutils literal notranslate"><span class="pre">x_as</span></code> and <code class="docutils literal notranslate"><span class="pre">y_as</span></code> allow you to control the table alias
used in SQL query (&#64;mgirlich, #637). Joins with <code class="docutils literal notranslate"><span class="pre">na_matches</span> <span class="pre">=</span> <span class="pre">&quot;na&quot;</span></code> now work
for DuckDB (&#64;mgirlich, #704).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mutate()</span></code> and <code class="docutils literal notranslate"><span class="pre">transmute()</span></code> use named windows if a window definition is
used at least twice and the backend supports named windows (&#64;mgirlich, #624).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mutate()</span></code> now supports the arguments <code class="docutils literal notranslate"><span class="pre">.keep</span></code>, <code class="docutils literal notranslate"><span class="pre">.before</span></code>, and <code class="docutils literal notranslate"><span class="pre">.after</span></code>
(&#64;mgirlich, #802).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">na.rm</span> <span class="pre">=</span> <span class="pre">FALSE</span></code> only warns once every 8 hours across all functions (#899).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nesting()</span></code> now supports the <code class="docutils literal notranslate"><span class="pre">.name_repair</span></code> argument (&#64;mgirlich, #654).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pivot_longer()</span></code> can now pivot a column named <code class="docutils literal notranslate"><span class="pre">name</span></code> (&#64;mgirlich, #692),
can repair names (&#64;mgirlich, #694), and can work with multiple <code class="docutils literal notranslate"><span class="pre">names_from</span></code>
columns (&#64;mgirlich, #693).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pivot_wider(values_fn</span> <span class="pre">=</span> <span class="pre">)</span></code> and <code class="docutils literal notranslate"><span class="pre">pivot_longer(values_transform</span> <span class="pre">=</span> <span class="pre">)</span></code>
can now be formulas (&#64;mgirlich, #745).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pivot_wider()</span></code> now supports the arguments <code class="docutils literal notranslate"><span class="pre">names_vary</span></code>, <code class="docutils literal notranslate"><span class="pre">names_expand</span></code>, and
<code class="docutils literal notranslate"><span class="pre">unused_fn</span></code> (&#64;mgirlich, #774).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">remote_name()</span></code> now returns a name in more cases where it makes sense
(&#64;mgirlich, #850).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_random()</span></code> is now exported.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ungroup()</span></code> removes variables in <code class="docutils literal notranslate"><span class="pre">...</span></code> from grouping (&#64;mgirlich, #689).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">transmute()</span></code> now keeps grouping variables (&#64;mgirlich, #802).</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-2-1-1">
<h1>dbplyr 2.1.1<a class="headerlink" href="#dbplyr-2-1-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>New support for Snowflake (&#64;edgararuiz)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compute()</span></code>, <code class="docutils literal notranslate"><span class="pre">sql_table_index()</span></code>, and <code class="docutils literal notranslate"><span class="pre">sql_query_wrap()</span></code> now work with
schemas (&#64;mgirlich, #595).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if_any()</span></code> and <code class="docutils literal notranslate"><span class="pre">if_all()</span></code> are now translated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">group_by()</span></code> now ungroups when the dots argument is empty and <code class="docutils literal notranslate"><span class="pre">.add</span></code> is <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>
(&#64;mgirlich, #615).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_escape_date()</span></code> and <code class="docutils literal notranslate"><span class="pre">sql_escape_datetime</span></code> gain methods for MS Access
(&#64;erikvona, #608).</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-2-1-0">
<h1>dbplyr 2.1.0<a class="headerlink" href="#dbplyr-2-1-0" title="Link to this heading">#</a></h1>
<section id="id10">
<h2>New features<a class="headerlink" href="#id10" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Thanks to &#64;mgirlich, dbplyr gains support for key verbs from tidyr:
<code class="docutils literal notranslate"><span class="pre">pivot_longer()</span></code> (#532), <code class="docutils literal notranslate"><span class="pre">pivot_wider()</span></code> (#543), <code class="docutils literal notranslate"><span class="pre">expand()</span></code> (#538),
<code class="docutils literal notranslate"><span class="pre">complete()</span></code> (#538), <code class="docutils literal notranslate"><span class="pre">replace_na()</span></code> (#538), <code class="docutils literal notranslate"><span class="pre">fill()</span></code> (#566).</p></li>
<li><p>&#64;mgirlich is now a dbplyr author in recognition of his significant and
sustained contributions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">across()</span></code> implementation has been rewritten to support more inputs:
it now translates formulas (#525), works with SQL functions that don’t have
R translations (#534), and work with <code class="docutils literal notranslate"><span class="pre">NULL</span></code> (#554)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">summarise()</span></code> now supports argument <code class="docutils literal notranslate"><span class="pre">.groups</span></code> (&#64;mgirlich, #584).</p></li>
</ul>
</section>
<section id="sql-translation">
<h2>SQL translation<a class="headerlink" href="#sql-translation" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>All backends: <code class="docutils literal notranslate"><span class="pre">str_sub()</span></code>, <code class="docutils literal notranslate"><span class="pre">substr()</span></code> and <code class="docutils literal notranslate"><span class="pre">substring()</span></code> get better
translations (#577). Most importantly, the results of using negative
locations should match the underlying R implementations more closely.</p></li>
<li><p>MS SQL:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">as.integer()</span></code> and <code class="docutils literal notranslate"><span class="pre">as.integer64()</span></code> translations cast first to <code class="docutils literal notranslate"><span class="pre">NUMERIC</span></code>
to avoid CASTing weirdness (&#64;DavidPatShuiFong, #496).</p></li>
<li><p>Assumes a boolean context inside of <code class="docutils literal notranslate"><span class="pre">[</span></code> (#546)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str_sub()</span></code> with <code class="docutils literal notranslate"><span class="pre">end</span> <span class="pre">=</span> <span class="pre">-1</span></code> now works (#577).</p></li>
</ul>
</li>
<li><p>Redshift: <code class="docutils literal notranslate"><span class="pre">lag()</span></code> and <code class="docutils literal notranslate"><span class="pre">lead()</span></code> lose the <code class="docutils literal notranslate"><span class="pre">default</span></code> parameter  since it’s
not supported (&#64;hdplsa, #548).</p></li>
<li><p>SQLite: custom translation of <code class="docutils literal notranslate"><span class="pre">full_join()</span></code> and <code class="docutils literal notranslate"><span class="pre">right_join()</span></code>
(&#64;mgirlich, #536).</p></li>
</ul>
</section>
<section id="id11">
<h2>Minor improvements and bug fixes<a class="headerlink" href="#id11" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>RPostgreSQL backend warns if <code class="docutils literal notranslate"><span class="pre">temporary</span> <span class="pre">=</span> <span class="pre">TRUE</span></code> since temporary tables are
not supported by <code class="docutils literal notranslate"><span class="pre">RPostgreSQL::dbWriteTable()</span></code> (#574).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">count()</span></code> method provides closer match to dplyr semantics (#347).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distinct()</span></code> now respects grouping (&#64;mgirlich, #535).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db_connection_describe()</span></code> no longer uses partial matching (&#64;mgirlich, #564).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pull()</span></code> no longer <code class="docutils literal notranslate"><span class="pre">select()</span></code>s the result when there’s already only
one variable (#562).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">select()</span></code> no longer relocates grouping variables to the front
(&#64;mgirlich, #568). and informs when adding missing grouping variables
(&#64;mgirlich, #559).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tbl.src_dbi(...)</span></code> now passed on to <code class="docutils literal notranslate"><span class="pre">tbl_sql()</span></code> (#530).</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-2-0-0">
<h1>dbplyr 2.0.0<a class="headerlink" href="#dbplyr-2-0-0" title="Link to this heading">#</a></h1>
<section id="dplyr-1-0-0-compatibility">
<h2>dplyr 1.0.0 compatibility<a class="headerlink" href="#dplyr-1-0-0-compatibility" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">across()</span></code> is now translated into individual SQL statements (#480).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rename()</span></code> and <code class="docutils literal notranslate"><span class="pre">select()</span></code> support dplyr 1.0.0 tidyselect syntax (apart from
predicate functions which can’t easily work on computed queries) (#502).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">relocate()</span></code> makes it easy to move columns (#494) and <code class="docutils literal notranslate"><span class="pre">rename_with()</span></code> makes
it easy to rename columns programmatically (#502).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slice_min()</span></code>, <code class="docutils literal notranslate"><span class="pre">slice_max()</span></code>, and <code class="docutils literal notranslate"><span class="pre">slice_order()</span></code> are now supported.
<code class="docutils literal notranslate"><span class="pre">slice_head()</span></code> and <code class="docutils literal notranslate"><span class="pre">slice_tail()</span></code> throw clear error messages (#394)</p></li>
</ul>
</section>
<section id="sql-generation">
<h2>SQL generation<a class="headerlink" href="#sql-generation" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Documentation has been radically improved with new topics for each major
verb and each backend giving more details about the SQL translation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">intersect()</span></code>, <code class="docutils literal notranslate"><span class="pre">union()</span></code> and <code class="docutils literal notranslate"><span class="pre">setdiff()</span></code> gain an <code class="docutils literal notranslate"><span class="pre">all</span></code> argument to add the
<code class="docutils literal notranslate"><span class="pre">ALL</span></code> argument (#414).</p></li>
<li><p>Join functions gains a <code class="docutils literal notranslate"><span class="pre">na_matches</span></code> argument that allows you to control
whether or not <code class="docutils literal notranslate"><span class="pre">NA</span></code> (<code class="docutils literal notranslate"><span class="pre">NULL</span></code>) values match other <code class="docutils literal notranslate"><span class="pre">NA</span></code> values. The default is
<code class="docutils literal notranslate"><span class="pre">&quot;never&quot;</span></code>, which is the usual behaviour in databases. You can set
<code class="docutils literal notranslate"><span class="pre">na_matches</span> <span class="pre">=</span> <span class="pre">&quot;na&quot;</span></code> to match R’s usual join behaviour (#180). Additional
arguments error (instead of being silently swallowed) (#382).</p></li>
<li><p>Joins now only use aliases where needed to disambiguate columns; this should
make generated queries more readable.</p></li>
<li><p>Subqueries no longer include an <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> clause. This is not part of the
SQL spec, and has very limited support across databases. Now such queries
generate a warning suggesting that you move your <code class="docutils literal notranslate"><span class="pre">arrange()</span></code> call later in
the pipeline (#276). (There’s one exception: <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> is still generated
if <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code> is present; this tends to affect the returns rows but not
necessarily their order).</p></li>
<li><p>Subquery names are now scoped within the query. This makes query text
deterministic which helps some query optimisers/cachers (#336).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_optimise()</span></code> now can partially optimise a pipeline; due to an unfortunate
bug it previously gave up too easily.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">in_schema()</span></code> quotes each input individually (#287) (use <code class="docutils literal notranslate"><span class="pre">sql()</span></code> to opt out
of quoting, if needed). And <code class="docutils literal notranslate"><span class="pre">DBI::Id()</span></code> should work anywhere that
<code class="docutils literal notranslate"><span class="pre">in_schema()</span></code> does.</p></li>
</ul>
</section>
<section id="id12">
<h2>SQL translation<a class="headerlink" href="#id12" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Experimental new SAP HANA backend (#233). Requires the latest version of odbc.</p></li>
<li><p>All backends:</p>
<ul>
<li><p>You can now use <code class="docutils literal notranslate"><span class="pre">::</span></code> in translations, so that (e.g.) <code class="docutils literal notranslate"><span class="pre">dbplyr::n()</span></code> is
translated to <code class="docutils literal notranslate"><span class="pre">count(*)</span></code> (#207).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[[</span></code> can now also translate numeric indices (#520).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%/%</span></code> now generates a clear error message; previously it was translated to
<code class="docutils literal notranslate"><span class="pre">/</span></code> which is not correct (#108).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n()</span></code> is translated to <code class="docutils literal notranslate"><span class="pre">count(*)</span></code> instead of <code class="docutils literal notranslate"><span class="pre">count()</span></code> (#343).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sub_str()</span></code> translation is more consistent in edge cases (&#64;ianmcook).</p></li>
<li><p>All <code class="docutils literal notranslate"><span class="pre">median()</span></code> (&#64;lorenzwalthert, #483), <code class="docutils literal notranslate"><span class="pre">pmin()</span></code>, <code class="docutils literal notranslate"><span class="pre">pmax()</span></code> (#479), <code class="docutils literal notranslate"><span class="pre">sd()</span></code>
and <code class="docutils literal notranslate"><span class="pre">var()</span></code> functions have an <code class="docutils literal notranslate"><span class="pre">na.rm</span></code> argument that warns once when not
<code class="docutils literal notranslate"><span class="pre">TRUE</span></code>. This makes them consistent with <code class="docutils literal notranslate"><span class="pre">mean()</span></code> and <code class="docutils literal notranslate"><span class="pre">sum()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">substring()</span></code> is now translated the same way as <code class="docutils literal notranslate"><span class="pre">substr()</span></code> (#378).</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://blob.tidyverse.org/">blob</a> vectors can now be used with <code class="docutils literal notranslate"><span class="pre">!!</span></code> and
<code class="docutils literal notranslate"><span class="pre">!!!</span></code> operators, for example in <code class="docutils literal notranslate"><span class="pre">filter()</span></code> (&#64;okhoma, #433)</p></li>
<li><p>MySQL uses standard SQL for index creation.</p></li>
<li><p>MS SQL translation does better a distinguishing between bit and boolean
(#377, #318). <code class="docutils literal notranslate"><span class="pre">if</span></code> and <code class="docutils literal notranslate"><span class="pre">ifelse</span></code> once again generate <code class="docutils literal notranslate"><span class="pre">IIF</span></code>, creating
simpler expressions. <code class="docutils literal notranslate"><span class="pre">as.*()</span></code> function uses <code class="docutils literal notranslate"><span class="pre">TRY_CAST()</span></code> instead
of <code class="docutils literal notranslate"><span class="pre">CAST()</span></code> for version 11+ (2012+) (&#64;DavidPatShuiFong, #380).</p></li>
<li><p>odbc no longer translates <code class="docutils literal notranslate"><span class="pre">count()</span></code>; this was an accidental inclusion.</p></li>
<li><p>Oracle translation now depends on Oracle 12c, and uses a “row-limiting”
clause for <code class="docutils literal notranslate"><span class="pre">head()</span></code>. It gains translations for <code class="docutils literal notranslate"><span class="pre">today()</span></code> and <code class="docutils literal notranslate"><span class="pre">now()</span></code>, and
improved <code class="docutils literal notranslate"><span class="pre">as.Date()</span></code> translation (&#64;rlh1994, #267).</p></li>
<li><p>PostgreSQL: new translations for lubridate period functions <code class="docutils literal notranslate"><span class="pre">years()</span></code>,
<code class="docutils literal notranslate"><span class="pre">months()</span></code>, <code class="docutils literal notranslate"><span class="pre">days()</span></code>, and <code class="docutils literal notranslate"><span class="pre">floor_date()</span></code> (&#64;bkkkk, #333) and stringr functions
<code class="docutils literal notranslate"><span class="pre">str_squish()</span></code>,  <code class="docutils literal notranslate"><span class="pre">str_remove()</span></code>, and <code class="docutils literal notranslate"><span class="pre">str_remove_all()</span></code> (&#64;shosaco).</p></li>
<li><p>New RedShift translations when used with <code class="docutils literal notranslate"><span class="pre">RPostgres::Redshift()</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">str_replace()</span></code> errors since there’s no Redshift translation,
and <code class="docutils literal notranslate"><span class="pre">str_replace_all()</span></code> uses <code class="docutils literal notranslate"><span class="pre">REGEXP_REPLACE()</span></code> (#446).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">paste()</span></code> and <code class="docutils literal notranslate"><span class="pre">paste0()</span></code> use <code class="docutils literal notranslate"><span class="pre">||</span></code> (#458).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">as.numeric()</span></code> and <code class="docutils literal notranslate"><span class="pre">as.double()</span></code> cast to <code class="docutils literal notranslate"><span class="pre">FLOAT</span></code> (#408).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">substr()</span></code> and <code class="docutils literal notranslate"><span class="pre">str_sub()</span></code> use <code class="docutils literal notranslate"><span class="pre">SUBSTRING()</span></code> (#327).</p></li>
</ul>
</li>
<li><p>SQLite gains translations for lubridate functions <code class="docutils literal notranslate"><span class="pre">today()</span></code>, <code class="docutils literal notranslate"><span class="pre">now()</span></code>,
<code class="docutils literal notranslate"><span class="pre">year()</span></code>, <code class="docutils literal notranslate"><span class="pre">month()</span></code>, <code class="docutils literal notranslate"><span class="pre">day()</span></code>, <code class="docutils literal notranslate"><span class="pre">hour()</span></code>, <code class="docutils literal notranslate"><span class="pre">minute()</span></code>, <code class="docutils literal notranslate"><span class="pre">second()</span></code>,<code class="docutils literal notranslate"><span class="pre">yday()</span></code>
(#262), and correct translation for <code class="docutils literal notranslate"><span class="pre">median()</span></code> (#357).</p></li>
</ul>
</section>
<section id="extensibility">
<h2>Extensibility<a class="headerlink" href="#extensibility" title="Link to this heading">#</a></h2>
<p>If you are the author of a dbplyr backend, please see <code class="docutils literal notranslate"><span class="pre">vignette(&quot;backend-2&quot;)</span></code> for details.</p>
<ul>
<li><p>New <code class="docutils literal notranslate"><span class="pre">dbplyr_edition()</span></code> generic allows you to opt-in to the 2nd edition of
the dbplyr API.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db_write_table()</span></code> now calls <code class="docutils literal notranslate"><span class="pre">DBI::dbWriteTable()</span></code> instead of nine generics
that formerly each did a small part: <code class="docutils literal notranslate"><span class="pre">db_create_indexes()</span></code>, <code class="docutils literal notranslate"><span class="pre">db_begin()</span></code>,
<code class="docutils literal notranslate"><span class="pre">db_rollback()</span></code>, <code class="docutils literal notranslate"><span class="pre">db_commit()</span></code>, <code class="docutils literal notranslate"><span class="pre">db_list_tables()</span></code>, <code class="docutils literal notranslate"><span class="pre">drop_drop_table()</span></code>,
<code class="docutils literal notranslate"><span class="pre">db_has_table()</span></code>, <code class="docutils literal notranslate"><span class="pre">db_create_table()</span></code>, and <code class="docutils literal notranslate"><span class="pre">db_data_types()</span></code>. You can
now delete the methods for these generics.</p>
<p><code class="docutils literal notranslate"><span class="pre">db_query_rows()</span></code> is no longer used; it appears that it hasn’t been used
for some time, so if you have a method, you can delete it.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">DBI::dbQuoteIdentifier()</span></code> is now used instead of <code class="docutils literal notranslate"><span class="pre">sql_escape_ident()</span></code> and
<code class="docutils literal notranslate"><span class="pre">DBI::dbQuoteString()</span></code> instead of <code class="docutils literal notranslate"><span class="pre">sql_escape_string()</span></code>.</p></li>
<li><p>A number of <code class="docutils literal notranslate"><span class="pre">db_*</span></code> generics have been replaced with new SQL generation
generics:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr::db_analyze()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">dbplyr::sql_table_analyze()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr::db_create_index()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">dbplyr::sql_table_index()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr::db_explain()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">dbplyr::sql_queriy_explain()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr::db_query_fields()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">dbplyr::sql_query_fields()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr::db_save_query()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">dbplyr::sql_query_save()</span></code></p></li>
</ul>
<p>This makes them easier to test and is an important part of the process of
moving all database generics in dbplyr (#284).</p>
</li>
<li><p>A number of other generics have been renamed to facilitate the move from
dplyr to dbplyr:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr::sql_select()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">dbplyr::sql_query_select()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr::sql_join()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">dbplyr::sql_query_join()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr::sql_semi_join()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">dbplyr::sql_query_semi_join()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr::sql_set_op()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">dbplyr::sql_query_set_op()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr::sql_subquery()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">dbplyr::sql_query_wrap()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dplyr::db_desc()</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">dbplyr::db_connection_describe()</span></code></p></li>
</ul>
</li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">db_temporary_table()</span></code> generic makes it easier to work with databases
that require temporary tables to be specially named.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">sql_expr_matches()</span></code> generic allows databases to use more efficient
alternatives when determine if two values “match” (i.e. like equality but
a pair of <code class="docutils literal notranslate"><span class="pre">NULL</span></code>s will also match). For more details, see
<a class="reference external" href="https://modern-sql.com/feature/is-distinct-from">https://modern-sql.com/feature/is-distinct-from</a></p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">sql_join_suffix()</span></code> allows backends to control the default suffixes
used (#254).</p></li>
</ul>
</section>
<section id="id13">
<h2>Minor improvements and bug fixes<a class="headerlink" href="#id13" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>All old lazy eval shims have been removed. These have been deprecated for
some time.</p></li>
<li><p>Date-time escaping methods for Athena and Presto have moved to the packages
where they belong.</p></li>
<li><p>Attempting to embed a Shiny reactive in a query now gives a helpful error
(#439).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy_lahman()</span></code> and <code class="docutils literal notranslate"><span class="pre">copy_nycflights13()</span></code> (and hence <code class="docutils literal notranslate"><span class="pre">nycflights13_sqlite()</span></code>)
and friends now return DBI connections rather than the now deprecated
<code class="docutils literal notranslate"><span class="pre">src_dbi()</span></code> (#440).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> can now <code class="docutils literal notranslate"><span class="pre">overwrite</span></code> when table is specified with schema (#489),
and gains an <code class="docutils literal notranslate"><span class="pre">in_transaction</span></code> argument used to optionally suppress the
transaction wrapper (#368).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distinct()</span></code> no longer duplicates column if grouped (#354).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">transmute()</span></code> now correctly tracks variables it needs when creating
subqueries (#313).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mutate()</span></code> grouping variables no longer generates a downstream error (#396)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mutate()</span></code> correctly generates subqueries when you re-use the same variable
three or more times (#412).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">window_order()</span></code> overrides ordering, rather than appending to it.</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-1-4-4">
<h1>dbplyr 1.4.4<a class="headerlink" href="#dbplyr-1-4-4" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Internally <code class="docutils literal notranslate"><span class="pre">DBI::dbExecute()</span></code> now uses <code class="docutils literal notranslate"><span class="pre">immediate</span> <span class="pre">=</span> <span class="pre">TRUE</span></code>; this improves
support for session-scoped temporary tables in MS SQL (&#64;krlmlr, #438).</p></li>
<li><p>Subqueries with <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> use <code class="docutils literal notranslate"><span class="pre">TOP</span> <span class="pre">9223372036854775807</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">TOP</span> <span class="pre">100</span> <span class="pre">PERCENT</span></code> on SQL Server for compatibility with Azure Data Warehouse
(#337, &#64;alexkyllo).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">escape()</span></code> now supports <code class="docutils literal notranslate"><span class="pre">blob</span></code> vectors using new <code class="docutils literal notranslate"><span class="pre">sql_escape_raw()</span></code>
generic. It enables using <a class="reference external" href="https://blob.tidyverse.org/">blob</a> variables in
dplyr verbs, for example to filter nvarchar values by UTF-16 blobs
(see <a class="github reference external" href="https://github.com/r-dbi/DBI/issues/215#issuecomment-356376133">r-dbi/DBI#215</a>).
(&#64;okhoma, #433)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">setOldClass()</span></code> calls for <code class="docutils literal notranslate"><span class="pre">&quot;ident&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;ident_q&quot;</span></code> classes for
compatibility with dplyr 1.0.0 (#448, &#64;krlmlr).</p></li>
<li><p>Postgres <code class="docutils literal notranslate"><span class="pre">str_detect()</span></code> translation uses same argument names as stringr,
and gains a <code class="docutils literal notranslate"><span class="pre">negate</span></code> argument (#444).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">semi_join()</span></code> and <code class="docutils literal notranslate"><span class="pre">anti_join()</span></code> now correctly support the <code class="docutils literal notranslate"><span class="pre">sql_on</span></code> argument
(#443, &#64;krlmlr).</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-1-4-3">
<h1>dbplyr 1.4.3<a class="headerlink" href="#dbplyr-1-4-3" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>dbplyr now uses RPostgres (instead of RPostgreSQL) and RMariaDB (instead of
RMySQL) for its internal tests and data functions (#427).</p></li>
<li><p>The Date and POSIXt methods for <code class="docutils literal notranslate"><span class="pre">escape()</span></code> now use exported
<code class="docutils literal notranslate"><span class="pre">sql_escape_date()</span></code> and <code class="docutils literal notranslate"><span class="pre">sql_escape_datetime()</span></code> generics to allow backend
specific formatting of date and datetime literals. These are used to
provide methods for Athena and Presto backends (&#64;OssiLehtinen, #384, #391).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">first()</span></code>, <code class="docutils literal notranslate"><span class="pre">last()</span></code>, <code class="docutils literal notranslate"><span class="pre">nth()</span></code>, <code class="docutils literal notranslate"><span class="pre">lead()</span></code> and <code class="docutils literal notranslate"><span class="pre">lag()</span></code> now respect the
<code class="docutils literal notranslate"><span class="pre">window_frame()</span></code> (&#64;krlmlr, #366).</p></li>
<li><p>SQL server: new translations for <code class="docutils literal notranslate"><span class="pre">str_flatten()</span></code> (&#64;PauloJhonny, #405).</p></li>
<li><p>SQL server: temporary datasets are now session-local, not global (#401).</p></li>
<li><p>Postgres: correct <code class="docutils literal notranslate"><span class="pre">str_detect()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_replace()</span></code> and <code class="docutils literal notranslate"><span class="pre">str_replace_all()</span></code>
translation (&#64;shosaco, #362).</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-1-4-2">
<h1>dbplyr 1.4.2<a class="headerlink" href="#dbplyr-1-4-2" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fix bug when partially evaluating unquoting quosure containing a single
symbol (#317)</p></li>
<li><p>Fixes for rlang and dpylr compatibility.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-1-4-1">
<h1>dbplyr 1.4.1<a class="headerlink" href="#dbplyr-1-4-1" title="Link to this heading">#</a></h1>
<p>Minor improvements to SQL generation</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%in%</span> <span class="pre">y</span></code> strips names of <code class="docutils literal notranslate"><span class="pre">y</span></code> (#269).</p></li>
<li><p>Enhancements for scoped verbs (<code class="docutils literal notranslate"><span class="pre">mutate_all()</span></code>, <code class="docutils literal notranslate"><span class="pre">summarise_if()</span></code>,
<code class="docutils literal notranslate"><span class="pre">filter_at()</span></code> etc) (#296, #306).</p></li>
<li><p>MS SQL use <code class="docutils literal notranslate"><span class="pre">TOP</span> <span class="pre">100</span> <span class="pre">PERCENT</span></code> as stop-gap to allow subqueries with
<code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> (#277).</p></li>
<li><p>Window functions now translated correctly for Hive (#293, &#64;cderv).</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-1-4-0">
<h1>dbplyr 1.4.0<a class="headerlink" href="#dbplyr-1-4-0" title="Link to this heading">#</a></h1>
<section id="id14">
<h2>Breaking changes<a class="headerlink" href="#id14" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Error:</span> <span class="pre">`con`</span> <span class="pre">must</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">NULL</span></code>: If you see this error, it probably means
that you have forgotten to pass <code class="docutils literal notranslate"><span class="pre">con</span></code> down to a dbplyr function.
Previously, dbplyr defaulted to using <code class="docutils literal notranslate"><span class="pre">simulate_dbi()</span></code> which introduced
subtle escaping bugs. (It’s also possible I have forgotten to pass it
somewhere that the dbplyr tests don’t pick up, so if you can’t figure it
out, please let me know).</p></li>
<li><p>Subsetting (<code class="docutils literal notranslate"><span class="pre">[[</span></code>, <code class="docutils literal notranslate"><span class="pre">$</span></code>, and <code class="docutils literal notranslate"><span class="pre">[</span></code>) functions are no longer evaluated locally.
This makes the translation more consistent and enables useful new idioms
for modern databases (#200).</p></li>
</ul>
</section>
<section id="id15">
<h2>New features<a class="headerlink" href="#id15" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>MySQL/MariaDB (<a class="reference external" href="https://mariadb.com/kb/en/library/window-functions/">https://mariadb.com/kb/en/library/window-functions/</a>)
and SQLite (<a class="reference external" href="https://www.sqlite.org/windowfunctions.html">https://www.sqlite.org/windowfunctions.html</a>) translations gain
support for window functions, available in Maria DB 10.2, MySQL 8.0, and
SQLite 3.25 (#191).</p></li>
<li><p>Overall, dplyr generates many fewer subqueries:</p>
<ul>
<li><p>Joins and semi-joins no longer add an unneeded subquery (#236). This is
facilitated by the new <code class="docutils literal notranslate"><span class="pre">bare_identifier_ok</span></code> argument to <code class="docutils literal notranslate"><span class="pre">sql_render()</span></code>;
the previous argument was called <code class="docutils literal notranslate"><span class="pre">root</span></code> and confused me.</p></li>
<li><p>Many sequences of <code class="docutils literal notranslate"><span class="pre">select()</span></code>, <code class="docutils literal notranslate"><span class="pre">rename()</span></code>, <code class="docutils literal notranslate"><span class="pre">mutate()</span></code>, and <code class="docutils literal notranslate"><span class="pre">transmute()</span></code> can
be collapsed into a single query, instead of always generating a subquery
(#213).</p></li>
</ul>
</li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">vignette(&quot;sql&quot;)</span></code> describes some advantages of dbplyr over SQL (#205) and
gives some advice about writing literal SQL inside of dplyr, when you need
to (#196).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">vignette(&quot;reprex&quot;)</span></code> gives some hints on creating reprexes that work
anywhere (#117). This is supported by a new <code class="docutils literal notranslate"><span class="pre">tbl_memdb()</span></code> that matches the
existing <code class="docutils literal notranslate"><span class="pre">tbl_lazy()</span></code>.</p></li>
<li><p>All <code class="docutils literal notranslate"><span class="pre">..._join()</span></code> functions gain an <code class="docutils literal notranslate"><span class="pre">sql_on</span></code> argument that allows specifying
arbitrary join predicates in SQL code (#146, &#64;krlmlr).</p></li>
</ul>
</section>
<section id="sql-translations">
<h2>SQL translations<a class="headerlink" href="#sql-translations" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>New translations for some lubridate functions: <code class="docutils literal notranslate"><span class="pre">today()</span></code>, <code class="docutils literal notranslate"><span class="pre">now()</span></code>,
<code class="docutils literal notranslate"><span class="pre">year()</span></code>, <code class="docutils literal notranslate"><span class="pre">month()</span></code>, <code class="docutils literal notranslate"><span class="pre">day()</span></code>, <code class="docutils literal notranslate"><span class="pre">hour()</span></code>, <code class="docutils literal notranslate"><span class="pre">minute()</span></code>,
<code class="docutils literal notranslate"><span class="pre">second()</span></code>, <code class="docutils literal notranslate"><span class="pre">quarter()</span></code>, <code class="docutils literal notranslate"><span class="pre">yday()</span></code> (&#64;colearendt, &#64;derekmorr). Also added new
translation for <code class="docutils literal notranslate"><span class="pre">as.POSIXct()</span></code>.</p></li>
<li><p>New translations for stringr functions: <code class="docutils literal notranslate"><span class="pre">str_c()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_sub()</span></code>,
<code class="docutils literal notranslate"><span class="pre">str_length()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_to_upper()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_to_lower()</span></code>, and <code class="docutils literal notranslate"><span class="pre">str_to_title()</span></code>
(&#64;colearendt). Non-translated stringr functions throw a clear error.</p></li>
<li><p>New translations for bitwise operations: <code class="docutils literal notranslate"><span class="pre">bitwNot()</span></code>, <code class="docutils literal notranslate"><span class="pre">bitwAnd()</span></code>, <code class="docutils literal notranslate"><span class="pre">bitwOr()</span></code>,
<code class="docutils literal notranslate"><span class="pre">bitwXor()</span></code>, <code class="docutils literal notranslate"><span class="pre">bitwShiftL()</span></code>, and <code class="docutils literal notranslate"><span class="pre">bitwShiftR()</span></code>. Unlike the base R functions,
the translations do not coerce arguments to integers (&#64;davidchall, #235).</p></li>
<li><p>New translation for <code class="docutils literal notranslate"><span class="pre">x[y]</span></code> to <code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">WHEN</span> <span class="pre">y</span> <span class="pre">THEN</span> <span class="pre">x</span> <span class="pre">END</span></code>. This enables
<code class="docutils literal notranslate"><span class="pre">sum(a[b</span> <span class="pre">==</span> <span class="pre">0])</span></code> to work as you expect from R (#202). <code class="docutils literal notranslate"><span class="pre">y</span></code> needs to be
a logical expression; if not you will likely get a type error from your
database.</p></li>
<li><p>New translations for <code class="docutils literal notranslate"><span class="pre">x$y</span></code> and <code class="docutils literal notranslate"><span class="pre">x[[&quot;y&quot;]]</span></code> to <code class="docutils literal notranslate"><span class="pre">x.y</span></code>, enabling you to index
into nested fields in databases that provide them (#158).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">.data</span></code> and <code class="docutils literal notranslate"><span class="pre">.env</span></code> pronouns of tidy evaluation are correctly translated
(#132).</p></li>
<li><p>New translation for <code class="docutils literal notranslate"><span class="pre">median()</span></code> and <code class="docutils literal notranslate"><span class="pre">quantile()</span></code>. Works for all ANSI compliant
databases (SQL Server, Postgres, MariaDB, Teradata) and has custom
translations for Hive. Thanks to &#64;edavidaja for researching the SQL variants!
(#169)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">na_if()</span></code> is correct translated to <code class="docutils literal notranslate"><span class="pre">NULLIF()</span></code> (rather than <code class="docutils literal notranslate"><span class="pre">NULL_IF</span></code>) (#211).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n_distinct()</span></code> translation throws an error when given more than one argument.
(#101, #133).</p></li>
<li><p>New default translations for <code class="docutils literal notranslate"><span class="pre">paste()</span></code>, <code class="docutils literal notranslate"><span class="pre">paste0()</span></code>, and the hyperbolic
functions (these previously were only available for ODBC databases).</p></li>
<li><p>Corrected translations of <code class="docutils literal notranslate"><span class="pre">pmin()</span></code> and <code class="docutils literal notranslate"><span class="pre">pmax()</span></code> to <code class="docutils literal notranslate"><span class="pre">LEAST()</span></code> and <code class="docutils literal notranslate"><span class="pre">GREATEST()</span></code>
for ANSI compliant databases (#118), to <code class="docutils literal notranslate"><span class="pre">MIN()</span></code> and <code class="docutils literal notranslate"><span class="pre">MAX()</span></code> for SQLite, and
to an error for SQL server.</p></li>
<li><p>New translation for <code class="docutils literal notranslate"><span class="pre">switch()</span></code> to the simple form of <code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">WHEN</span></code> (#192).</p></li>
</ul>
<section id="sql-simulation">
<h3>SQL simulation<a class="headerlink" href="#sql-simulation" title="Link to this heading">#</a></h3>
<p>SQL simulation makes it possible to see what dbplyr will translate SQL to,
without having an active database connection, and is used for testing and
generating reprexes.</p>
<ul class="simple">
<li><p>SQL simulation has been overhauled. It now works reliably, is better
documented, and always uses ANSI escaping (i.e. <code class="docutils literal notranslate"><span class="pre">`</span></code> for field
names and <code class="docutils literal notranslate"><span class="pre">'</span></code> for strings).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tbl_lazy()</span></code> now actually puts a <code class="docutils literal notranslate"><span class="pre">dbplyr::src</span></code> in the <code class="docutils literal notranslate"><span class="pre">$src</span></code> field. This
shouldn’t affect any downstream code unless you were previously working
around this weird difference between <code class="docutils literal notranslate"><span class="pre">tbl_lazy</span></code> and <code class="docutils literal notranslate"><span class="pre">tbl_sql</span></code> classes.
It also includes the <code class="docutils literal notranslate"><span class="pre">src</span></code> class in its class, and when printed,
shows the generated SQL (#111).</p></li>
</ul>
</section>
</section>
<section id="database-specific-improvements">
<h2>Database specific improvements<a class="headerlink" href="#database-specific-improvements" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>MySQL/MariaDB</p>
<ul>
<li><p>Translations also applied to connections via the odbc package
(&#64;colearendt, #238)</p></li>
<li><p>Basic support for regular expressions via <code class="docutils literal notranslate"><span class="pre">str_detect()</span></code> and<br />
<code class="docutils literal notranslate"><span class="pre">str_replace_all()</span></code> (&#64;colearendt, #168).</p></li>
<li><p>Improved translation for <code class="docutils literal notranslate"><span class="pre">as.logical(x)</span></code> to <code class="docutils literal notranslate"><span class="pre">IF(x,</span> <span class="pre">TRUE,</span> <span class="pre">FALSE)</span></code>.</p></li>
</ul>
</li>
<li><p>Oracle</p>
<ul>
<li><p>New custom translation for <code class="docutils literal notranslate"><span class="pre">paste()</span></code> and <code class="docutils literal notranslate"><span class="pre">paste0()</span></code> (&#64;cderv, #221)</p></li>
</ul>
</li>
<li><p>Postgres</p>
<ul>
<li><p>Basic support for regular expressions via <code class="docutils literal notranslate"><span class="pre">str_detect()</span></code> and<br />
<code class="docutils literal notranslate"><span class="pre">str_replace_all()</span></code> (&#64;colearendt, #168).</p></li>
</ul>
</li>
<li><p>SQLite</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">explain()</span></code> translation now generates <code class="docutils literal notranslate"><span class="pre">EXPLAIN</span> <span class="pre">QUERY</span> <span class="pre">PLAN</span></code> which
generates a higher-level, more human friendly explanation.</p></li>
</ul>
</li>
<li><p>SQL server</p>
<ul>
<li><p>Improved translation for <code class="docutils literal notranslate"><span class="pre">as.logical(x)</span></code> to <code class="docutils literal notranslate"><span class="pre">CAST(x</span> <span class="pre">as</span> <span class="pre">BIT)</span></code> (#250).</p></li>
<li><p>Translates <code class="docutils literal notranslate"><span class="pre">paste()</span></code>, <code class="docutils literal notranslate"><span class="pre">paste0()</span></code>, and <code class="docutils literal notranslate"><span class="pre">str_c()</span></code> to <code class="docutils literal notranslate"><span class="pre">+</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> method applies temporary table name transformation
earlier so that you can now overwrite temporary tables (#258).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db_write_table()</span></code> method uses correct argument name for
passing along field types (#251).</p></li>
</ul>
</li>
</ul>
</section>
<section id="id16">
<h2>Minor improvements and bug fixes<a class="headerlink" href="#id16" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Aggregation functions only warn once per session about the use of
<code class="docutils literal notranslate"><span class="pre">na.rm</span> <span class="pre">=</span> <span class="pre">TRUE</span></code> (#216).</p></li>
<li><p>table names generated by <code class="docutils literal notranslate"><span class="pre">random_table_name()</span></code> have the prefix
“dbplyr_”, which makes it easier to find them programmatically
(&#64;mattle24, #111)</p></li>
<li><p>Functions that are only available in a windowed (<code class="docutils literal notranslate"><span class="pre">mutate()</span></code>) query now
throw an error when called in a aggregate (<code class="docutils literal notranslate"><span class="pre">summarise()</span></code>) query (#129)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arrange()</span></code> understands the <code class="docutils literal notranslate"><span class="pre">.by_group</span></code> argument, making it possible
sort by groups if desired. The default is <code class="docutils literal notranslate"><span class="pre">FALSE</span></code> (#115)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distinct()</span></code> now handles computed variables like <code class="docutils literal notranslate"><span class="pre">distinct(df,</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">y)</span></code>
(#154).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">escape()</span></code>, <code class="docutils literal notranslate"><span class="pre">sql_expr()</span></code> and <code class="docutils literal notranslate"><span class="pre">build_sql()</span></code> no longer accept <code class="docutils literal notranslate"><span class="pre">con</span> <span class="pre">=</span> <span class="pre">NULL</span></code> as
a shortcut for <code class="docutils literal notranslate"><span class="pre">con</span> <span class="pre">=</span> <span class="pre">simulate_dbi()</span></code>. This made it too easy to forget to
pass <code class="docutils literal notranslate"><span class="pre">con</span></code> along, introducing extremely subtle escaping bugs. <code class="docutils literal notranslate"><span class="pre">win_over()</span></code>
gains a <code class="docutils literal notranslate"><span class="pre">con</span></code> argument for the same reason.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">escape_ansi()</span></code> always uses ANSI SQL 92 standard escaping (for use
in examples and documentation).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mutate(df,</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">NULL)</span></code> drops <code class="docutils literal notranslate"><span class="pre">x</span></code> from the output, just like when working with
local data frames (#194).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">partial_eval()</span></code> processes inlined functions (including rlang lambda
functions). This makes dbplyr work with more forms of scoped verbs like
<code class="docutils literal notranslate"><span class="pre">df</span> <span class="pre">%&gt;%</span> <span class="pre">summarise_all(~</span> <span class="pre">mean(.))</span></code>, <code class="docutils literal notranslate"><span class="pre">df</span> <span class="pre">%&gt;%</span> <span class="pre">summarise_all(list(mean))</span></code> (#134).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_aggregate()</span></code> now takes an optional argument <code class="docutils literal notranslate"><span class="pre">f_r</span></code> for passing to
<code class="docutils literal notranslate"><span class="pre">check_na_rm()</span></code>. This allows the warning to show the R function name rather
than the SQL function name (&#64;sverchkov, #153).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_infix()</span></code> gains a <code class="docutils literal notranslate"><span class="pre">pad</span></code> argument for the rare operator that doesn’t
need to be surrounded by spaces.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_prefix()</span></code> no longer turns SQL functions into uppercase, allowing for
correct translation of case-sensitive SQL functions (#181, &#64;mtoto).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">summarise()</span></code> gives a clear error message if you refer to a variable
created in that same <code class="docutils literal notranslate"><span class="pre">summarise()</span></code> (#114).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">sql_call2()</span></code> which is to <code class="docutils literal notranslate"><span class="pre">rlang::call2()</span></code> as <code class="docutils literal notranslate"><span class="pre">sql_expr()</span></code> is to
<code class="docutils literal notranslate"><span class="pre">rlang::expr()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">show_query()</span></code> and <code class="docutils literal notranslate"><span class="pre">explain()</span></code> use <code class="docutils literal notranslate"><span class="pre">cat()</span></code> rather than message.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">union()</span></code>, <code class="docutils literal notranslate"><span class="pre">union_all()</span></code>, <code class="docutils literal notranslate"><span class="pre">setdiff()</span></code> and <code class="docutils literal notranslate"><span class="pre">intersect()</span></code> do a better job
of matching columns across backends (#183).</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-1-3-0">
<h1>dbplyr 1.3.0<a class="headerlink" href="#dbplyr-1-3-0" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Now supports for dplyr 0.8.0 (#190) and R 3.1.0</p></li>
</ul>
<section id="api-changes">
<h2>API changes<a class="headerlink" href="#api-changes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Calls of the form <code class="docutils literal notranslate"><span class="pre">dplyr::foo()</span></code> are now evaluated in the database,
rather than locally (#197).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vars</span></code> argument to <code class="docutils literal notranslate"><span class="pre">tbl_sql()</span></code> has been formally deprecated; it hasn’t
actually done anything for a while (#3254).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">tbl</span></code> objects now include a class generated from the class of
the underlying connection object. This makes it possible for dplyr backends
to implement different behaviour at the dplyr level, when needed. (#2293)</p></li>
</ul>
</section>
<section id="id17">
<h2>SQL translation<a class="headerlink" href="#id17" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%in%</span> <span class="pre">y</span></code> is now translated to <code class="docutils literal notranslate"><span class="pre">FALSE</span></code> if <code class="docutils literal notranslate"><span class="pre">y</span></code> is empty (&#64;mgirlich, #160).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">as.integer64(x)</span></code> translation to <code class="docutils literal notranslate"><span class="pre">CAST(x</span> <span class="pre">AS</span> <span class="pre">BIGINT)</span></code> (#3305)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">case_when</span></code> now translates with a ELSE clause if a formula of the form
<code class="docutils literal notranslate"><span class="pre">TRUE~&lt;RHS&gt;</span></code> is provided . (&#64;cderv, #112)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cummean()</span></code> now generates <code class="docutils literal notranslate"><span class="pre">AVG()</span></code> not <code class="docutils literal notranslate"><span class="pre">MEAN()</span></code> (#157)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str_detect()</span></code> now uses correct parameter order (#3397)</p></li>
<li><p>MS SQL</p>
<ul>
<li><p>Cumulative summary functions now work (#157)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ifelse()</span></code> uses <code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">WHEN</span></code> instead of <code class="docutils literal notranslate"><span class="pre">IIF</span></code>; this allows more complex
operations, such as <code class="docutils literal notranslate"><span class="pre">%in%</span></code>, to work properly (#93)</p></li>
</ul>
</li>
<li><p>Oracle</p>
<ul>
<li><p>Custom <code class="docutils literal notranslate"><span class="pre">db_drop_table()</span></code> now only drops tables if they exist (#3306)</p></li>
<li><p>Custom <code class="docutils literal notranslate"><span class="pre">setdiff()</span></code> translation  (#3493)</p></li>
<li><p>Custom <code class="docutils literal notranslate"><span class="pre">db_explain()</span></code> translation (#3471)</p></li>
</ul>
</li>
<li><p>SQLite</p>
<ul>
<li><p>Correct translation for <code class="docutils literal notranslate"><span class="pre">as.numeric()</span></code>/<code class="docutils literal notranslate"><span class="pre">as.double()</span></code> (&#64;chris-park, #171).</p></li>
</ul>
</li>
<li><p>Redshift</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">substr()</span></code> translation improved (#3339)</p></li>
</ul>
</li>
</ul>
</section>
<section id="id18">
<h2>Minor improvements and bug fixes<a class="headerlink" href="#id18" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> will only remove existing table when <code class="docutils literal notranslate"><span class="pre">overwrite</span> <span class="pre">=</span> <span class="pre">TRUE</span></code> and the
table already exists, eliminating a confusing “NOTICE” from PostgreSQL
(#3197).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">partial_eval()</span></code> handles unevaluated formulas (#184).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pull.tbl_sql()</span></code> now extracts correctly from grouped tables (#3562).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_render.op()</span></code> now correctly forwards the <code class="docutils literal notranslate"><span class="pre">con</span></code> argument (&#64;kevinykuo, #73).</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-1-2-2">
<h1>dbplyr 1.2.2<a class="headerlink" href="#dbplyr-1-2-2" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>R CMD check fixes</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-1-2-1">
<h1>dbplyr 1.2.1<a class="headerlink" href="#dbplyr-1-2-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Forward compatibility fixes for rlang 0.2.0</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-1-2-0">
<h1>dbplyr 1.2.0<a class="headerlink" href="#dbplyr-1-2-0" title="Link to this heading">#</a></h1>
<section id="new-top-level-translations">
<h2>New top-level translations<a class="headerlink" href="#new-top-level-translations" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>New translations for</p>
<ul>
<li><p>MS Access (#2946) (&#64;DavisVaughan)</p></li>
<li><p>Oracle, via odbc or ROracle (#2928, #2732, &#64;edgararuiz)</p></li>
<li><p>Teradata.</p></li>
<li><p>Redshift.</p></li>
</ul>
</li>
<li><p>dbplyr now supplies appropriate translations for the RMariaDB and
RPostgres packages (#3154). We generally recommend using these packages
in favour of the older RMySQL and RPostgreSQL packages as they are
fully DBI compliant and tested with DBItest.</p></li>
</ul>
</section>
<section id="id19">
<h2>New features<a class="headerlink" href="#id19" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> can now “copy” tbl_sql in the same src, providing another
way to cache a query into a temporary table (#3064). You can also
<code class="docutils literal notranslate"><span class="pre">copy_to</span></code> tbl_sqls from another source, and <code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> will automatically
collect then copy.</p></li>
<li><p>Initial support for stringr functions: <code class="docutils literal notranslate"><span class="pre">str_length()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_to_upper()</span></code>,
<code class="docutils literal notranslate"><span class="pre">str_to_lower()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_replace_all()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_detect()</span></code>, <code class="docutils literal notranslate"><span class="pre">str_trim()</span></code>.
Regular expression support varies from database to database, but most
simple regular expressions should be ok.</p></li>
</ul>
</section>
<section id="tools-for-developers">
<h2>Tools for developers<a class="headerlink" href="#tools-for-developers" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">db_compute()</span></code> gains an <code class="docutils literal notranslate"><span class="pre">analyze</span></code> argument to match <code class="docutils literal notranslate"><span class="pre">db_copy_to()</span></code>.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">remote_name()</span></code>, <code class="docutils literal notranslate"><span class="pre">remote_con()</span></code>, <code class="docutils literal notranslate"><span class="pre">remote_src()</span></code>, <code class="docutils literal notranslate"><span class="pre">remote_query()</span></code> and
<code class="docutils literal notranslate"><span class="pre">remote_query_plan()</span></code> provide a standard API for get metadata about a
remote tbl (#3130, #2923, #2824).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">sql_expr()</span></code> is a more convenient building block for low-level SQL
translation (#3169).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">sql_aggregate()</span></code> and <code class="docutils literal notranslate"><span class="pre">win_aggregate()</span></code> for generating SQL and windowed
SQL functions for aggregates. These take one argument, <code class="docutils literal notranslate"><span class="pre">x</span></code>, and warn if
<code class="docutils literal notranslate"><span class="pre">na.rm</span></code> is not <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> (#3155). <code class="docutils literal notranslate"><span class="pre">win_recycled()</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">win_aggregate()</span></code> and has been soft-deprecated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db_write_table</span></code> now needs to return the table name</p></li>
</ul>
</section>
<section id="id20">
<h2>Minor improvements and bug fixes<a class="headerlink" href="#id20" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Multiple <code class="docutils literal notranslate"><span class="pre">head()</span></code> calls in a row now collapse to a single call. This avoids
a printing problem with MS SQL (#3084).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">escape()</span></code> now works with integer64 values from the bit64 package (#3230)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">ifelse()</span></code>, and <code class="docutils literal notranslate"><span class="pre">if_else()</span></code> now correctly scope the false condition
so that it only applies to non-NULL conditions (#3157)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ident()</span></code> and <code class="docutils literal notranslate"><span class="pre">ident_q()</span></code> handle 0-length inputs better, and should
be easier to use with S3 (#3212)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">in_schema()</span></code> should now work in more places, particularly in <code class="docutils literal notranslate"><span class="pre">copy_to()</span></code>
(#3013, &#64;baileych)</p></li>
<li><p>SQL generation for joins no longer gets stuck in a endless loop if you
request an empty suffix (#3220).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mutate()</span></code> has better logic for splitting a single mutate into multiple
subqueries (#3095).</p></li>
<li><p>Improved <code class="docutils literal notranslate"><span class="pre">paste()</span></code> and <code class="docutils literal notranslate"><span class="pre">paste0()</span></code> support in MySQL, PostgreSQL (#3168),
and RSQLite (#3176). MySQL and PostgreSQL gain support for <code class="docutils literal notranslate"><span class="pre">str_flatten()</span></code>
which behaves like <code class="docutils literal notranslate"><span class="pre">paste(x,</span> <span class="pre">collapse</span> <span class="pre">=</span> <span class="pre">&quot;-&quot;)</span></code> (but for technical reasons
can’t be implemented as a straightforward translation of <code class="docutils literal notranslate"><span class="pre">paste()</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">same_src.tbl_sql()</span></code> now performs correct comparison instead of always
returning <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>. This means that <code class="docutils literal notranslate"><span class="pre">copy</span> <span class="pre">=</span> <span class="pre">TRUE</span></code> once again allows you to
perform cross-database joins (#3002).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">select()</span></code> queries no longer alias column names unnecessarily
(#2968, &#64;DavisVaughan).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">select()</span></code> and <code class="docutils literal notranslate"><span class="pre">rename()</span></code> are now powered by tidyselect,
fixing a few renaming bugs (#3132, #2943, #2860).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">summarise()</span></code> once again performs partial evaluation before database
submission (#3148).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test_src()</span></code> makes it easier to access a single test source.</p></li>
</ul>
</section>
<section id="id21">
<h2>Database specific improvements<a class="headerlink" href="#id21" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>MS SQL</p>
<ul>
<li><p>Better support for temporary tables (&#64;Hong-Revo)</p></li>
<li><p>Different translations for filter/mutate contexts for: <code class="docutils literal notranslate"><span class="pre">NULL</span></code> evaluation
(<code class="docutils literal notranslate"><span class="pre">is.na()</span></code>, <code class="docutils literal notranslate"><span class="pre">is.null()</span></code>), logical operators (<code class="docutils literal notranslate"><span class="pre">!</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">||</span></code>),
and comparison operators (<code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>)</p></li>
</ul>
</li>
<li><p>MySQL: <code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> (via <code class="docutils literal notranslate"><span class="pre">db_write_table()</span></code>) correctly translates logical
variables to integers (#3151).</p></li>
<li><p>odbc: improved <code class="docutils literal notranslate"><span class="pre">n()</span></code> translation in windowed context.</p></li>
<li><p>SQLite: improved <code class="docutils literal notranslate"><span class="pre">na_if</span></code> translation (&#64;cwarden)</p></li>
<li><p>PostgreSQL: translation for <code class="docutils literal notranslate"><span class="pre">grepl()</span></code> added (&#64;zozlak)</p></li>
<li><p>Oracle: changed VARVHAR to VARCHAR2 datatype (&#64;washcycle, #66)</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-1-1-0">
<h1>dbplyr 1.1.0<a class="headerlink" href="#dbplyr-1-1-0" title="Link to this heading">#</a></h1>
<section id="id22">
<h2>New features<a class="headerlink" href="#id22" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">full_join()</span></code> over non-overlapping columns <code class="docutils literal notranslate"><span class="pre">by</span> <span class="pre">=</span> <span class="pre">character()</span></code> translated to
<code class="docutils literal notranslate"><span class="pre">CROSS</span> <span class="pre">JOIN</span></code> (#2924).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">case_when()</span></code> now translates to SQL “CASE WHEN” (#2894)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%in%</span> <span class="pre">c(1)</span></code> now generates the same SQL as <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%in%</span> <span class="pre">1</span></code> (#2898).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">window_order()</span></code> and <code class="docutils literal notranslate"><span class="pre">window_frame()</span></code> give you finer control over
the window functions that dplyr creates (#2874, #2593).</p></li>
<li><p>Added SQL translations for Oracle (&#64;edgararuiz).</p></li>
</ul>
</section>
<section id="id23">
<h2>Minor improvements and bug fixes<a class="headerlink" href="#id23" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%in%</span> <span class="pre">c(1)</span></code> now generates the same SQL as <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%in%</span> <span class="pre">1</span></code> (#2898).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">head(tbl,</span> <span class="pre">0)</span></code> is now supported (#2863).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">select()</span></code>ing zero columns gives a more information error message (#2863).</p></li>
<li><p>Variables created in a join are now disambiguated against other variables
in the same table, not just variables in the other table (#2823).</p></li>
<li><p>PostgreSQL gains a better translation for <code class="docutils literal notranslate"><span class="pre">round()</span></code> (#60).</p></li>
<li><p>Added custom <code class="docutils literal notranslate"><span class="pre">db_analyze_table()</span></code> for MS SQL, Oracle, Hive and Impala (&#64;edgararuiz)</p></li>
<li><p>Added support for <code class="docutils literal notranslate"><span class="pre">sd()</span></code> for aggregate and window functions (#2887) (&#64;edgararuiz)</p></li>
<li><p>You can now use the magrittr pipe within expressions,
e.g. <code class="docutils literal notranslate"><span class="pre">mutate(mtcars,</span> <span class="pre">cyl</span> <span class="pre">%&gt;%</span> <span class="pre">as.character())</span></code>.</p></li>
<li><p>If a translation was supplied for a summarise function, but not for the
equivalent windowed variant, the expression would be translated to <code class="docutils literal notranslate"><span class="pre">NULL</span></code>
with a warning. Now <code class="docutils literal notranslate"><span class="pre">sql_variant()</span></code> checks that all aggregate functions
have matching window functions so that correct translations or clean errors
will be generated (#2887)</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dbplyr-1-0-0">
<h1>dbplyr 1.0.0<a class="headerlink" href="#dbplyr-1-0-0" title="Link to this heading">#</a></h1>
<section id="id24">
<h2>New features<a class="headerlink" href="#id24" title="Link to this heading">#</a></h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">tbl()</span></code> and <code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> now work directly with DBI connections (#2423, #2576),
so there is no longer a need to generate a dplyr src.</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>

<span class="n">con</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">DBI</span><span class="o">::</span><span class="nf">dbConnect</span><span class="p">(</span><span class="n">RSQLite</span><span class="o">::</span><span class="nf">SQLite</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;:memory:&quot;</span><span class="p">)</span>
<span class="nf">copy_to</span><span class="p">(</span><span class="n">con</span><span class="p">,</span><span class="w"> </span><span class="n">mtcars</span><span class="p">)</span>

<span class="n">mtcars2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">tbl</span><span class="p">(</span><span class="n">con</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;mtcars&quot;</span><span class="p">)</span>
<span class="n">mtcars2</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">glimpse()</span></code> now works with remote tables (#2665)</p></li>
<li><p>dplyr has gained a basic SQL optimiser, which collapses certain nested
SELECT queries into a single query (#1979). This will improve query
execution performance for databases with less sophisticated query optimisers,
and fixes certain problems with ordering and limits in subqueries (#1979).
A big thanks goes to &#64;hhoeflin for figuring out this optimisation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compute()</span></code> and <code class="docutils literal notranslate"><span class="pre">collapse()</span></code> now preserve the “ordering” of rows.
This only affects the computation of window functions, as the rest
of SQL does not care about row order (#2281).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> gains an <code class="docutils literal notranslate"><span class="pre">overwrite</span></code> argument which allows you to overwrite
an existing table. Use with care! (#2296)</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">in_schema()</span></code> function makes it easy to refer to tables in schema:
<code class="docutils literal notranslate"><span class="pre">in_schema(&quot;my_schema_name&quot;,</span> <span class="pre">&quot;my_table_name&quot;)</span></code>.</p></li>
</ul>
</section>
<section id="deprecated-and-defunct">
<h2>Deprecated and defunct<a class="headerlink" href="#deprecated-and-defunct" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">query()</span></code> is no longer exported. It hasn’t been useful for a while
so this shouldn’t break any code.</p></li>
</ul>
</section>
<section id="verb-level-sql-generation">
<h2>Verb-level SQL generation<a class="headerlink" href="#verb-level-sql-generation" title="Link to this heading">#</a></h2>
<ul>
<li><p>Partial evaluation occurs immediately when you execute a verb (like
<code class="docutils literal notranslate"><span class="pre">filter()</span></code> or <code class="docutils literal notranslate"><span class="pre">mutate()</span></code>) rather than happening when the query is executed
(#2370).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mutate.tbl_sql()</span></code> will now generate as many subqueries as necessary so
that you can refer to variables that you just created (like in mutate
with regular dataframes) (#2481, #2483).</p></li>
<li><p>SQL joins have been improved:</p>
<ul class="simple">
<li><p>SQL joins always use the <code class="docutils literal notranslate"><span class="pre">ON</span> <span class="pre">...</span></code> syntax, avoiding <code class="docutils literal notranslate"><span class="pre">USING</span> <span class="pre">...</span></code> even for
natural joins. Improved handling of tables with columns of the same name
(#1997, &#64;javierluraschi). They now generate SQL more similar to what you’d
write by hand, eliminating a layer or two of subqueries (#2333)</p></li>
<li><p>[API] They now follow the same rules for including duplicated key variables
that the data frame methods do, namely that key variables are only
kept from <code class="docutils literal notranslate"><span class="pre">x</span></code>, and never from <code class="docutils literal notranslate"><span class="pre">y</span></code> (#2410)</p></li>
<li><p>[API] The <code class="docutils literal notranslate"><span class="pre">sql_join()</span></code> generic now gains a <code class="docutils literal notranslate"><span class="pre">vars</span></code> argument which lists
the variables taken from the left and right sides of the join. If you
have a custom <code class="docutils literal notranslate"><span class="pre">sql_join()</span></code> method, you’ll need to update how your
code generates joins, following the template in <code class="docutils literal notranslate"><span class="pre">sql_join.generic()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">full_join()</span></code> throws a clear error when you attempt to use it with a
MySQL backend (#2045)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">right_join()</span></code> and <code class="docutils literal notranslate"><span class="pre">full_join()</span></code> now return results consistent with
local data frame sources when there are records in the right table with
no match in the left table. <code class="docutils literal notranslate"><span class="pre">right_join()</span></code> returns values of <code class="docutils literal notranslate"><span class="pre">by</span></code> columns
from the right table. <code class="docutils literal notranslate"><span class="pre">full_join()</span></code> returns coalesced values of <code class="docutils literal notranslate"><span class="pre">by</span></code>
columns from the left and right tables (#2578, &#64;ianmcook)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">group_by()</span></code> can now perform an inline mutate for database backends (#2422).</p></li>
<li><p>The SQL generation set operations (<code class="docutils literal notranslate"><span class="pre">intersect()</span></code>, <code class="docutils literal notranslate"><span class="pre">setdiff()</span></code>, <code class="docutils literal notranslate"><span class="pre">union()</span></code>,
and <code class="docutils literal notranslate"><span class="pre">union_all()</span></code>) have been considerably improved.</p>
<p>By default, the component SELECT are surrounded with parentheses, except on
SQLite. The SQLite backend will now throw an error if you attempt a set operation
on a query that contains a LIMIT, as that is not supported in SQLite (#2270).</p>
<p>All set operations match column names across inputs, filling in non-matching
variables with NULL (#2556).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">rename()</span></code> and <code class="docutils literal notranslate"><span class="pre">group_by()</span></code> now combine correctly (#1962)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tbl_lazy()</span></code> and <code class="docutils literal notranslate"><span class="pre">lazy_tbl()</span></code> have been exported. These help you test
generated SQL with out an active database connection.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ungroup()</span></code> correctly resets grouping variables (#2704).</p></li>
</ul>
</section>
<section id="vector-level-sql-generation">
<h2>Vector-level SQL generation<a class="headerlink" href="#vector-level-sql-generation" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">as.sql()</span></code> safely coerces an input to SQL.</p></li>
<li><p>More translators for <code class="docutils literal notranslate"><span class="pre">as.character()</span></code>, <code class="docutils literal notranslate"><span class="pre">as.integer()</span></code> and <code class="docutils literal notranslate"><span class="pre">as.double()</span></code>
(#2775).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">ident_q()</span></code> makes it possible to specifier identifiers that do not
need to be quoted.</p></li>
<li><p>Translation of inline scalars:</p>
<ul>
<li><p>Logical values are now translated differently depending on the backend.
The default is to use “true” and “false” which is the SQL-99 standard,
but not widely support. SQLite translates to “0” and “1” (#2052).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Inf</span></code> and <code class="docutils literal notranslate"><span class="pre">-Inf</span></code> are correctly escaped</p></li>
<li><p>Better test for whether or not a double is similar to an integer and
hence needs a trailing 0.0 added (#2004).</p></li>
<li><p>Quoting defaults to <code class="docutils literal notranslate"><span class="pre">DBI::dbEscapeString()</span></code> and <code class="docutils literal notranslate"><span class="pre">DBI::dbQuoteIdentifier()</span></code>
respectively.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">::</span></code> and <code class="docutils literal notranslate"><span class="pre">:::</span></code> are handled correctly (#2321)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%in%</span> <span class="pre">1</span></code> is now correctly translated to <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">IN</span> <span class="pre">(1)</span></code> (#511).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ifelse()</span></code> and <code class="docutils literal notranslate"><span class="pre">if_else()</span></code> use correct argument names in SQL translation
(#2225).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ident()</span></code> now returns an object with class <code class="docutils literal notranslate"><span class="pre">c(&quot;ident&quot;,</span> <span class="pre">&quot;character&quot;)</span></code>. It
no longer contains “sql” to indicate that this is not already escaped.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is.na()</span></code> and <code class="docutils literal notranslate"><span class="pre">is.null()</span></code> gain extra parens in SQL translation to preserve
correct precedence (#2302).</p></li>
<li><p>[API] <code class="docutils literal notranslate"><span class="pre">log(x,</span> <span class="pre">b)</span></code> is now correctly translated to the SQL <code class="docutils literal notranslate"><span class="pre">log(b,</span> <span class="pre">x)</span></code> (#2288).
SQLite does not support the 2-argument log function so it is translated
to <code class="docutils literal notranslate"><span class="pre">log(x)</span> <span class="pre">/</span> <span class="pre">log(b)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nth(x,</span> <span class="pre">i)</span></code> is now correctly translated to <code class="docutils literal notranslate"><span class="pre">nth_value(x,</span> <span class="pre">i)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n_distinct()</span></code> now accepts multiple variables (#2148).</p></li>
<li><p>[API] <code class="docutils literal notranslate"><span class="pre">substr()</span></code> is now translated to SQL, correcting for the difference
in the third argument. In R, it’s the position of the last character,
in SQL it’s the length of the string (#2536).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">win_over()</span></code> escapes expression using current database rules.</p></li>
</ul>
</section>
<section id="backends">
<h2>Backends<a class="headerlink" href="#backends" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> now uses <code class="docutils literal notranslate"><span class="pre">db_write_table()</span></code> instead of <code class="docutils literal notranslate"><span class="pre">db_create_table()</span></code> and
<code class="docutils literal notranslate"><span class="pre">db_insert_into()</span></code>. <code class="docutils literal notranslate"><span class="pre">db_write_table.DBIConnection()</span></code> uses <code class="docutils literal notranslate"><span class="pre">dbWriteTable()</span></code>.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">db_copy_to()</span></code>, <code class="docutils literal notranslate"><span class="pre">db_compute()</span></code> and <code class="docutils literal notranslate"><span class="pre">db_collect()</span></code> allow backends to
override the entire database process behind <code class="docutils literal notranslate"><span class="pre">copy_to()</span></code>, <code class="docutils literal notranslate"><span class="pre">compute()</span></code> and
<code class="docutils literal notranslate"><span class="pre">collect()</span></code>. <code class="docutils literal notranslate"><span class="pre">db_sql_render()</span></code> allow additional control over the SQL
rendering process.</p></li>
<li><p>All generics whose behaviour can vary from database to database now
provide a DBIConnection method. That means that you can easily scan
the NAMESPACE to see the extension points.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sql_escape_logical()</span></code> allows you to control the translation of
literal logicals (#2614).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">src_desc()</span></code> has been replaced by <code class="docutils literal notranslate"><span class="pre">db_desc()</span></code> and  now dispatches on the
connection, eliminating the last method that required dispatch on the class
of the src.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">win_over()</span></code>, <code class="docutils literal notranslate"><span class="pre">win_rank()</span></code>, <code class="docutils literal notranslate"><span class="pre">win_recycled()</span></code>, <code class="docutils literal notranslate"><span class="pre">win_cumulative()</span></code>,
<code class="docutils literal notranslate"><span class="pre">win_current_group()</span></code> and <code class="docutils literal notranslate"><span class="pre">win_current_order()</span></code> are now exported. This
should make it easier to provide customised SQL for window functions
(#2051, #2126).</p></li>
<li><p>SQL translation for Microsoft SQL Server (&#64;edgararuiz)</p></li>
<li><p>SQL translation for Apache Hive (&#64;edgararuiz)</p></li>
<li><p>SQL translation for Apache Impala (&#64;edgararuiz)</p></li>
</ul>
</section>
<section id="minor-bug-fixes-and-improvements">
<h2>Minor bug fixes and improvements<a class="headerlink" href="#minor-bug-fixes-and-improvements" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">collect()</span></code> once again defaults to return all rows in the data (#1968).
This makes it behave the same as <code class="docutils literal notranslate"><span class="pre">as.data.frame()</span></code> and <code class="docutils literal notranslate"><span class="pre">as_tibble()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">collect()</span></code> only regroups by variables present in the data (#2156)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">collect()</span></code> will automatically LIMIT the result to the <code class="docutils literal notranslate"><span class="pre">n</span></code>, the number of
rows requested. This will provide the query planner with more information
that it may be able to use to improve execution time (#2083).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">common_by()</span></code> gets a better error message for unexpected inputs (#2091)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> no longer checks that the table doesn’t exist before creation,
instead preferring to fall back on the database for error messages. This
should reduce both false positives and false negative (#1470)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> now succeeds for MySQL if a character column contains <code class="docutils literal notranslate"><span class="pre">NA</span></code>
(#1975, #2256, #2263, #2381, &#64;demorenoc, &#64;eduardgrebe).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy_to()</span></code> now returns its output invisibly (since you’re often just
calling for the side-effect).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distinct()</span></code> reports improved variable information for SQL backends. This
means that it is more likely to work in the middle of a pipeline (#2359).</p></li>
<li><p>Ungrouped <code class="docutils literal notranslate"><span class="pre">do()</span></code> on database backends now collects all data locally first
(#2392).</p></li>
<li><p>Call <code class="docutils literal notranslate"><span class="pre">dbFetch()</span></code> instead of the deprecated <code class="docutils literal notranslate"><span class="pre">fetch()</span></code> (#2134).
Use <code class="docutils literal notranslate"><span class="pre">DBI::dbExecute()</span></code> for non-query SQL commands (#1912)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">explain()</span></code> and <code class="docutils literal notranslate"><span class="pre">show_query()</span></code> now invisibly return the first argument,
making them easier to use inside a pipeline.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print.tbl_sql()</span></code> displays ordering (#2287) and prints table name, if known.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print(df,</span> <span class="pre">n</span> <span class="pre">=</span> <span class="pre">Inf)</span></code> and <code class="docutils literal notranslate"><span class="pre">head(df,</span> <span class="pre">n</span> <span class="pre">=</span> <span class="pre">Inf)</span></code> now work with remote tables
(#2580).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">db_desc()</span></code> and <code class="docutils literal notranslate"><span class="pre">sql_translate_env()</span></code> get defaults for DBIConnection.</p></li>
<li><p>Formatting now works by overriding the <code class="docutils literal notranslate"><span class="pre">tbl_sum()</span></code> generic instead of <code class="docutils literal notranslate"><span class="pre">print()</span></code>. This means that the output is more consistent with tibble, and that <code class="docutils literal notranslate"><span class="pre">format()</span></code> is now supported also for SQL sources (tidyverse/dbplyr#14).</p></li>
</ul>
</section>
<section id="lazy-ops">
<h2>Lazy ops<a class="headerlink" href="#lazy-ops" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>[API] The signature of <code class="docutils literal notranslate"><span class="pre">op_base</span></code> has changed to <code class="docutils literal notranslate"><span class="pre">op_base(x,</span> <span class="pre">vars,</span> <span class="pre">class)</span></code></p></li>
<li><p>[API] <code class="docutils literal notranslate"><span class="pre">translate_sql()</span></code> and <code class="docutils literal notranslate"><span class="pre">partial_eval()</span></code> have been refined:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">translate_sql()</span></code> no longer takes a vars argument; instead call
<code class="docutils literal notranslate"><span class="pre">partial_eval()</span></code> yourself.</p></li>
<li><p>Because it no longer needs the environment <code class="docutils literal notranslate"><span class="pre">translate_sql()_</span></code> now
works with a list of dots, rather than a <code class="docutils literal notranslate"><span class="pre">lazy_dots</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">partial_eval()</span></code> now takes a character vector of variable names
rather than a tbl.</p></li>
<li><p>This leads to a simplification of the <code class="docutils literal notranslate"><span class="pre">op</span></code> data structure:
dots is now a list of expressions rather than a <code class="docutils literal notranslate"><span class="pre">lazy_dots</span></code>.</p></li>
</ul>
</li>
<li><p>[API] <code class="docutils literal notranslate"><span class="pre">op_vars()</span></code> now returns a list of quoted expressions. This
enables escaping to happen at the correct time (i.e. when the connection
is known).</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./renv\library\windows\R-4.4\x86_64-w64-mingw32\dbplyr"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">dbplyr 2.5.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#improved-tools-for-qualified-table-names">Improved tools for qualified table names</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#improved-sql">Improved SQL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minor-improvements-and-bug-fixes">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-4-0">dbplyr 2.4.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#breaking-changes">Breaking changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Improved SQL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Minor improvements and bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backend-specific-improvements">Backend specific improvements</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-3-4">dbplyr 2.3.4</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-3-3">dbplyr 2.3.3</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-3-2">dbplyr 2.3.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-3-1">dbplyr 2.3.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Breaking changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#improved-error-messages">Improved error messages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bug-fixes-in-sql-generation">Bug fixes in SQL generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-3-0">dbplyr 2.3.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-features">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sql-optimisation">SQL optimisation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Improved error messages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Minor improvements and bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Backend specific improvements</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-2-1">dbplyr 2.2.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-2-0">dbplyr 2.2.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#improvements-to-sql-generation">Improvements to SQL generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-1-1">dbplyr 2.1.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-1-0">dbplyr 2.1.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sql-translation">SQL translation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-2-0-0">dbplyr 2.0.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dplyr-1-0-0-compatibility">dplyr 1.0.0 compatibility</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sql-generation">SQL generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">SQL translation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#extensibility">Extensibility</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-4-4">dbplyr 1.4.4</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-4-3">dbplyr 1.4.3</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-4-2">dbplyr 1.4.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-4-1">dbplyr 1.4.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-4-0">dbplyr 1.4.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Breaking changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sql-translations">SQL translations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sql-simulation">SQL simulation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#database-specific-improvements">Database specific improvements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-3-0">dbplyr 1.3.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#api-changes">API changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">SQL translation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-2-2">dbplyr 1.2.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-2-1">dbplyr 1.2.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-2-0">dbplyr 1.2.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-top-level-translations">New top-level translations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tools-for-developers">Tools for developers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">Minor improvements and bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">Database specific improvements</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-1-0">dbplyr 1.1.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">Minor improvements and bug fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dbplyr-1-0-0">dbplyr 1.0.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecated-and-defunct">Deprecated and defunct</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#verb-level-sql-generation">Verb-level SQL generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vector-level-sql-generation">Vector-level SQL generation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backends">Backends</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minor-bug-fixes-and-improvements">Minor bug fixes and improvements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lazy-ops">Lazy ops</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Brittany Cummings
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>