
<!DOCTYPE html>


<html lang="en" data-content_root="../../../../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>lintr 3.1.2 &#8212; Chapter 3 Data Analysis</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'renv/library/windows/R-4.4/x86_64-w64-mingw32/lintr/NEWS';</script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../../../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../../../../_static/Podocerus_bw.png" class="logo__image only-light" alt="Chapter 3 Data Analysis - Home"/>
    <img src="../../../../../../_static/Podocerus_bw.png" class="logo__image only-dark pst-js-only" alt="Chapter 3 Data Analysis - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../../../../intro.html">
                    Data Analysis of P. cristatus
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../scripts/Load_Packages.html">Load Packages</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../01_Population/01_intro.html">Question 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../01_Population/01_data_cleaning.html">Data Cleaning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../01_Population/Clustering.html">Cluster Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../01_Population/Population_structure.html">Population Structure Analysis</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../02_Occurrence/02_intro.html">Question 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/02_data_cleaning.html">Data Cleaning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/Model_1.html">Model 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/Model_2.html">Model 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/Model_3.html">Model 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../02_Occurrence/Model_exp.html">Substrate Experiment Model</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../03_Camouflage/03_intro.html">Question 3</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../03_Camouflage/03_data_cleaning.html">Data Cleaning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../03_Camouflage/Model_4.html">Model 4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../03_Camouflage/Model_5.html">Model 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../03_Camouflage/Model_6.html">Model 6</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../../04_Phylogenetic/04_intro.html">Question 4</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../04_Phylogenetic/Geneious_protocol.html">Geneious Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../04_Phylogenetic/Phylogenetic_analysis.html">Phylogenetic Analysis</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../../../../_sources/renv/library/windows/R-4.4/x86_64-w64-mingw32/lintr/NEWS.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>lintr 3.1.2</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">lintr 3.1.2</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-and-improved-features">New and improved features</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lint-accuracy-fixes-removing-false-positives">Lint accuracy fixes: removing false positives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lint-accuracy-fixes-removing-false-negatives">Lint accuracy fixes: removing false negatives</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#notes">Notes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-3-1-1">lintr 3.1.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#breaking-changes">Breaking changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bug-fixes">Bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changes-to-default-linters">Changes to default linters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">New and improved features</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#new-linters">New linters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extensions-to-existing-linters">Extensions to existing linters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Lint accuracy fixes: removing false positives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Lint accuracy fixes: removing false negatives</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-3-1-0">lintr 3.1.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecations-breaking-changes">Deprecations &amp; Breaking Changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changes-to-defaults">Changes to defaults</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">New and improved features</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">New linters</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Notes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-3-0-2">lintr 3.0.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-3-0-1">lintr 3.0.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Changes to defaults</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">New and improved features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-changes">Other changes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-3-0-0">lintr 3.0.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Breaking changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecations">Deprecations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-changes-to-defaults">Other changes to defaults</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#updates-to-default-linters">Updates to <code class="docutils literal notranslate"><span class="pre">default_linters</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-noteworthy-changes">Other noteworthy changes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">New and improved features</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">New linters</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#google-linters">Google linters</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-features-and-improvements">Other features and improvements</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#internals">Internals</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-2-0-1">lintr 2.0.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-features">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minor-fixes-and-features">Minor fixes and features</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-2-0-0">lintr 2.0.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecated-functions">Deprecated functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">New linters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-functions-for-writing-linters">New functions for writing linters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-functions-for-users">New functions for users</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linter-fixes">Linter fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#general-improvements-and-fixes">General improvements and fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-1-0-3">lintr 1.0.3</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-1-0-2">lintr 1.0.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-1-0-1">lintr 1.0.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-1-0-0">lintr 1.0.0</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-0-3-3">lintr 0.3.3</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-0-2-0">lintr 0.2.0</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="lintr-3-1-2">
<h1>lintr 3.1.2<a class="headerlink" href="#lintr-3-1-2" title="Link to this heading">#</a></h1>
<section id="new-and-improved-features">
<h2>New and improved features<a class="headerlink" href="#new-and-improved-features" title="Link to this heading">#</a></h2>
<section id="lint-accuracy-fixes-removing-false-positives">
<h3>Lint accuracy fixes: removing false positives<a class="headerlink" href="#lint-accuracy-fixes-removing-false-positives" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">unreachable_code_linter()</span></code> ignores reachable code in inline functions like <code class="docutils literal notranslate"><span class="pre">function(x)</span> <span class="pre">if</span> <span class="pre">(x</span> <span class="pre">&gt;</span> <span class="pre">2)</span> <span class="pre">stop()</span> <span class="pre">else</span> <span class="pre">x</span></code> (#2259, &#64;MEO265).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unnecessary_lambda_linter()</span></code></p>
<ul>
<li><p>ignores extractions with explicit returns like <code class="docutils literal notranslate"><span class="pre">lapply(l,</span> <span class="pre">function(x)</span> <span class="pre">foo(x)$bar)</span></code> (#2258, &#64;MichaelChirico).</p></li>
<li><p>ignores calls on the RHS of operators like <code class="docutils literal notranslate"><span class="pre">lapply(l,</span> <span class="pre">function(x)</span> <span class="pre">&quot;a&quot;</span> <span class="pre">%in%</span> <span class="pre">names(x))</span></code> (#2310, &#64;MichaelChirico).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">vector_logic_linter()</span></code> recognizes some cases where bitwise <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>/<code class="docutils literal notranslate"><span class="pre">|</span></code> are used correctly (#1453, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_comparison_linter()</span></code> ignores faulty usage like <code class="docutils literal notranslate"><span class="pre">expect_true(x,</span> <span class="pre">y</span> <span class="pre">&gt;</span> <span class="pre">z)</span></code> (#2083, &#64;MichaelChirico). Note that <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">&gt;</span> <span class="pre">z</span></code> is being passed to the <code class="docutils literal notranslate"><span class="pre">info=</span></code> argument, so this is likely a mistake.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">consecutive_assertion_linter()</span></code> ignores cases where a second assertion follows an intervening assignment with <code class="docutils literal notranslate"><span class="pre">=</span></code> (#2444, &#64;MichaelChirico).</p></li>
</ul>
</section>
<section id="lint-accuracy-fixes-removing-false-negatives">
<h3>Lint accuracy fixes: removing false negatives<a class="headerlink" href="#lint-accuracy-fixes-removing-false-negatives" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">missing_argument_linter()</span></code> catches all missing arguments in calls with several, e.g. <code class="docutils literal notranslate"><span class="pre">foo(,,)</span></code> gives 3 lints instead of 2 (#2399, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">duplicate_argument_linter()</span></code> no longer misses cases with duplicate arguments where a comment comes between the argument name and <code class="docutils literal notranslate"><span class="pre">=</span></code> (#2402, &#64;MichaelChirico).</p></li>
</ul>
</section>
</section>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Fixed a test assuming a specific parser error message that recently changed in r-devel (#2527, &#64;IndrajeetPatil).</p></li>
<li><p>&#64;MichaelChirico has taken over CRAN maintainer duties for the package. Many thanks to &#64;jimhester for more than 10 years and 15 releases wearing that hat!!</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-3-1-1">
<h1>lintr 3.1.1<a class="headerlink" href="#lintr-3-1-1" title="Link to this heading">#</a></h1>
<section id="breaking-changes">
<h2>Breaking changes<a class="headerlink" href="#breaking-changes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">infix_spaces_linter()</span></code> distinguishes <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code>, <code class="docutils literal notranslate"><span class="pre">:=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;&lt;-</span></code> and <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">-&gt;&gt;</span></code>, i.e. <code class="docutils literal notranslate"><span class="pre">infix_spaces_linter(exclude_operators</span> <span class="pre">=</span> <span class="pre">&quot;-&gt;&quot;)</span></code> will no longer exclude <code class="docutils literal notranslate"><span class="pre">-&gt;&gt;</span></code> (#2115, &#64;MichaelChirico). This change is breaking for users relying on manually-supplied <code class="docutils literal notranslate"><span class="pre">exclude_operators</span></code> containing <code class="docutils literal notranslate"><span class="pre">&quot;&lt;-&quot;</span></code> to also exclude <code class="docutils literal notranslate"><span class="pre">:=</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;&lt;-</span></code>. The fix is to manually supply <code class="docutils literal notranslate"><span class="pre">&quot;:=&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;&lt;&lt;-&quot;</span></code> as well. We don’t expect this change to affect many users, the fix is simple, and the new behavior is much more transparent, so we are including this breakage in a minor release.</p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">find_line()</span></code> and <code class="docutils literal notranslate"><span class="pre">find_column()</span></code> entries from <code class="docutils literal notranslate"><span class="pre">get_source_expressions()</span></code> expression-level objects. These have been marked deprecated since version 3.0.0. No users were found on GitHub.</p></li>
<li><p>There is experimental support for writing config in plain R scripts (as opposed to DCF files; #1210, &#64;MichaelChirico). The script is run in a new environment and variables matching settings (<code class="docutils literal notranslate"><span class="pre">?default_settings</span></code>) are copied over. In particular, this removes the need to write R code in a DCF-friendly way, and allows normal R syntax highlighting in the saved file. We may eventually deprecate the DCF approach in favor of this one; user feedback is welcome on strong preferences for either approach, or for a different approach like YAML. Generally you should be able to convert your existing <code class="docutils literal notranslate"><span class="pre">.lintr</span></code> file to an equivalent R config by replacing the <code class="docutils literal notranslate"><span class="pre">:</span></code> key-value separators with assignments (<code class="docutils literal notranslate"><span class="pre">&lt;-</span></code>). By default, such a config is searched for in a file named ‘.lintr.R’. This is a mildly breaking change if you happened to be keeping a file ‘.lintr.R’ around since that file is given precedence over ‘.lintr’.</p>
<ul>
<li><p>We also validate config files up-front make it clearer when invalid configs are present (#2195, &#64;MichaelChirico). There is a warning for “invalid” settings, i.e., settings not part of <code class="docutils literal notranslate"><span class="pre">?default_settings</span></code>. We think this is more likely to affect users declaring settings in R, since any variable defined in the config that’s not a setting must be removed to make it clearer which variables are settings vs. ancillary.</p></li>
</ul>
</li>
</ul>
</section>
<section id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sprintf_linter()</span></code> doesn’t error in cases where whitespace in <code class="docutils literal notranslate"><span class="pre">...</span></code> arguments is significant, e.g. <code class="docutils literal notranslate"><span class="pre">sprintf(&quot;%s&quot;,</span> <span class="pre">if</span> <span class="pre">(A)</span> <span class="pre">&quot;&quot;</span> <span class="pre">else</span> <span class="pre">y)</span></code>, which won’t parse if whitespace is removed (#2131, &#64;MichaelChirico).</p></li>
</ul>
</section>
<section id="changes-to-default-linters">
<h2>Changes to default linters<a class="headerlink" href="#changes-to-default-linters" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assignment_linter()</span></code> lints the {magrittr} assignment pipe <code class="docutils literal notranslate"><span class="pre">%&lt;&gt;%</span></code> (#2008, &#64;MichaelChirico). This can be deactivated by setting the new argument <code class="docutils literal notranslate"><span class="pre">allow_pipe_assign</span></code> to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_usage_linter()</span></code>:</p>
<ul>
<li><p>assumes <code class="docutils literal notranslate"><span class="pre">glue()</span></code> is <code class="docutils literal notranslate"><span class="pre">glue::glue()</span></code> when <code class="docutils literal notranslate"><span class="pre">interpret_glue=TRUE</span></code> (#2032, &#64;MichaelChirico).</p></li>
<li><p>finds function usages, including infix usage, inside <code class="docutils literal notranslate"><span class="pre">glue()</span></code> calls to avoid false positives for “unused objects” (#2029 and #2069, &#64;MichaelChirico).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_name_linter()</span></code> no longer attempts to lint strings in function calls on the LHS of assignments (#1466, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">infix_spaces_linter()</span></code> allows finer control for linting <code class="docutils literal notranslate"><span class="pre">=</span></code> in different scenarios using parse tags <code class="docutils literal notranslate"><span class="pre">EQ_ASSIGN</span></code>, <code class="docutils literal notranslate"><span class="pre">EQ_SUB</span></code>, and <code class="docutils literal notranslate"><span class="pre">EQ_FORMALS</span></code> (#1977, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">equals_na_linter()</span></code> checks for <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%in%</span> <span class="pre">NA</span></code>, which is a more convoluted form of <code class="docutils literal notranslate"><span class="pre">is.na(x)</span></code> (#2088, &#64;MichaelChirico).</p></li>
</ul>
</section>
<section id="id1">
<h2>New and improved features<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>New exclusion sentinel <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">nolint</span> <span class="pre">next</span></code> to signify the next line should skip linting (#1791, &#64;MichaelChirico). The usual rules apply for excluding specific linters, e.g. <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">nolint</span> <span class="pre">next:</span> <span class="pre">assignment_linter.</span></code>. The exact string used to match a subsequent-line exclusion is controlled by the <code class="docutils literal notranslate"><span class="pre">exclude_next</span></code> config entry or R option <code class="docutils literal notranslate"><span class="pre">&quot;lintr.exclude_next&quot;</span></code>.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xp_call_name()</span></code> helper to facilitate writing custom linters (#2023, &#64;MichaelChirico). This helper converts a matched XPath to the R function to which it corresponds. This is useful for including the “offending” function in the lint’s message.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">make_linter_from_xpath()</span></code> to facilitate making simple linters directly from a single XPath (#2064, &#64;MichaelChirico). This is especially helpful for making on-the-fly/exploratory linters, but also extends to any case where the linter can be fully defined from a static lint message and single XPath.</p></li>
<li><p>Toggle lint progress indicators with argument <code class="docutils literal notranslate"><span class="pre">show_progress</span></code> to <code class="docutils literal notranslate"><span class="pre">lint_dir()</span></code> and <code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> (#972, &#64;MichaelChirico). The default is still to show progress in <code class="docutils literal notranslate"><span class="pre">interactive()</span></code> sessions. Progress is also now shown with a “proper” progress bar (<code class="docutils literal notranslate"><span class="pre">utils::txtProgressBar()</span></code>), which in particular solves the issue of progress <code class="docutils literal notranslate"><span class="pre">.</span></code> spilling well past the width of the screen in large directories.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint()</span></code>, <code class="docutils literal notranslate"><span class="pre">lint_dir()</span></code>, and <code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> fail more gracefully when the user mis-spells an argument name (#2134, &#64;MichaelChirico).</p></li>
<li><p>Quarto files (.qmd) are included by <code class="docutils literal notranslate"><span class="pre">lint_dir()</span></code> by default (#2150, &#64;dave-lovell).</p></li>
</ul>
<section id="new-linters">
<h3>New linters<a class="headerlink" href="#new-linters" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">library_call_linter()</span></code> can detect if all library/require calls are not at the top of your script (#2027, #2043, #2163, and #2170, &#64;nicholas-masel and &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keyword_quote_linter()</span></code> for finding unnecessary or discouraged quoting of symbols in assignment, function arguments, or extraction (part of #884, &#64;MichaelChirico). Quoting is unnecessary when the target is a valid R name, e.g. <code class="docutils literal notranslate"><span class="pre">c(&quot;a&quot;</span> <span class="pre">=</span> <span class="pre">1)</span></code> can be <code class="docutils literal notranslate"><span class="pre">c(a</span> <span class="pre">=</span> <span class="pre">1)</span></code>. The same goes to assignment (<code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span> <span class="pre">&lt;-</span> <span class="pre">1</span></code>) and extraction (<code class="docutils literal notranslate"><span class="pre">x$&quot;a&quot;</span></code>). Where quoting is necessary, the linter encourages doing so with backticks (e.g. <code class="docutils literal notranslate"><span class="pre">x$`a</span> <span class="pre">b`</span></code> instead of <code class="docutils literal notranslate"><span class="pre">x$&quot;a</span> <span class="pre">b&quot;</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">length_levels_linter()</span></code> for using the specific function <code class="docutils literal notranslate"><span class="pre">nlevels()</span></code> instead of checking <code class="docutils literal notranslate"><span class="pre">length(levels(x))</span></code> (part of #884, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scalar_in_linter()</span></code> for discouraging <code class="docutils literal notranslate"><span class="pre">%in%</span></code> when the right-hand side is a scalar, e.g. <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%in%</span> <span class="pre">1</span></code> (part of #884, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if_not_else_linter()</span></code> for encouraging <code class="docutils literal notranslate"><span class="pre">if</span></code> statements to be structured as <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(A)</span> <span class="pre">x</span> <span class="pre">else</span> <span class="pre">y</span></code> instead of <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(!A)</span> <span class="pre">y</span> <span class="pre">else</span> <span class="pre">x</span></code> (part of #884, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">repeat_linter()</span></code> for encouraging <code class="docutils literal notranslate"><span class="pre">repeat</span></code> for infinite loops instead of <code class="docutils literal notranslate"><span class="pre">while</span> <span class="pre">(TRUE)</span></code> (#2106, &#64;MEO265).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">length_test_linter()</span></code> detects the common mistake <code class="docutils literal notranslate"><span class="pre">length(x</span> <span class="pre">==</span> <span class="pre">0)</span></code> which is meant to be <code class="docutils literal notranslate"><span class="pre">length(x)</span> <span class="pre">==</span> <span class="pre">0</span></code> (#1991, &#64;MichaelChirico).</p></li>
</ul>
</section>
<section id="extensions-to-existing-linters">
<h3>Extensions to existing linters<a class="headerlink" href="#extensions-to-existing-linters" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fixed_regex_linter()</span></code> gains an option <code class="docutils literal notranslate"><span class="pre">allow_unescaped</span></code> (default <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>) to toggle linting regexes not requiring any escapes or character classes (#1689, &#64;MichaelChirico). Thus <code class="docutils literal notranslate"><span class="pre">fixed_regex_linter(allow_unescaped</span> <span class="pre">=</span> <span class="pre">TRUE)</span></code> would lint on <code class="docutils literal notranslate"><span class="pre">grepl(&quot;[$]&quot;,</span> <span class="pre">x)</span></code> but not on <code class="docutils literal notranslate"><span class="pre">grepl(&quot;a&quot;,</span> <span class="pre">x)</span></code> since the latter does not use any regex special characters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">line_length_linter()</span></code> helpfully includes the line length in the lint message (#2057, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conjunct_test_linter()</span></code> also lints usage like <code class="docutils literal notranslate"><span class="pre">dplyr::filter(x,</span> <span class="pre">A</span> <span class="pre">&amp;</span> <span class="pre">B)</span></code> in favor of using <code class="docutils literal notranslate"><span class="pre">dplyr::filter(x,</span> <span class="pre">A,</span> <span class="pre">B)</span></code> (part of #884; #2110 and #2078, &#64;salim-b and &#64;MichaelChirico). Option <code class="docutils literal notranslate"><span class="pre">allow_filter</span></code> toggles when this applies. <code class="docutils literal notranslate"><span class="pre">allow_filter</span> <span class="pre">=</span> <span class="pre">&quot;always&quot;</span></code> drops such lints entirely, while <code class="docutils literal notranslate"><span class="pre">&quot;not_dplyr&quot;</span></code> only lints calls explicitly qualified as <code class="docutils literal notranslate"><span class="pre">dplyr::filter()</span></code>. The default, <code class="docutils literal notranslate"><span class="pre">&quot;never&quot;</span></code>, assumes all unqualified calls to <code class="docutils literal notranslate"><span class="pre">filter()</span></code> are <code class="docutils literal notranslate"><span class="pre">dplyr::filter()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sort_linter()</span></code> checks for code like <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">sort(x)</span></code> which is better served by using the function <code class="docutils literal notranslate"><span class="pre">is.unsorted()</span></code> (part of #884, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">paste_linter()</span></code> gains detection for file paths that are better constructed with <code class="docutils literal notranslate"><span class="pre">file.path()</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">paste0(dir,</span> <span class="pre">&quot;/&quot;,</span> <span class="pre">file)</span></code> would be better as <code class="docutils literal notranslate"><span class="pre">file.path(dir,</span> <span class="pre">file)</span></code> (part of #884, #2082, &#64;MichaelChirico). What exactly gets linted here can be fine-tuned with the <code class="docutils literal notranslate"><span class="pre">allow_file_path</span></code> option (<code class="docutils literal notranslate"><span class="pre">&quot;double_slash&quot;</span></code> by default, with alternatives <code class="docutils literal notranslate"><span class="pre">&quot;never&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;always&quot;</span></code>). When <code class="docutils literal notranslate"><span class="pre">&quot;always&quot;</span></code>, these rules are ignored. When <code class="docutils literal notranslate"><span class="pre">&quot;double_slash&quot;</span></code>, paths appearing to construct a URL that have consecutive forward slashes (<code class="docutils literal notranslate"><span class="pre">/</span></code>) are skipped. When <code class="docutils literal notranslate"><span class="pre">&quot;never&quot;</span></code>, even URLs should be constructed with <code class="docutils literal notranslate"><span class="pre">file.path()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seq_linter()</span></code> recommends <code class="docutils literal notranslate"><span class="pre">rev()</span></code> in the lint message for lints like <code class="docutils literal notranslate"><span class="pre">nrow(x):1</span></code> (#1542, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function_argument_linter()</span></code> detects usage of <code class="docutils literal notranslate"><span class="pre">missing()</span></code> for the linted argument (#1546, &#64;MichaelChirico). The simplest fix for <code class="docutils literal notranslate"><span class="pre">function_argument_linter()</span></code> lints is typically to set that argument to <code class="docutils literal notranslate"><span class="pre">NULL</span></code> by default, in which case it’s usually preferable to update function logic checking <code class="docutils literal notranslate"><span class="pre">missing()</span></code> to check <code class="docutils literal notranslate"><span class="pre">is.null()</span></code> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">commas_linter()</span></code> gains an option <code class="docutils literal notranslate"><span class="pre">allow_trailing</span></code> (default <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>) to allow trailing commas while indexing. (#2104, &#64;MEO265)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unreachable_code_linter()</span></code></p>
<ul>
<li><p>checks for code inside <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(FALSE)</span></code> and other conditional loops with deterministically false conditions (#1428, &#64;ME0265).</p></li>
<li><p>checks for unreachable code inside <code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">else</span></code>, <code class="docutils literal notranslate"><span class="pre">for</span></code>, <code class="docutils literal notranslate"><span class="pre">while</span></code>, and <code class="docutils literal notranslate"><span class="pre">repeat</span></code> blocks, including combinations with <code class="docutils literal notranslate"><span class="pre">break</span></code> and <code class="docutils literal notranslate"><span class="pre">next</span></code> statements. (#2105, &#64;ME0265).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">implicit_assignment_linter()</span></code> gains an argument <code class="docutils literal notranslate"><span class="pre">allow_lazy</span></code> (default <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>) that allows optionally skipping lazy assignments like <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&amp;&amp;</span> <span class="pre">(B</span> <span class="pre">&lt;-</span> <span class="pre">foo(A))</span></code> (#2016, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unused_import_linter()</span></code> gains an argument <code class="docutils literal notranslate"><span class="pre">interpret_glue</span></code> (default <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>) paralleling that in <code class="docutils literal notranslate"><span class="pre">object_usage_linter()</span></code> to toggle whether <code class="docutils literal notranslate"><span class="pre">glue::glue()</span></code> expressions should be inspected for exported object usage (#2042, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default_undesirable_functions</span></code> is updated to also include <code class="docutils literal notranslate"><span class="pre">Sys.unsetenv()</span></code> and <code class="docutils literal notranslate"><span class="pre">structure()</span></code> (#2192 and #2228, &#64;IndrajeetPatil and &#64;MichaelChirico).</p></li>
<li><p>Linters with logic around the magrittr pipe <code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code> consistently apply it to the other pipes <code class="docutils literal notranslate"><span class="pre">%!&gt;%</span></code>, <code class="docutils literal notranslate"><span class="pre">%T&gt;%</span></code>, <code class="docutils literal notranslate"><span class="pre">%&lt;&gt;%</span></code> (and possibly <code class="docutils literal notranslate"><span class="pre">%$%</span></code>) where appropriate (#2008, &#64;MichaelChirico).</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">brace_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pipe_call_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pipe_continuation_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unnecessary_concatenation_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unnecessary_placeholder_linter()</span></code></p></li>
</ul>
</li>
<li><p>Linters with logic around function declarations consistently include the R 4.0.0 shorthand <code class="docutils literal notranslate"><span class="pre">\()</span></code> (#2190, &#64;MichaelChirico).</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">brace_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function_left_parentheses_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">indentation_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_length_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_name_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package_hooks_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">paren_body_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unnecessary_lambda_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unreachable_code_linter()</span></code></p></li>
</ul>
</li>
</ul>
</section>
<section id="id2">
<h3>Lint accuracy fixes: removing false positives<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fixed_regex_linter()</span></code></p>
<ul>
<li><p>Is pipe-aware, in particular removing false positives around piping into {stringr} functions like <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">|&gt;</span> <span class="pre">str_replace(fixed(&quot;a&quot;),</span> <span class="pre">&quot;b&quot;)</span></code> (#1811, &#64;MichaelChirico).</p></li>
<li><p>Ignores non-string inputs to <code class="docutils literal notranslate"><span class="pre">pattern=</span></code> as a keyword argument (#2159, &#64;MichaelChirico).</p></li>
</ul>
</li>
<li><p>Several linters avoiding false positives in <code class="docutils literal notranslate"><span class="pre">$</span></code> extractions get the same exceptions for <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> extractions, e.g. <code class="docutils literal notranslate"><span class="pre">S4&#64;T</span></code> will no longer throw a <code class="docutils literal notranslate"><span class="pre">T_and_F_symbol_linter()</span></code> hit (#2039, &#64;MichaelChirico).</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">T_and_F_symbol_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">for_loop_index_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">literal_coercion_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_name_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">undesirable_function_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unreachable_code_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">yoda_test_linter()</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">sprintf_linter()</span></code> is pipe-aware, so that <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%&gt;%</span> <span class="pre">sprintf(fmt</span> <span class="pre">=</span> <span class="pre">&quot;%s&quot;)</span></code> no longer lints (#1943, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">condition_message_linter()</span></code> ignores usages of extracted calls like <code class="docutils literal notranslate"><span class="pre">env$stop(paste(a,</span> <span class="pre">b))</span></code> (#1455, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inner_combine_linter()</span></code> no longer throws on length-1 calls to <code class="docutils literal notranslate"><span class="pre">c()</span></code> like <code class="docutils literal notranslate"><span class="pre">c(exp(2))</span></code> or <code class="docutils literal notranslate"><span class="pre">c(log(3))</span></code> (#2017, &#64;MichaelChirico). Such usage is discouraged by <code class="docutils literal notranslate"><span class="pre">unnecessary_concatenation_linter()</span></code>, but <code class="docutils literal notranslate"><span class="pre">inner_combine_linter()</span></code> <em>per se</em> does not apply.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sort_linter()</span></code> only lints on <code class="docutils literal notranslate"><span class="pre">order()</span></code> of a single vector, excluding e.g. <code class="docutils literal notranslate"><span class="pre">x[order(x,</span> <span class="pre">y)]</span></code> and <code class="docutils literal notranslate"><span class="pre">x[order(y,</span> <span class="pre">x)]</span></code> (#2156, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">redundant_ifelse_linter()</span></code> is aware of <code class="docutils literal notranslate"><span class="pre">dplyr::if_else()</span></code>’s <code class="docutils literal notranslate"><span class="pre">missing=</span></code> argument, so that <code class="docutils literal notranslate"><span class="pre">if_else(A,</span> <span class="pre">TRUE,</span> <span class="pre">FALSE,</span> <span class="pre">missing</span> <span class="pre">=</span> <span class="pre">FALSE)</span></code> doesn’t lint, but <code class="docutils literal notranslate"><span class="pre">if_else(A,</span> <span class="pre">TRUE,</span> <span class="pre">FALSE,</span> <span class="pre">NA)</span></code> does (#1941, &#64;MichaelChirico). Note that <code class="docutils literal notranslate"><span class="pre">dplyr::coalesce()</span></code> or <code class="docutils literal notranslate"><span class="pre">tidyr::replace_na()</span></code> may still be preferable.</p></li>
</ul>
</section>
<section id="id3">
<h3>Lint accuracy fixes: removing false negatives<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">unreachable_code_linter()</span></code> finds unreachable code even in the presence of a comment or semicolon after <code class="docutils literal notranslate"><span class="pre">return()</span></code> or <code class="docutils literal notranslate"><span class="pre">stop()</span></code> (#2127, &#64;MEO265).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">implicit_assignment_linter()</span></code></p>
<ul>
<li><p>finds assignments in call arguments besides the first one (#2136, &#64;MichaelChirico).</p></li>
<li><p>finds assignments in parenthetical expressions like <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(A</span> <span class="pre">&amp;&amp;</span> <span class="pre">(B</span> <span class="pre">&lt;-</span> <span class="pre">foo(A)))</span> <span class="pre">{</span> <span class="pre">}</span></code> (#2138, &#64;MichaelChirico).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">unnecessary_lambda_linter()</span></code> checks for cases using explicit returns, e.g. <code class="docutils literal notranslate"><span class="pre">lapply(x,</span> <span class="pre">\(xi)</span> <span class="pre">return(sum(xi)))</span></code> (#1567, &#64;MichaelChirico).</p>
<ul>
<li><p>thanks to &#64;Bisaloo and &#64;strengejacke for detecting a regression in the original fix (#2231, #2247).</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-3-1-0">
<h1>lintr 3.1.0<a class="headerlink" href="#lintr-3-1-0" title="Link to this heading">#</a></h1>
<section id="deprecations-breaking-changes">
<h2>Deprecations &amp; Breaking Changes<a class="headerlink" href="#deprecations-breaking-changes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.lintr</span></code> files can now be kept in the directory <code class="docutils literal notranslate"><span class="pre">.github/linters</span></code> for better compatibility with Super-Linter. Note that this may be a breaking change if you already have a config in <code class="docutils literal notranslate"><span class="pre">.github/linters</span></code> inside a subdirectory as well as in your R project’s root, since the former will now be discovered first where it was ignored before. Please see <code class="docutils literal notranslate"><span class="pre">vignette(&quot;lintr&quot;)</span></code> for details on how configs are discovered (#1746, &#64;tonyk7440 and &#64;klmr).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">single_quotes_linter()</span></code> is deprecated in favor of the more generalizable <code class="docutils literal notranslate"><span class="pre">quotes_linter()</span></code> (#1729, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unneeded_concatentation_linter()</span></code> is deprecated in favor of <code class="docutils literal notranslate"><span class="pre">unnecessary_concatenation_linter()</span></code> for naming consistency (#1707, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">consecutive_stopifnot_linter()</span></code> is deprecated in favor of the more general (see below) <code class="docutils literal notranslate"><span class="pre">consecutive_assertion_linter()</span></code> (#1604, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">no_tab_linter()</span></code> is deprecated in favor of <code class="docutils literal notranslate"><span class="pre">whitespace_linter()</span></code> for naming consistency and future generalization (#1954, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">available_linters()</span></code> prioritizes <code class="docutils literal notranslate"><span class="pre">tags</span></code> over <code class="docutils literal notranslate"><span class="pre">exclude_tags</span></code> in the case of overlap, i.e., tags listed in both arguments are included, not excluded. We don’t expect many people to be affected by this, and the old behavior was not made explicit in the documentation, but make note of it here since it required changing a test in lintr’s own suite where <code class="docutils literal notranslate"><span class="pre">linters_with_tags()</span></code> implicitly assumed this behavior.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint()</span></code>, <code class="docutils literal notranslate"><span class="pre">lint_dir()</span></code>, and <code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> no longer accept certain arguments (<code class="docutils literal notranslate"><span class="pre">cache=</span></code> for <code class="docutils literal notranslate"><span class="pre">lint()</span></code>, <code class="docutils literal notranslate"><span class="pre">relative_path=</span></code> for the latter two) positionally. The <code class="docutils literal notranslate"><span class="pre">warning()</span></code> since 3.0.0 has been upgraded to an error.</p></li>
</ul>
</section>
<section id="id4">
<h2>Bug fixes<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">linters_with_tags()</span></code> now includes the previously missing spaces around “and” when listing missing linters advertised by <code class="docutils literal notranslate"><span class="pre">available_linters()</span></code>.
This error message may appear e.g. when you update lintr to a version with new linters but don’t restart your R session (#1946, &#64;Bisaloo)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fixed_regex_linter()</span></code> is more robust to errors stemming from unrecognized escapes (#1545, #1845, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_source_expressions()</span></code> can handle Sweave/Rmarkdown documents with reference chunks like <code class="docutils literal notranslate"><span class="pre">&lt;&lt;ref_file&gt;&gt;</span></code> (#779, &#64;MichaelChirico).
Note that these are simply skipped, rather than attempting to retrieve the reference and also lint it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assignment_linter()</span></code> no longer lints assignments in braces that include comments when <code class="docutils literal notranslate"><span class="pre">allow_trailing</span> <span class="pre">=</span> <span class="pre">FALSE</span></code> (#1701, &#64;ashbaldry)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_usage_linter()</span></code></p>
<ul>
<li><p>No longer silently ignores usage warnings that don’t contain a quoted name (#1714, &#64;AshesITR)</p></li>
<li><p>No longer fails on code with comments inside a multi-line call to <code class="docutils literal notranslate"><span class="pre">glue::glue()</span></code> (#1919, &#64;MichaelChirico)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">namespace_linter()</span></code> correctly recognizes backticked operators to be exported from respective namespaces (like <code class="docutils literal notranslate"><span class="pre">rlang::`%||%`</span></code>) (#1752, &#64;IndrajeetPatil)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> correctly finds a package from within a subdir if the <code class="docutils literal notranslate"><span class="pre">path</span></code> points to anywhere within the package (#1759, &#64;AshesITR)</p></li>
<li><p>Improved error behavior in <code class="docutils literal notranslate"><span class="pre">Lint()</span></code>, <code class="docutils literal notranslate"><span class="pre">lint()</span></code> and <code class="docutils literal notranslate"><span class="pre">xml_nodes_to_lints()</span></code> (#1427, #763, &#64;AshesITR)</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Lint()</span></code> validates its inputs more thoroughly, preventing errors during <code class="docutils literal notranslate"><span class="pre">print.Lints</span></code> like “Error in rep.int(character, length) : invalid ‘times’ value:”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint()</span></code> no longer tries to create an expression tree with unexpected end of input errors, because they can be broken.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xml_nodes_to_lints()</span></code> warns if it can’t find lint locations and uses dummy locations as a fallback.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">linters_with_defaults()</span></code> no longer erroneously marks linter factories as linters (#1725, &#64;AshesITR).</p></li>
<li><p>Row names for <code class="docutils literal notranslate"><span class="pre">available_linters()</span></code> data frame are now contiguous (#1781, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_name_linter()</span></code> allows all S3 group Generics (see <code class="docutils literal notranslate"><span class="pre">?base::groupGeneric</span></code>) and S3 generics defined in a different file in the same package (#1808, #1841, &#64;AshesITR)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_usage_linter()</span></code> improves identification of the exact source of a lint</p>
<ul>
<li><p>for undefined variables in expressions with where the variable is used as a symbol in a usual way, for example in a formula or in an extraction with <code class="docutils literal notranslate"><span class="pre">$</span></code> (#1914, &#64;MichaelChirico).</p></li>
<li><p>for general usage warnings without location info (#1986 and #1917, &#64;AshesITR)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">function_left_parentheses_linter()</span></code> produces a more specific lint (and no longer fails) when the opening parenthesis is on a different line than <code class="docutils literal notranslate"><span class="pre">function</span></code> or the call name (#1953, &#64;MichaelChirico). Thanks also to &#64;IndrajeetPatil and &#64;lorenzwalthert for identifying a regression in the initial fix, #1963.</p></li>
</ul>
</section>
<section id="changes-to-defaults">
<h2>Changes to defaults<a class="headerlink" href="#changes-to-defaults" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Set the default for the <code class="docutils literal notranslate"><span class="pre">except</span></code> argument in <code class="docutils literal notranslate"><span class="pre">duplicate_argument_linter()</span></code> to <code class="docutils literal notranslate"><span class="pre">c(&quot;mutate&quot;,</span> <span class="pre">&quot;transmute&quot;)</span></code>.
This allows sequential updates like <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">|&gt;</span> <span class="pre">mutate(a</span> <span class="pre">=</span> <span class="pre">b</span> <span class="pre">+</span> <span class="pre">1,</span> <span class="pre">a</span> <span class="pre">=</span> <span class="pre">log(a))</span></code> (#1345, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_usage_linter()</span></code></p>
<ul>
<li><p>gains <code class="docutils literal notranslate"><span class="pre">skip_with</span></code> argument to skip code in <code class="docutils literal notranslate"><span class="pre">with()</span></code> expressions. To be consistent with
<code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">CMD</span> <span class="pre">check</span></code>, it defaults to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> (#941, #1458, &#64;IndrajeetPatil).</p></li>
<li><p>Handles backticked symbols inside {glue} expressions correctly, e.g. <code class="docutils literal notranslate"><span class="pre">glue(&quot;{`x`}&quot;)</span></code> correctly
determines <code class="docutils literal notranslate"><span class="pre">x</span></code> was used (#1619, &#64;MichaelChirico)</p></li>
<li><p>Detects problems inside R4.1.0+ lambda functions (<code class="docutils literal notranslate"><span class="pre">\(...)</span></code>) (#1933, &#64;MichaelChirico)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">spaces_inside_linter()</span></code> allows terminal missing keyword arguments (e.g. <code class="docutils literal notranslate"><span class="pre">alist(arg</span> <span class="pre">=</span> <span class="pre">)</span></code>; #540, &#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">brace_linter()</span></code> allows empty braced expression on the same line (e.g. <code class="docutils literal notranslate"><span class="pre">while</span> <span class="pre">(updating_condition())</span> <span class="pre">{</span> <span class="pre">}</span></code>)
regardless of <code class="docutils literal notranslate"><span class="pre">allow_single_line</span></code> to match the corresponding behavior in {styler}. This is an expedient while
the style guide on handling this case awaits clarification: <a class="github reference external" href="https://github.com/tidyverse/style/issues/191">tidyverse/style#191</a>.
(#1346, &#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">undesirable_function_linter()</span></code> and <code class="docutils literal notranslate"><span class="pre">undesirable_operator_linter()</span></code> now produce an error
if empty vector of undesirable functions or operators is provided (#1867, &#64;IndrajeetPatil).</p></li>
<li><p>New linters which are also included as defaults (see “New linters” for more details):</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">indentation_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quotes_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unnecessary_concatenation_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">whitespace_linter()</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> also looks for files in <code class="docutils literal notranslate"><span class="pre">exec/</span></code> (#1950, &#64;jmaspons).</p></li>
</ul>
</section>
<section id="id5">
<h2>New and improved features<a class="headerlink" href="#id5" title="Link to this heading">#</a></h2>
<ul>
<li><p>New <code class="docutils literal notranslate"><span class="pre">get_r_string()</span></code> helper to get the R-equivalent value of a string, especially useful for R-4-style raw strings.
Previously an internal <code class="docutils literal notranslate"><span class="pre">lintr</span></code> helper, now exported to facilitate writing custom linters (#1493, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_usage_linter()</span></code> improves lint metadata when detecting undefined infix operators, e.g. <code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code> or <code class="docutils literal notranslate"><span class="pre">:=</span></code> (#1497, &#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unused_import_linter()</span></code> can detect datasets from imported packages and no longer
warns when a package is imported only for its datasets (#1545, &#64;IndrajeetPatil).</p></li>
<li><p>When a linter triggers an error, <code class="docutils literal notranslate"><span class="pre">lint()</span></code> will provide a more actionable summary of where the
error occurred, particularly useful for cases like <code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> where both the responsible file
and the responsible linter would be unknown (&#64;MichaelChirico).</p>
<p>Typically, linters should not themselves cause R to stop – syntax errors lead to error lints,
for example. Please report such failures as they are likely bugs.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">pipe_continuation_linter()</span></code> recognizes violations involving the native R pipe <code class="docutils literal notranslate"><span class="pre">|&gt;</span></code> (#1609, &#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">paste_linter()</span></code> also catches usages like <code class="docutils literal notranslate"><span class="pre">paste(rep(&quot;*&quot;,</span> <span class="pre">10L),</span> <span class="pre">collapse</span> <span class="pre">=</span> <span class="pre">&quot;&quot;)</span></code> that can be written more
concisely as <code class="docutils literal notranslate"><span class="pre">strrep(&quot;*&quot;,</span> <span class="pre">10L)</span></code> (#1108, &#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spaces_inside_linter()</span></code> produces lints for spaces inside <code class="docutils literal notranslate"><span class="pre">[[</span></code> (#1673, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sprintf_linter()</span></code> also applies to <code class="docutils literal notranslate"><span class="pre">gettextf()</span></code> (#1677, &#64;MichaelChirico)</p></li>
<li><p>Documentation for all linters contains examples of code that does and does not produce lints (#1492, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">implicit_integer_linter()</span></code> gains parameter <code class="docutils literal notranslate"><span class="pre">allow_colon</span></code> to skip lints on expressions like <code class="docutils literal notranslate"><span class="pre">1:10</span></code> (#1155, &#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">infix_spaces_linter()</span></code> supports the native R pipe <code class="docutils literal notranslate"><span class="pre">|&gt;</span></code> (#1793, &#64;AshesITR)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unnecessary_concatenation_linter()</span></code> (f.k.a. <code class="docutils literal notranslate"><span class="pre">unneeded_concatenation_linter()</span></code>) no longer lints on <code class="docutils literal notranslate"><span class="pre">c(...)</span></code> (i.e., passing <code class="docutils literal notranslate"><span class="pre">...</span></code> in a function call) when <code class="docutils literal notranslate"><span class="pre">allow_single_expression</span> <span class="pre">=</span> <span class="pre">FALSE</span></code> (#1696, &#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_name_linter()</span></code> gains parameter <code class="docutils literal notranslate"><span class="pre">regexes</span></code> to allow custom naming conventions (#822, #1421, &#64;AshesITR)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">literal_coercion_linter()</span></code> reports a replacement in the lint message, e.g. code like <code class="docutils literal notranslate"><span class="pre">as.integer(1)</span></code> will
suggest using <code class="docutils literal notranslate"><span class="pre">1L</span></code> instead, and code like <code class="docutils literal notranslate"><span class="pre">as.numeric(NA)</span></code> will suggest using <code class="docutils literal notranslate"><span class="pre">NA_real_</span></code> instead (#1439, &#64;MichaelChirico)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">format()</span></code> functions for <code class="docutils literal notranslate"><span class="pre">lint</span></code> and <code class="docutils literal notranslate"><span class="pre">lints</span></code> (#1784, &#64;AshesITR)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">all_linters()</span></code> function provides an easy way to access all available linters (#1843, &#64;IndrajeetPatil)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">missing_argument_linter()</span></code> allows missing arguments in <code class="docutils literal notranslate"><span class="pre">quote()</span></code> calls (#1889, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_source_expressions()</span></code> correctly extracts indented code chunks from R Markdown documents, which helps avoid spurious lints related to whitespace (#1945, &#64;MichaelChirico). The convention taken is that, within each chunk, all code is anchored relative to the leftmost non-whitespace column.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">available_linters()</span></code> gives priority to <code class="docutils literal notranslate"><span class="pre">tags</span></code> over <code class="docutils literal notranslate"><span class="pre">exclude_tags</span></code> in the case of overlap. In particular, this means that <code class="docutils literal notranslate"><span class="pre">available_linters(tags</span> <span class="pre">=</span> <span class="pre">&quot;deprecated&quot;)</span></code> will work to return deprecated linters without needing to specify <code class="docutils literal notranslate"><span class="pre">exclude_tags</span></code> (#1959, &#64;MichaelChirico).</p></li>
<li><p>The {lintr} configuration file is now searched in the system’s user configuration path; the lintr config filename can
also be configured explicitly by setting the environment variable <code class="docutils literal notranslate"><span class="pre">R_LINTR_LINTER_FILE</span></code> (#460, &#64;klmr)</p></li>
<li><p>Errors in the {lintr} configuration file now produce more informative error messages (#886, &#64;AshesITR)</p></li>
</ul>
<section id="id6">
<h3>New linters<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">matrix_apply_linter()</span></code> recommends use of dedicated <code class="docutils literal notranslate"><span class="pre">rowSums()</span></code>, <code class="docutils literal notranslate"><span class="pre">colSums()</span></code>, <code class="docutils literal notranslate"><span class="pre">colMeans()</span></code>, <code class="docutils literal notranslate"><span class="pre">rowMeans()</span></code> over <code class="docutils literal notranslate"><span class="pre">apply(.,</span> <span class="pre">MARGIN,</span> <span class="pre">sum)</span></code> or <code class="docutils literal notranslate"><span class="pre">apply(.,</span> <span class="pre">MARGIN,</span> <span class="pre">mean)</span></code>. The recommended alternative is much more efficient and more readable (#1869, &#64;Bisaloo).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unnecessary_lambda_linter()</span></code>: detect unnecessary lambdas (anonymous functions), e.g.
<code class="docutils literal notranslate"><span class="pre">lapply(x,</span> <span class="pre">function(xi)</span> <span class="pre">sum(xi))</span></code> can be <code class="docutils literal notranslate"><span class="pre">lapply(x,</span> <span class="pre">sum)</span></code> and <code class="docutils literal notranslate"><span class="pre">purrr::map(x,</span> <span class="pre">~quantile(.x,</span> <span class="pre">0.75,</span> <span class="pre">na.rm</span> <span class="pre">=</span> <span class="pre">TRUE))</span></code>
can be <code class="docutils literal notranslate"><span class="pre">purrr::map(x,</span> <span class="pre">quantile,</span> <span class="pre">0.75,</span> <span class="pre">na.rm</span> <span class="pre">=</span> <span class="pre">TRUE)</span></code>. Naming <code class="docutils literal notranslate"><span class="pre">probs</span> <span class="pre">=</span> <span class="pre">0.75</span></code> can further improve readability (#1531, #1866, &#64;MichaelChirico, &#64;Bisaloo).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">redundant_equals_linter()</span></code> for redundant comparisons to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> or <code class="docutils literal notranslate"><span class="pre">FALSE</span></code> like <code class="docutils literal notranslate"><span class="pre">is_treatment</span> <span class="pre">==</span> <span class="pre">TRUE</span></code> (#1500, &#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lengths_linter()</span></code> for encouraging usage of <code class="docutils literal notranslate"><span class="pre">lengths(x)</span></code> instead of <code class="docutils literal notranslate"><span class="pre">sapply(x,</span> <span class="pre">length)</span></code> (and similar)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function_return_linter()</span></code> for handling issues in function <code class="docutils literal notranslate"><span class="pre">return()</span></code> statements. Currently handles assignments within the <code class="docutils literal notranslate"><span class="pre">return()</span></code>
clause, e.g. <code class="docutils literal notranslate"><span class="pre">return(x</span> <span class="pre">&lt;-</span> <span class="pre">foo())</span></code> (&#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boolean_arithmetic_linter()</span></code> for identifying places where logical aggregations are more appropriate, e.g.
<code class="docutils literal notranslate"><span class="pre">length(which(x</span> <span class="pre">==</span> <span class="pre">y))</span> <span class="pre">==</span> <span class="pre">0</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">!any(x</span> <span class="pre">==</span> <span class="pre">y)</span></code> or even <code class="docutils literal notranslate"><span class="pre">all(x</span> <span class="pre">!=</span> <span class="pre">y)</span></code> (&#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">for_loop_index_linter()</span></code> to prevent overwriting local variables in a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop declared like <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">(x</span> <span class="pre">in</span> <span class="pre">x)</span> <span class="pre">{</span> <span class="pre">...</span> <span class="pre">}</span></code> (&#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_numeric_linter()</span></code> for redundant checks equivalent to <code class="docutils literal notranslate"><span class="pre">is.numeric(x)</span></code> such as <code class="docutils literal notranslate"><span class="pre">is.numeric(x)</span> <span class="pre">||</span> <span class="pre">is.integer(x)</span></code> or
<code class="docutils literal notranslate"><span class="pre">class(x)</span> <span class="pre">%in%</span> <span class="pre">c(&quot;numeric&quot;,</span> <span class="pre">&quot;integer&quot;)</span></code> (&#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">empty_assignment_linter()</span></code> for identifying empty assignments like <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">{}</span></code> that are more clearly written as <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">NULL</span></code> (&#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unnecessary_placeholder_linter()</span></code> for identifying where usage of the {magrittr} placeholder <code class="docutils literal notranslate"><span class="pre">.</span></code> could be omitted (&#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">routine_registration_linter()</span></code> for identifying native routines that don’t use registration (<code class="docutils literal notranslate"><span class="pre">useDynLib</span></code> in the <code class="docutils literal notranslate"><span class="pre">NAMESPACE</span></code>; &#64;MichaelChirico)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">indentation_linter()</span></code> for checking that the indentation conforms to 2-space Tidyverse-style (&#64;AshesITR and &#64;dgkf, #1411, #1792, #1898).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unnecessary_nested_if_linter()</span></code> for checking unnecessary nested <code class="docutils literal notranslate"><span class="pre">if</span></code> statements where a single
<code class="docutils literal notranslate"><span class="pre">if</span></code> statement with appropriate conditional expression would suffice (&#64;IndrajeetPatil and &#64;AshesITR, #1778).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">implicit_assignment_linter()</span></code> for checking implicit assignments in function calls (&#64;IndrajeetPatil and &#64;AshesITR, #1777).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quotes_linter()</span></code> is a generalized version of (now deprecated) <code class="docutils literal notranslate"><span class="pre">single_quotes_linter()</span></code>. It accepts an argument <code class="docutils literal notranslate"><span class="pre">delimiter</span></code> to specify whether <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">'</span></code> should be the accepted method for delimiting character literals. The default, <code class="docutils literal notranslate"><span class="pre">&quot;</span></code>, reflects the Tidyverse style guide recommendation and matches the behavior of <code class="docutils literal notranslate"><span class="pre">single_quotes_linter()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unnecessary_concatenation_linter()</span></code> is simply <code class="docutils literal notranslate"><span class="pre">unneeded_concatenation_linter()</span></code>, renamed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">consecutive_assertion_linter()</span></code> (f.k.a. <code class="docutils literal notranslate"><span class="pre">consecutive_stopifnot_linter()</span></code>) now lints for consecutive calls to <code class="docutils literal notranslate"><span class="pre">assertthat::assert_that()</span></code> (as long as the <code class="docutils literal notranslate"><span class="pre">msg=</span></code> argument is not used; #1604, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">whitespace_linter()</span></code> is simply <code class="docutils literal notranslate"><span class="pre">no_tab_linter()</span></code>, renamed. In the future, we plan to extend it to work for different whitespace preferences.</p></li>
</ul>
</section>
</section>
<section id="id7">
<h2>Notes<a class="headerlink" href="#id7" title="Link to this heading">#</a></h2>
<ul>
<li><p>{lintr} now depends on R version 3.5.0, in line with the tidyverse policy for R version compatibility.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint()</span></code> continues to support Rmarkdown documents. For users of custom .Rmd engines, e.g.
<code class="docutils literal notranslate"><span class="pre">marginformat</span></code> from {tufte} or <code class="docutils literal notranslate"><span class="pre">theorem</span></code> from {bookdown}, note that those engines must be registered
in {knitr} prior to running <code class="docutils literal notranslate"><span class="pre">lint()</span></code> in order for {lintr} to behave as expected, i.e., they should be
shown as part of <code class="docutils literal notranslate"><span class="pre">knitr::knit_engines$get()</span></code>.</p>
<p>For {tufte} and {bookdown} in particular, one only needs to load the package namespace to accomplish
this (i.e., minimally <code class="docutils literal notranslate"><span class="pre">loadNamespace(&quot;tufte&quot;)</span></code> or <code class="docutils literal notranslate"><span class="pre">loadNamespace(&quot;bookdown&quot;)</span></code>, respectively, will
register those packages’ custom engines; since <code class="docutils literal notranslate"><span class="pre">library()</span></code> also runs <code class="docutils literal notranslate"><span class="pre">loadNamespace()</span></code>, running
<code class="docutils literal notranslate"><span class="pre">library()</span></code> will also work). Note further that {tufte} only added this code to their <code class="docutils literal notranslate"><span class="pre">.onLoad()</span></code> recently
after our request to do so (see <a class="github reference external" href="https://github.com/rstudio/tufte/issues/117">rstudio/tufte#117</a>). Therefore, ensure you’re using a
more recent version to get the behavior described here for {tufte}.</p>
<p>More generally, there is no requirement that <code class="docutils literal notranslate"><span class="pre">loadNamespace()</span></code> will register a package’s custom {knitr}
engines, so you may need to work with other package authors to figure out a solution for other engines.</p>
<p>Thanks to Yihui and other developers for their helpful discussions around this issue (#797, &#64;IndrajeetPatil).</p>
</li>
<li><p>The output of <code class="docutils literal notranslate"><span class="pre">lint()</span></code> and <code class="docutils literal notranslate"><span class="pre">Lint()</span></code> gain S3 class <code class="docutils literal notranslate"><span class="pre">&quot;list&quot;</span></code> to assist with S3 dispatch (#1494, &#64;MichaelChirico)</p>
<ul class="simple">
<li><p>As a corollary, we now register an <code class="docutils literal notranslate"><span class="pre">as_tibble</span></code> method for class <code class="docutils literal notranslate"><span class="pre">lints</span></code>, conditional on {tibble} availability, to avoid dispatching to the <code class="docutils literal notranslate"><span class="pre">list</span></code> method which does not work with <code class="docutils literal notranslate"><span class="pre">lint()</span></code> output (#1997, &#64;MichaelChirico)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_usage_linter()</span></code> gives a more helpful warning when a <code class="docutils literal notranslate"><span class="pre">glue()</span></code> expression fails to evaluate (#1985, &#64;MichaelChirico)</p></li>
<li><p>The documentation of <code class="docutils literal notranslate"><span class="pre">object_name_linter()</span></code> now describes how <code class="docutils literal notranslate"><span class="pre">&quot;symbols&quot;</span></code>
works when passed to the <code class="docutils literal notranslate"><span class="pre">styles</span></code> parameter (#1924, &#64;hedsnz).</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-3-0-2">
<h1>lintr 3.0.2<a class="headerlink" href="#lintr-3-0-2" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fix test to avoid leaving behind cache files in the global cache directory.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-3-0-1">
<h1>lintr 3.0.1<a class="headerlink" href="#lintr-3-0-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Skip multi-byte tests in non UTF-8 locales (#1504)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">modify_defaults()</span></code> no longer uses the mistaken <code class="docutils literal notranslate"><span class="pre">&quot;lintr_function&quot;</span></code> S3 class, instead applying the
<code class="docutils literal notranslate"><span class="pre">&quot;linter&quot;</span></code> class also common to <code class="docutils literal notranslate"><span class="pre">Linter()</span></code>. <code class="docutils literal notranslate"><span class="pre">Linter()</span></code> also includes <code class="docutils literal notranslate"><span class="pre">&quot;function&quot;</span></code> in the S3
class of its output to facilitate S3 dispatch to <code class="docutils literal notranslate"><span class="pre">function</span></code> methods where appropriate (#1392, &#64;MichaelChirico).</p></li>
</ul>
<section id="id8">
<h2>Changes to defaults<a class="headerlink" href="#id8" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">brace_linter()</span></code> allows opening curly braces on a new line when there is
a comment ending the preceding line (#1433 and #1434, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seq_linter()</span></code> produces lint for <code class="docutils literal notranslate"><span class="pre">seq(...)</span></code>, since it also cannot properly
handle empty edge cases (#1468, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seq_linter()</span></code> additionally lints on <code class="docutils literal notranslate"><span class="pre">1:n()</span></code> (from {dplyr})
and <code class="docutils literal notranslate"><span class="pre">1:.N</span></code> (from {data.table}) (#1396, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">literal_coercion_linter()</span></code> lints {rlang}’s atomic vector constructors
(i.e., <code class="docutils literal notranslate"><span class="pre">int()</span></code>, <code class="docutils literal notranslate"><span class="pre">chr()</span></code>, <code class="docutils literal notranslate"><span class="pre">lgl()</span></code>, and <code class="docutils literal notranslate"><span class="pre">dbl()</span></code>) if the argument is a scalar
(#1437, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">redundant_ifelse_linter()</span></code>’s lint message correctly suggests negation when
the <code class="docutils literal notranslate"><span class="pre">yes</span></code> condition is <code class="docutils literal notranslate"><span class="pre">0</span></code> (#1432, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seq_linter()</span></code> provides more specific replacement code in lint message
(#1475, &#64;IndrajeetPatil).</p></li>
</ul>
</section>
<section id="id9">
<h2>New and improved features<a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">sort_linter()</span></code> to detect <code class="docutils literal notranslate"><span class="pre">x[order(x)]</span></code> and recommend the faster and clearer alternative: <code class="docutils literal notranslate"><span class="pre">sort(x)</span></code> (#1528, &#64;Bisaloo)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unreachable_code_linter()</span></code> ignores trailing comments if they match a closing nolint block (#1347, &#64;AshesITR).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">function_argument_linter()</span></code> to enforce that arguments with defaults appear last in function declarations,
see the <a class="reference external" href="https://design.tidyverse.org/required-no-defaults.html">Tidyverse design guide</a> (#450, &#64;AshesITR).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">allow_trailing</span></code> argument added to <code class="docutils literal notranslate"><span class="pre">assignment_linter()</span></code> to check when assignment operators are at the
end of a line, and the value is on the following line (#1491, &#64;ashbaldry)</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">sarif_output()</span></code> function to output lints to SARIF output (#1424, &#64;shaopeng-gh)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">commented_code_linter()</span></code> now lints commented argument code, containing a trailing comma, as well (#386, &#64;AshesITR).
For example a comment containing <code class="docutils literal notranslate"><span class="pre">#</span>&#160; <span class="pre">na.rm</span> <span class="pre">=</span> <span class="pre">TRUE,</span></code> now triggers a lint.</p></li>
</ul>
</section>
<section id="id10">
<h2>Bug fixes<a class="headerlink" href="#id10" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">object_length_linter()</span></code> does not fail in case there are dependencies with no exports (e.g. data-only packages) (#1424, #1509, &#64;IndrajeetPatil).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_source_expressions()</span></code> no longer fails on R files that match a knitr pattern (#743, #879, #1406, &#64;AshesITR).</p></li>
<li><p>Parse error lints now appear with the linter name <code class="docutils literal notranslate"><span class="pre">&quot;error&quot;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">NA</span></code> (#1405, &#64;AshesITR).<br />
Also, linting no longer runs if the <code class="docutils literal notranslate"><span class="pre">source_expressions</span></code> contain invalid string data that would cause error messages
in other linters.
in other linters.</p></li>
<li><p>Prevent <code class="docutils literal notranslate"><span class="pre">lint()</span></code> from hanging on Rmd files with some syntax errors (#1443, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_source_expressions()</span></code> no longer omits trailing non-code lines from knitr files (#1400, #1415, &#64;AshesITR).<br />
This fixes the location information for <code class="docutils literal notranslate"><span class="pre">trailing_blank_lines_linter()</span></code> in RMarkdown documents without terminal
newlines.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">vignette(&quot;lintr&quot;)</span></code> incorrectly cited <code class="docutils literal notranslate"><span class="pre">exclude</span></code> as the key for setting file exclusions in <code class="docutils literal notranslate"><span class="pre">.lintr</span></code> when it is
actually <code class="docutils literal notranslate"><span class="pre">exclusions</span></code>. (#1401, &#64;AshesITR)</p></li>
<li><p>Fixed file exclusion detection in <code class="docutils literal notranslate"><span class="pre">lint_dir()</span></code> so it no longer errors if there are multiple exclusions or no global
exclusions configured for a single file (#1413, #1442, &#64;AshesITR).</p></li>
</ul>
</section>
<section id="other-changes">
<h2>Other changes<a class="headerlink" href="#other-changes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>The minimum needed version for soft dependency <code class="docutils literal notranslate"><span class="pre">{withr}</span></code> has been bumped to <code class="docutils literal notranslate"><span class="pre">2.5.0</span></code>
(#1404, &#64;IndrajeetPatil).</p></li>
<li><p>Changed the deprecation warning for <code class="docutils literal notranslate"><span class="pre">with_defaults()</span></code> to also mention <code class="docutils literal notranslate"><span class="pre">modify_defaults()</span></code> (#1438, &#64;AshesITR).</p></li>
<li><p>Quarto files (<code class="docutils literal notranslate"><span class="pre">.qmd</span></code>) were supported out of the box. The documentation and the
testing infrastructure are updated to reflect this (#1486, &#64;IndrajeetPatil).</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-3-0-0">
<h1>lintr 3.0.0<a class="headerlink" href="#lintr-3-0-0" title="Link to this heading">#</a></h1>
<section id="id11">
<h2>Breaking changes<a class="headerlink" href="#id11" title="Link to this heading">#</a></h2>
<ul>
<li><p>All linters are now function factories (i.e., functions that return functions) for consistency. Previously, only
linters with customizable parameters were factories (#245, &#64;fangly, &#64;AshesITR, and &#64;MichaelChirico).</p>
<p>This means that usage such as <code class="docutils literal notranslate"><span class="pre">lint(&quot;file.R&quot;,</span> <span class="pre">seq_linter)</span></code> should be updated to <code class="docutils literal notranslate"><span class="pre">lint(&quot;file.R&quot;,</span> <span class="pre">seq_linter())</span></code>, and
the following update for custom linters:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">my_custom_linter</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="n">source_expression</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kc">...</span><span class="w"> </span><span class="p">}</span>

<span class="c1"># becomes</span>
<span class="n">my_custom_linter</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kr">function</span><span class="p">()</span><span class="w"> </span><span class="nf">Linter</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="n">source_expression</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kc">...</span><span class="w"> </span><span class="p">})</span>
</pre></div>
</div>
</li>
<li><p>Exclusions specified in the <code class="docutils literal notranslate"><span class="pre">.lintr</span></code> file are now relative to the location of that file
and support excluding entire directories (#158, #438, &#64;AshesITR).</p></li>
<li><p>Removed long-deprecated linters (they’ve been marked as deprecated since v1.0.1 in 2017):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">absolute_paths_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">camel_case_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">multiple_dots_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">snake_case_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trailing_semicolons_linter()</span></code></p></li>
</ul>
</li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">return()</span></code> from <code class="docutils literal notranslate"><span class="pre">all_undesirable_functions</span></code> because early returns (which often improve
readability and reduce code complexity) require explicit use of <code class="docutils literal notranslate"><span class="pre">return()</span></code>. Follow #1100 for
an upcoming <code class="docutils literal notranslate"><span class="pre">return_linter()</span></code> to lint unnecessary <code class="docutils literal notranslate"><span class="pre">return()</span></code> statements (#1146, &#64;AshesITR).</p>
<p>Note that you can replicate old behavior by supplying <code class="docutils literal notranslate"><span class="pre">return</span></code> as a custom undesirable function:
<code class="docutils literal notranslate"><span class="pre">undesirable_function_linter(c(all_undesirable_functions,</span> <span class="pre">list(return</span> <span class="pre">=</span> <span class="pre">NA)))</span></code></p>
</li>
</ul>
</section>
<section id="deprecations">
<h2>Deprecations<a class="headerlink" href="#deprecations" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Lints are now marked with the name of the <code class="docutils literal notranslate"><span class="pre">linter</span></code> that caused them instead of the name of their implementation
function. Deprecated the obsolete <code class="docutils literal notranslate"><span class="pre">linter</span></code> argument of <code class="docutils literal notranslate"><span class="pre">Lint()</span></code> (#664, #673, #746, &#64;AshesITR). Downstream custom
linters should follow suit.</p></li>
<li><p>Renamed <code class="docutils literal notranslate"><span class="pre">semicolon_terminator_linter()</span></code> to <code class="docutils literal notranslate"><span class="pre">semicolon_linter()</span></code> for better consistency.
<code class="docutils literal notranslate"><span class="pre">semicolon_terminator_linter()</span></code> survives but is marked for deprecation. The new linter also has a new signature,
taking arguments <code class="docutils literal notranslate"><span class="pre">allow_compound</span></code> and <code class="docutils literal notranslate"><span class="pre">allow_trailing</span></code> to replace the old single argument <code class="docutils literal notranslate"><span class="pre">semicolon</span></code>, again for
signature consistency with other linters.</p></li>
<li><p>The following linters were subsumed into <code class="docutils literal notranslate"><span class="pre">brace_linter()</span></code> and are now deprecated; see the item on <code class="docutils literal notranslate"><span class="pre">brace_linter()</span></code>
below:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">closed_curly_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">open_curly_linter()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">paren_brace_linter()</span></code></p></li>
</ul>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">...</span></code> argument for <code class="docutils literal notranslate"><span class="pre">lint()</span></code>, <code class="docutils literal notranslate"><span class="pre">lint_dir()</span></code>, and <code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> has been promoted to an earlier position to
better match the <a class="reference external" href="https://design.tidyverse.org/required-no-defaults.html">Tidyverse design principle</a> of
data-&gt;descriptor-&gt;details. This change enables passing objects to <code class="docutils literal notranslate"><span class="pre">...</span></code> without needing to specify non-required
arguments, e.g. <code class="docutils literal notranslate"><span class="pre">lint_dir(&quot;/path/to/dir&quot;,</span> <span class="pre">linter())</span></code> now works without the need to specify <code class="docutils literal notranslate"><span class="pre">relative_path</span></code>.
This affects some code that uses positional arguments (#935, &#64;MichaelChirico).</p>
<ul>
<li><p>For <code class="docutils literal notranslate"><span class="pre">lint()</span></code>, <code class="docutils literal notranslate"><span class="pre">...</span></code> is now the 3rd argument, where earlier this was <code class="docutils literal notranslate"><span class="pre">cache</span></code>.</p></li>
<li><p>For <code class="docutils literal notranslate"><span class="pre">lint_dir()</span></code> and <code class="docutils literal notranslate"><span class="pre">lint_package()</span></code>, <code class="docutils literal notranslate"><span class="pre">...</span></code> is now the 2nd argument, where earlier this was <code class="docutils literal notranslate"><span class="pre">relative_path</span></code>.</p></li>
</ul>
</li>
<li><p>Deprecated argument <code class="docutils literal notranslate"><span class="pre">source_file</span></code> to exported functions <code class="docutils literal notranslate"><span class="pre">with_id()</span></code> and <code class="docutils literal notranslate"><span class="pre">ids_with_token()</span></code>. It has been renamed to
<code class="docutils literal notranslate"><span class="pre">source_expression</span></code> to better reflect that this argument is typically the output of <code class="docutils literal notranslate"><span class="pre">get_source_expressions()</span></code>.
For now, the old argument <code class="docutils literal notranslate"><span class="pre">source_file</span></code> can still be used (with warning). The now-private functional versions of many
linters also underwent the same renaming (<code class="docutils literal notranslate"><span class="pre">source_file</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">source_expression</span></code>). This has no direct effect on
packages importing lintr, but is mentioned in case custom linters imitating <code class="docutils literal notranslate"><span class="pre">lintr</span></code> style had also adopted the
<code class="docutils literal notranslate"><span class="pre">source_file</span></code> naming and want to adapt to keep in sync.</p></li>
<li><p>Deprecated <code class="docutils literal notranslate"><span class="pre">with_defaults()</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">linters_with_defaults()</span></code>, and add <code class="docutils literal notranslate"><span class="pre">modify_defaults()</span></code> which is intended to
be used more generally to modify (i.e., extend, trim, and/or update) a list of defaults. Note that the argument
corresponding to <code class="docutils literal notranslate"><span class="pre">with_defaults()</span></code>’s <code class="docutils literal notranslate"><span class="pre">default=</span></code> is called <code class="docutils literal notranslate"><span class="pre">defaults=</span></code> (i.e., pluralized) in both of these, and that
usage like <code class="docutils literal notranslate"><span class="pre">with_defaults(default</span> <span class="pre">=</span> <span class="pre">NULL,</span> <span class="pre">...)</span></code> should be converted to <code class="docutils literal notranslate"><span class="pre">linters_with_defaults(defaults</span> <span class="pre">=</span> <span class="pre">list(),</span> <span class="pre">...)</span></code>
(#1029, #1336, #1361, &#64;AshesITR and &#64;michaelchirico).</p></li>
<li><p>Deprecated the <code class="docutils literal notranslate"><span class="pre">find_line()</span></code> and <code class="docutils literal notranslate"><span class="pre">find_column()</span></code> helpers from the item-level <code class="docutils literal notranslate"><span class="pre">expressions</span></code> returned with
<code class="docutils literal notranslate"><span class="pre">get_source_expressions()</span></code>. These helpers were typically associated with regex-based logic for building linters,
which is rarely needed and prone to false positives; now that lintr almost exclusively uses XPath-based
logic for linters, these are no longer necessary (#1373, &#64;MichaelChirico).</p></li>
</ul>
</section>
<section id="other-changes-to-defaults">
<h2>Other changes to defaults<a class="headerlink" href="#other-changes-to-defaults" title="Link to this heading">#</a></h2>
<section id="updates-to-default-linters">
<h3>Updates to <code class="docutils literal notranslate"><span class="pre">default_linters</span></code><a class="headerlink" href="#updates-to-default-linters" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">brace_linter()</span></code> which combines several curly brace related linters, deprecating the following predecessors
(#1041, &#64;AshesITR):</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">closed_curly_linter()</span></code>; both now also allow <code class="docutils literal notranslate"><span class="pre">}]</span></code> in addition to <code class="docutils literal notranslate"><span class="pre">})</span></code> and <code class="docutils literal notranslate"><span class="pre">},</span></code> as exceptions, i.e., <code class="docutils literal notranslate"><span class="pre">}</span></code> doesn’t
need to be on its own line if paired with a closing square bracket, a closing parenthesis, or a comma. Also
improved lint metadata so that source markers land at the closing brace instead of the closing parenthesis to
improve the experience of fixing the lint (#583, &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">open_curly_linter()</span></code>; both also no longer lint unnecessary trailing whitespace (use <code class="docutils literal notranslate"><span class="pre">trailing_whitespace_linter()</span></code>
for this) and also allow <code class="docutils literal notranslate"><span class="pre">(</span></code>, <code class="docutils literal notranslate"><span class="pre">,</span></code>, and <code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code> on preceding lines as exceptions, i.e., <code class="docutils literal notranslate"><span class="pre">{</span></code> can be alone on a line if
the previous line is terminated with an opening parenthesis, a comma, or a pipe (<code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code>) (#487, #1028, &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">paren_brace_linter()</span></code>; <code class="docutils literal notranslate"><span class="pre">brace_linter()</span></code> also lints <code class="docutils literal notranslate"><span class="pre">if</span></code>/<code class="docutils literal notranslate"><span class="pre">else</span></code> and <code class="docutils literal notranslate"><span class="pre">repeat</span></code> with missing whitespace.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">brace_linter()</span></code> also newly enforces the following rules surrounding curly braces (originally Google linters, see
below):</p>
<ul>
<li><p>Require <code class="docutils literal notranslate"><span class="pre">else</span></code> to come on the same line as the preceding <code class="docutils literal notranslate"><span class="pre">}</span></code>, if present (#884, &#64;MichaelChirico).</p></li>
<li><p>Require functions spanning multiple lines to use curly braces (#987, &#64;MichaelChirico).</p></li>
<li><p>Require balanced usage of <code class="docutils literal notranslate"><span class="pre">{}</span></code> in <code class="docutils literal notranslate"><span class="pre">if</span></code>/<code class="docutils literal notranslate"><span class="pre">else</span></code> conditions, i.e., if the <code class="docutils literal notranslate"><span class="pre">if</span></code> branch uses braces,
then so must the <code class="docutils literal notranslate"><span class="pre">else</span></code> branch, and <em>vice versa</em> (#983, &#64;MichaelChirico).</p></li>
</ul>
</li>
</ul>
</li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">paren_body_linter()</span></code> checks that there is a space between a right parenthesis and a body expression (#809,
&#64;kpagacz).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">semicolon_linter()</span></code> as a default because it enforces a tidyverse style guide rule (#683, &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assignment_linter()</span></code> (#915, &#64;MichaelChirico):</p>
<ul>
<li><p>Right assignments are now linted by default (<code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">-&gt;&gt;</span></code>).</p></li>
<li><p>New argument <code class="docutils literal notranslate"><span class="pre">allow_cascading_assign</span></code> (<code class="docutils literal notranslate"><span class="pre">TRUE</span></code> by default) toggles whether to lint <code class="docutils literal notranslate"><span class="pre">&lt;&lt;-</span></code> and <code class="docutils literal notranslate"><span class="pre">-&gt;&gt;</span></code>.</p></li>
<li><p>New argument <code class="docutils literal notranslate"><span class="pre">allow_right_assign</span></code> (<code class="docutils literal notranslate"><span class="pre">FALSE</span></code> by default) toggles whether to lint <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">-&gt;&gt;</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">commented_code_linter()</span></code>: use the parse tree to find comments, eliminating some false positives (#451, &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">equals_na_linter()</span></code> (#545, &#64;MichaelChirico):</p>
<ul>
<li><p>Extended to lint <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">!=</span> <span class="pre">NA</span></code> (before, only <code class="docutils literal notranslate"><span class="pre">==</span></code> was caught) and <code class="docutils literal notranslate"><span class="pre">NA</span> <span class="pre">==</span> <span class="pre">x</span></code> (before, only <code class="docutils literal notranslate"><span class="pre">NA</span></code> on RHS was caught).</p></li>
<li><p>Extended to skip usages in comments like <code class="docutils literal notranslate"><span class="pre">is.na(x)</span> <span class="pre">#</span> <span class="pre">use</span> <span class="pre">is.na(x),</span> <span class="pre">not</span> <span class="pre">x</span> <span class="pre">==</span> <span class="pre">NA</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">function_left_parentheses_linter()</span></code>: improved location information (#1266, #1267, &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">infix_spaces_linter()</span></code>:</p>
<ul>
<li><p>Added argument <code class="docutils literal notranslate"><span class="pre">allow_multiple_spaces</span></code> (<code class="docutils literal notranslate"><span class="pre">TRUE</span></code> by default) which toggles
whether to generate a lint for operators used with multiple spaces, e.g. <code class="docutils literal notranslate"><span class="pre">x</span>&#160;&#160; <span class="pre">+</span>&#160;&#160; <span class="pre">2</span></code>.
The default setting allows extra spacing to be used to increase
line-to-line alignment (#940, &#64;f-ritter and &#64;MichaelChirico).</p></li>
<li><p>Extended so that usages like <code class="docutils literal notranslate"><span class="pre">a~b</span></code> and <code class="docutils literal notranslate"><span class="pre">function(a=1)</span> <span class="pre">{</span> <span class="pre">...</span> <span class="pre">}</span></code> are linted (#930, #michaelchirico).</p></li>
<li><p>Added argument <code class="docutils literal notranslate"><span class="pre">exclude_operators</span></code> to disable lints on selected infix operators.
By default, all “low-precedence” operators throw lints; see <code class="docutils literal notranslate"><span class="pre">?infix_spaces_linter</span></code> for an enumeration of these.
(#914, &#64;MichaelChirico).</p></li>
<li><p>Add an exception for <code class="docutils literal notranslate"><span class="pre">/</span></code> usage in <code class="docutils literal notranslate"><span class="pre">box::use()</span></code> declarations (#1087, &#64;klmr).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">line_length_linter()</span></code>: place the source marker at the margin of the affected line to improve user experience
during de-linting – just press <kbd>Return</kbd> (#735, &#64;AshesITR).*</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">no_tab_linter()</span></code>: use more reliable matching (e.g., excluding matches found in comments; #441, &#64;russHyde).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_length_linter()</span></code>: correctly detect generics and only count the implementation class towards the length.
This prevents false positive lints in the case of long generic names, e.g.
<code class="docutils literal notranslate"><span class="pre">very_very_very_long_generic_name.short_class</span></code> no longer produces a lint (#871, &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_name_linter()</span></code>:</p>
<ul>
<li><p>Improved generic detection – in user-defined method <code class="docutils literal notranslate"><span class="pre">my_method.upstream.class</span></code>,
<code class="docutils literal notranslate"><span class="pre">upstream.class</span></code> no longer throws a lint because the generic (<code class="docutils literal notranslate"><span class="pre">my_method</span></code>)
properly uses <code class="docutils literal notranslate"><span class="pre">snake_case</span></code> (#737, &#64;AshesITR).</p></li>
<li><p>Exclude special R namespace hook functions such as <code class="docutils literal notranslate"><span class="pre">.onLoad()</span></code> (#500, #614, &#64;AshesITR and &#64;MichaelChirico).</p></li>
<li><p>Correctly detect imported functions when linting packages (#642, &#64;AshesITR).</p></li>
<li><p>Correctly detect assignment generics like <code class="docutils literal notranslate"><span class="pre">names&lt;-.class_name</span></code> (#843, &#64;jonkeane).</p></li>
<li><p>Added new styles <code class="docutils literal notranslate"><span class="pre">&quot;symbols&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;SNAKE_CASE&quot;</span></code> (#494, #495, #615, #670, &#64;MichaelChirico and &#64;AshesITR).</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;symbols&quot;</span></code> is a new default style which won’t lint all-symbol object names. In particular, that means
operator names like <code class="docutils literal notranslate"><span class="pre">%+%</span></code> are allowed.</p></li>
</ul>
</li>
<li><p>No longer lints names used in <code class="docutils literal notranslate"><span class="pre">$</span></code> extractions (#582, &#64;AshesITR).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_usage_linter()</span></code>:</p>
<ul>
<li><p>Detect global variables if there are top-level dollar-assignments (#666, &#64;AshesITR).</p></li>
<li><p>Report usage warnings spanning multiple lines (#507, &#64;AshesITR).</p></li>
<li><p>Detect usages inside <code class="docutils literal notranslate"><span class="pre">glue::glue()</span></code> constructs (#942, &#64;AshesITR).</p></li>
<li><p>Extended to include functions assigned with <code class="docutils literal notranslate"><span class="pre">=</span></code> instead of <code class="docutils literal notranslate"><span class="pre">&lt;-</span></code> (#1081, &#64;MichaelChirico).</p></li>
<li><p>Detect functions exported by packages that are explicitly attached using <code class="docutils literal notranslate"><span class="pre">library()</span></code> or
<code class="docutils literal notranslate"><span class="pre">require()</span></code> calls (#1127, &#64;AshesITR).</p></li>
<li><p>Improved location information in some cases where the previous regex-based approach didn’t work, e.g. unicode
characters in variable names (#1285, &#64;AshesITR).</p></li>
<li><p>Correctly detect functions declared within <code class="docutils literal notranslate"><span class="pre">assign()</span></code> and <code class="docutils literal notranslate"><span class="pre">setMethod()</span></code> (#1322, &#64;AshesITR).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">spaces_inside_linter()</span></code>: ignore spaces preceding trailing comments (#636, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T_and_F_symbol_linter()</span></code>:</p>
<ul>
<li><p>Added as a default because it enforces a tidyverse style guide rule (#517, &#64;AshesITR).</p></li>
<li><p>No longer lint occurrences of <code class="docutils literal notranslate"><span class="pre">T</span></code> and <code class="docutils literal notranslate"><span class="pre">F</span></code> when used for subsetting, and give a better
message when used as variable names (#657, &#64;AshesITR).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">trailing_blank_lines_linter()</span></code>:</p>
<ul>
<li><p>Extended to lint files without a terminal newline (#675, &#64;AshesITR).</p></li>
<li><p>Also, running <code class="docutils literal notranslate"><span class="pre">lint()</span></code> on a file without a terminal newline no longer throws a <code class="docutils literal notranslate"><span class="pre">warning()</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">trailing_whitespace_linter()</span></code>:</p>
<ul>
<li><p>Extended to also lint completely blank lines by default (#1044, &#64;AshesITR).</p></li>
<li><p>Added argument <code class="docutils literal notranslate"><span class="pre">allow_empty_lines</span></code> (<code class="docutils literal notranslate"><span class="pre">FALSE</span></code> by default) to toggle this behavior.</p></li>
<li><p>Improved so that trailing whitespace inside string literals does not trigger a lint (#1045, &#64;AshesITR).</p></li>
<li><p>Added argument <code class="docutils literal notranslate"><span class="pre">allow_in_strings</span></code> (<code class="docutils literal notranslate"><span class="pre">TRUE</span></code> by default) to toggle this behavior.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">undesirable_function_linter()</span></code>:</p>
<ul>
<li><p>Added new functions to <code class="docutils literal notranslate"><span class="pre">default_undesirable_functions</span></code> related to debugging (#876, &#64;MichaelChirico):</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">browser()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">debug()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">debugcall()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">debugonce()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trace()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">untrace()</span></code></p></li>
</ul>
</li>
<li><p>No longer lints <code class="docutils literal notranslate"><span class="pre">library()</span></code> and <code class="docutils literal notranslate"><span class="pre">require()</span></code> calls attaching a package with an undesired name,
e.g. <code class="docutils literal notranslate"><span class="pre">library(foo)</span></code> (#814, &#64;kpagacz and &#64;MichaelChirico).</p></li>
<li><p>No longer lints undesirable symbols if they are used as names in <code class="docutils literal notranslate"><span class="pre">$</span></code> extractions (#1050, &#64;AshesITR).</p></li>
<li><p>Added more explanation why certain functions might be undesirable and what alternatives to use;
ditto for <code class="docutils literal notranslate"><span class="pre">undesirable_operator_linter()</span></code> (#1133, #1146, #1159, &#64;AshesITR).</p></li>
</ul>
</li>
</ul>
</section>
<section id="other-noteworthy-changes">
<h3>Other noteworthy changes<a class="headerlink" href="#other-noteworthy-changes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cyclocomp_linter()</span></code>: set the default <code class="docutils literal notranslate"><span class="pre">complexity_limit</span></code> to 15. This brings the default into sync with what
is enforced via <code class="docutils literal notranslate"><span class="pre">default_linters</span></code> (#693, &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> now lints files in the <code class="docutils literal notranslate"><span class="pre">demo</span></code> directory by default (#703, &#64;dmurdoch).</p></li>
<li><p>Moved the default lintr cache directory from <code class="docutils literal notranslate"><span class="pre">~/.R/lintr_cache</span></code> (which was a violation of
CRAN policy) to <code class="docutils literal notranslate"><span class="pre">R_user_dir(&quot;lintr&quot;,</span> <span class="pre">&quot;cache&quot;)</span></code>. Note that 3.0.0 is a major version update and invalidates
the old cache anyway, so it can be safely deleted (#1062, &#64;AshesITR).</p></li>
</ul>
</section>
</section>
<section id="id12">
<h2>New and improved features<a class="headerlink" href="#id12" title="Link to this heading">#</a></h2>
<section id="id13">
<h3>New linters<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">backport_linter()</span></code> for detecting mismatched R version dependencies (#506, #1316, #1318, #1319, &#64;MichaelChirico and
&#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">duplicate_argument_linter()</span></code> similarly checks that there are no duplicate arguments supplied to function calls (#850,
&#64;renkun-ken).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">missing_argument_linter()</span></code> to check for empty (missing) arguments in function calls (#563, #1152, &#64;renkun-ken and
&#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">missing_package_linter()</span></code> to check if packages in calls to <code class="docutils literal notranslate"><span class="pre">library()</span></code> and friends
are missing (#536, #1037, &#64;renkun-ken and &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">namespace_linter()</span></code> to check for common mistakes in <code class="docutils literal notranslate"><span class="pre">pkg::symbol</span></code> usages (#548, &#64;renkun-ken).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package_hooks_linter()</span></code> to run a series of checks also done by <code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">CMD</span> <span class="pre">check</span></code> on the <code class="docutils literal notranslate"><span class="pre">.onLoad()</span></code>, <code class="docutils literal notranslate"><span class="pre">.onAttach()</span></code>,
<code class="docutils literal notranslate"><span class="pre">.Last.lib()</span></code> and <code class="docutils literal notranslate"><span class="pre">.onDetach()</span></code> hooks (#882, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pipe_call_linter()</span></code> to enforce that all steps of <code class="docutils literal notranslate"><span class="pre">magrittr</span></code> pipelines use explicit calls instead of symbols,
e.g. <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%&gt;%</span> <span class="pre">mean()</span></code> instead of <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">%&gt;%</span> <span class="pre">mean</span></code> (#801, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sprintf_linter()</span></code> to check for common mistakes in <code class="docutils literal notranslate"><span class="pre">sprintf()</span></code> usage (#544, #624, &#64;renkun-ken and &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unused_import_linter()</span></code> to detect unnecessary <code class="docutils literal notranslate"><span class="pre">library()</span></code> calls in R scripts (#239, &#64;jimhester, &#64;AshesITR).</p></li>
</ul>
<section id="google-linters">
<h4>Google linters<a class="headerlink" href="#google-linters" title="Link to this heading">#</a></h4>
<p>Google is a heavy user of lintr internally, and has developed a large set of linters improving code consistency
and correcting common R usage mistakes. This release includes many of these linters that are
of general interest to the broader R community. More will be included in future releases. See, e.g.
#884, #979, #998, #1011, #1016, #1036, #1051, #1066, and #1067; special thanks to &#64;MichaelChirico and &#64;michaelquinn32.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">any_duplicated_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">anyDuplicated(x)</span> <span class="pre">&gt;</span> <span class="pre">0L</span></code> over <code class="docutils literal notranslate"><span class="pre">any(duplicated(x))</span></code> and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">any_is_na_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">anyNA(x)</span></code> over <code class="docutils literal notranslate"><span class="pre">any(is.na(x))</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">class_equals_linter()</span></code> Prevent comparing <code class="docutils literal notranslate"><span class="pre">class(x)</span></code> with <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, or <code class="docutils literal notranslate"><span class="pre">%in%</span></code>, where <code class="docutils literal notranslate"><span class="pre">inherits()</span></code> is typically
preferred.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">condition_message_linter()</span></code> Prevent condition messages from being constructed like <code class="docutils literal notranslate"><span class="pre">stop(paste(...))</span></code>
(where just <code class="docutils literal notranslate"><span class="pre">stop(...)</span></code> is preferable).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conjunct_test_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">expect_true(x);</span> <span class="pre">expect_true(y)</span></code> over <code class="docutils literal notranslate"><span class="pre">expect_true(x</span> <span class="pre">&amp;&amp;</span> <span class="pre">y)</span></code> and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">consecutive_stopifnot_linter()</span></code> Require consecutive calls to <code class="docutils literal notranslate"><span class="pre">stopifnot()</span></code> to be unified into one.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_comparison_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">expect_gt(x,</span> <span class="pre">y)</span></code> over <code class="docutils literal notranslate"><span class="pre">expect_true(x</span> <span class="pre">&gt;</span> <span class="pre">y)</span></code> and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_identical_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">expect_identical()</span></code> by default, and <code class="docutils literal notranslate"><span class="pre">expect_equal()</span></code> only by exception.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_length_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">expect_length(x,</span> <span class="pre">n)</span></code> over <code class="docutils literal notranslate"><span class="pre">expect_equal(length(x),</span> <span class="pre">n)</span></code> and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_named_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">expect_named(x,</span> <span class="pre">n)</span></code> over <code class="docutils literal notranslate"><span class="pre">expect_equal(names(x),</span> <span class="pre">n)</span></code> and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_not_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">expect_false(x)</span></code> over <code class="docutils literal notranslate"><span class="pre">expect_true(!x)</span></code>, and <em>vice versa</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_null_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">expect_null(x)</span></code> over <code class="docutils literal notranslate"><span class="pre">expect_equal(x,</span> <span class="pre">NULL)</span></code> and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_s3_class_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">expect_s3_class(x,</span> <span class="pre">k)</span></code> over <code class="docutils literal notranslate"><span class="pre">expect_equal(class(x),</span> <span class="pre">k)</span></code> and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_s4_class_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">expect_s4_class(x,</span> <span class="pre">k)</span></code> over <code class="docutils literal notranslate"><span class="pre">expect_true(methods::is(x,</span> <span class="pre">k))</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_true_false_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">expect_true(x)</span></code> over <code class="docutils literal notranslate"><span class="pre">expect_equal(x,</span> <span class="pre">TRUE)</span></code> and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_type_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">expect_type(x,</span> <span class="pre">t)</span></code> over <code class="docutils literal notranslate"><span class="pre">expect_equal(typeof(x),</span> <span class="pre">t)</span></code> and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fixed_regex_linter()</span></code> Require <code class="docutils literal notranslate"><span class="pre">fixed</span> <span class="pre">=</span> <span class="pre">TRUE</span></code> or <code class="docutils literal notranslate"><span class="pre">stringr::fixed()</span></code> for regular expressions that can be
expressed statically, e.g. <code class="docutils literal notranslate"><span class="pre">strsplit(x,</span> <span class="pre">&quot;[.]&quot;)</span></code> can be <code class="docutils literal notranslate"><span class="pre">strsplit(x,</span> <span class="pre">&quot;.&quot;,</span> <span class="pre">fixed</span> <span class="pre">=</span> <span class="pre">TRUE)</span></code>.</p>
<ul>
<li><p>Added parameter <code class="docutils literal notranslate"><span class="pre">allow_grepl</span></code> (default <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>) to toggle whether <code class="docutils literal notranslate"><span class="pre">grepl()</span></code> usages should be linted.
These might be treated separately because <code class="docutils literal notranslate"><span class="pre">grepl(&quot;^x&quot;,</span> <span class="pre">NA)</span></code> is <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>; the <code class="docutils literal notranslate"><span class="pre">startsWith()</span></code> equivalent to
get <code class="docutils literal notranslate"><span class="pre">FALSE</span></code> for missing input is clunkier, but more explicit: <code class="docutils literal notranslate"><span class="pre">!is.na(x)</span> <span class="pre">&amp;</span> <span class="pre">startsWith(x,</span> <span class="pre">string)</span></code> (#1376, &#64;MichaelChirico).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ifelse_censor_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">pmax()</span></code> / <code class="docutils literal notranslate"><span class="pre">pmin()</span></code> where appropriate, e.g. <code class="docutils literal notranslate"><span class="pre">ifelse(x</span> <span class="pre">&gt;</span> <span class="pre">y,</span> <span class="pre">x,</span> <span class="pre">y)</span></code> is
<code class="docutils literal notranslate"><span class="pre">pmax(x,</span> <span class="pre">y)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inner_combine_linter()</span></code> Require inputs to known-vectorized functions to be combined first rather than later,
e.g. <code class="docutils literal notranslate"><span class="pre">as.Date(c(x,</span> <span class="pre">y))</span></code> over <code class="docutils literal notranslate"><span class="pre">c(as.Date(x),</span> <span class="pre">as.Date(y))</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">literal_coercion_linter()</span></code> Require using correctly-typed literals instead of direct coercion, e.g. <code class="docutils literal notranslate"><span class="pre">1L</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">as.numeric(1)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nested_ifelse_linter()</span></code> Prevent nested calls to <code class="docutils literal notranslate"><span class="pre">ifelse()</span></code> like <code class="docutils literal notranslate"><span class="pre">ifelse(A,</span> <span class="pre">x,</span> <span class="pre">ifelse(B,</span> <span class="pre">y,</span> <span class="pre">z))</span></code>, and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numeric_leading_zero_linter()</span></code> Require a leading <code class="docutils literal notranslate"><span class="pre">0</span></code> in fractional numeric constants, e.g. <code class="docutils literal notranslate"><span class="pre">0.1</span></code> instead of <code class="docutils literal notranslate"><span class="pre">.1</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">outer_negation_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">!any(x)</span></code> over <code class="docutils literal notranslate"><span class="pre">all(!x)</span></code> and <code class="docutils literal notranslate"><span class="pre">!all(x)</span></code> over <code class="docutils literal notranslate"><span class="pre">any(!x)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">paste_linter()</span></code> lint for common mis-use of <code class="docutils literal notranslate"><span class="pre">paste()</span></code> and <code class="docutils literal notranslate"><span class="pre">paste0()</span></code>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">paste0()</span></code> encouraged instead of <code class="docutils literal notranslate"><span class="pre">paste(sep</span> <span class="pre">=</span> <span class="pre">&quot;&quot;)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">toString()</span></code> or <code class="docutils literal notranslate"><span class="pre">glue::glue_collapse()</span></code> encouraged instead of <code class="docutils literal notranslate"><span class="pre">paste(x,</span> <span class="pre">collapse</span> <span class="pre">=</span> <span class="pre">&quot;,</span> <span class="pre">&quot;)</span></code>.</p></li>
<li><p>Lint <code class="docutils literal notranslate"><span class="pre">sep=</span></code> passed to <code class="docutils literal notranslate"><span class="pre">paste0()</span></code> – typically a mistake.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">redundant_ifelse_linter()</span></code> Prevent usage like <code class="docutils literal notranslate"><span class="pre">ifelse(A</span> <span class="pre">&amp;</span> <span class="pre">B,</span> <span class="pre">TRUE,</span> <span class="pre">FALSE)</span></code> or <code class="docutils literal notranslate"><span class="pre">ifelse(C,</span> <span class="pre">0,</span> <span class="pre">1)</span></code>
(the latter is <code class="docutils literal notranslate"><span class="pre">as.numeric(!C)</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">regex_subset_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">grep(ptn,</span> <span class="pre">x,</span> <span class="pre">value</span> <span class="pre">=</span> <span class="pre">TRUE)</span></code> over <code class="docutils literal notranslate"><span class="pre">x[grep(ptn,</span> <span class="pre">x)]</span></code> and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">string_boundary_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">startsWith(x,</span> <span class="pre">ptn)</span></code> over <code class="docutils literal notranslate"><span class="pre">grepl(&quot;^ptn&quot;,</span> <span class="pre">x)</span></code> or <code class="docutils literal notranslate"><span class="pre">substr(x,</span> <span class="pre">1,</span> <span class="pre">3)</span> <span class="pre">==</span> <span class="pre">ptn</span></code>
and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">strings_as_factors_linter()</span></code> Check for code designed to work before and after the <code class="docutils literal notranslate"><span class="pre">stringsAsFactors</span> <span class="pre">=</span> <span class="pre">FALSE</span></code> default
change in R 4.0 by examining code for <code class="docutils literal notranslate"><span class="pre">data.frame()</span></code> usages susceptible to assumptions about the default value
of <code class="docutils literal notranslate"><span class="pre">stringsAsFactors=</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">system_file_linter()</span></code> Prevent usage like <code class="docutils literal notranslate"><span class="pre">file.path(system.file(&quot;A&quot;,</span> <span class="pre">package</span> <span class="pre">=</span> <span class="pre">&quot;pkg&quot;),</span> <span class="pre">&quot;B&quot;)</span></code> where simply
<code class="docutils literal notranslate"><span class="pre">system.file(&quot;A&quot;,</span> <span class="pre">&quot;B&quot;,</span> <span class="pre">package</span> <span class="pre">=</span> <span class="pre">&quot;pkg&quot;)</span></code> is more concise and readable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unreachable_code_linter()</span></code> Prevent code after <code class="docutils literal notranslate"><span class="pre">return()</span></code> and <code class="docutils literal notranslate"><span class="pre">stop()</span></code> statements that will never be reached
(extended for #1051 thanks to early user testing, thanks &#64;bersbersbers!).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vector_logic_linter()</span></code> Require use of scalar logical operators (<code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> and <code class="docutils literal notranslate"><span class="pre">||</span></code>) inside <code class="docutils literal notranslate"><span class="pre">if()</span></code> conditions and similar.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">yoda_test_linter()</span></code> Require usage of <code class="docutils literal notranslate"><span class="pre">expect_identical(x,</span> <span class="pre">1L)</span></code> over <code class="docutils literal notranslate"><span class="pre">expect_equal(1L,</span> <span class="pre">x)</span></code> and similar.</p></li>
</ul>
</section>
</section>
<section id="other-features-and-improvements">
<h3>Other features and improvements<a class="headerlink" href="#other-features-and-improvements" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Documentation</strong>: Reorganize linter documentation into new tag-based Rd pages (#888, #1015, &#64;AshesITR).</p>
<ul>
<li><p>Each linter has its own help page.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">?linters</span></code> also links to tag help pages, collecting linters with a similar goal.</p></li>
<li><p>Each linter can have multiple tags.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">available_linters()</span></code>: new function to list available linters and their tags.
This feature is extensible by package authors providing add-on linters for {lintr}.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">available_tags()</span></code>: new function to list available tags.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">linters_with_tags()</span></code>: new function to help build a list of linters using tags.</p></li>
</ul>
</li>
<li><p><strong>Encodings</strong>: lintr now supports non-system character Encodings. The correct encoding
is auto-detected from .Rproj or DESCRIPTION files in your project.
Override the default in the <code class="docutils literal notranslate"><span class="pre">encoding</span></code> setting of lintr (#752, #782, &#64;AshesITR).</p></li>
<li><p><strong>Jenkins CI</strong>: Support for writing comments to GitHub repo when running in Jenkins CI (#488, &#64;fdlk).</p></li>
<li><p><strong>Performance</strong>: Optimized performance-critical functions in lintr, such as <code class="docutils literal notranslate"><span class="pre">get_source_expressions()</span></code> resulting in
about 2x speedup in our test suite and even more for complex files (#1169, #1197, #1200, #1201, #1214, &#64;MichaelChirico
and &#64;AshesITR). Average <code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> execution time is down about 30% and the median package sees about 40%
improvement.</p></li>
<li><p><strong>Raw strings</strong>: Several linters tightened internal logic to allow for raw strings like <code class="docutils literal notranslate"><span class="pre">R&quot;(</span> <span class="pre">a\string</span> <span class="pre">)&quot;</span></code>
(#1034, #1285, &#64;MichaelChirico and &#64;AshesITR).</p></li>
<li><p><strong>Selective exclusion syntax</strong>: New syntax to exclude only selected linters from certain lines or passages.
Use <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">nolint:</span> <span class="pre">linter_name,</span> <span class="pre">linter2_name.</span></code> or <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">nolint</span> <span class="pre">start:</span> <span class="pre">linter_name,</span> <span class="pre">linter2_name.</span></code>
in source files or named lists of line numbers in <code class="docutils literal notranslate"><span class="pre">.lintr</span></code>. Note the terminal <code class="docutils literal notranslate"><span class="pre">.</span></code> is required.
Also allows for partial matching as long as the supplied prefix is unique, e.g.
<code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">nolint:</span> <span class="pre">infix_spaces.</span></code> works to exclude <code class="docutils literal notranslate"><span class="pre">infix_spaces_linter</span></code> (#605, #872, &#64;AshesITR).</p>
<ul>
<li><p>Added the linter name to lintrs output to facilitate discovery of the correct name (#1357, &#64;AshesITR).</p></li>
</ul>
</li>
<li><p>Improved S3 generic detection for non-standard S3 generics where <code class="docutils literal notranslate"><span class="pre">UseMethod()</span></code> is called after several
preceding expressions (#846, &#64;jonkeane).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extraction_operator_linter()</span></code>: no longer lint <code class="docutils literal notranslate"><span class="pre">x[NULL]</span></code> (#1273, &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_lint_level()</span></code>: new exported helper for readably explaining which type of expression is required for a custom
linter. Some linters are written to require the full file’s parse tree (for example, <code class="docutils literal notranslate"><span class="pre">single_quotes_linter()</span></code>).
Others only need single expressions, which is more cache-friendly (most linters are written this way to leverage
caching) (#921, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint_dir()</span></code> excludes the <code class="docutils literal notranslate"><span class="pre">renv</span></code> and <code class="docutils literal notranslate"><span class="pre">packrat</span></code> directories by default (#697, &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint()</span></code>: new optional argument <code class="docutils literal notranslate"><span class="pre">text</span></code> for supplying a line or lines directly, e.g. if the file is already
in memory or linting is being done <em>ad hoc</em> (#503, &#64;renkun-ken).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seq_linter()</span></code>: improve lint message to be clearer about the reason for linting (#522, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unneeded_concatenation_linter()</span></code>:</p>
<ul>
<li><p>Correctly considers arguments in pipelines (<code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code> or <code class="docutils literal notranslate"><span class="pre">|&gt;</span></code>; #573, #1270, &#64;michaelquinn32 and &#64;AshesITR).</p></li>
<li><p>New argument <code class="docutils literal notranslate"><span class="pre">allow_single_expression</span></code>, default <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>, toggling whether <code class="docutils literal notranslate"><span class="pre">c(x)</span></code> should be linted, i.e.,
a call to <code class="docutils literal notranslate"><span class="pre">c()</span></code> with only one entry which is not a constant. In some such cases, <code class="docutils literal notranslate"><span class="pre">c()</span></code> can simply be dropped,
e.g. <code class="docutils literal notranslate"><span class="pre">c(a:b)</span></code>; in others, the parentheses are still needed, e.g. <code class="docutils literal notranslate"><span class="pre">-c(a:b)</span></code> should be <code class="docutils literal notranslate"><span class="pre">-(a:b)</span></code>;
and in still others, <code class="docutils literal notranslate"><span class="pre">c()</span></code> is used for the side-effect of stripping attributes, e.g.
<code class="docutils literal notranslate"><span class="pre">c(factor(letters))</span></code> or <code class="docutils literal notranslate"><span class="pre">c(matrix(1:10,</span> <span class="pre">5,</span> <span class="pre">2))</span></code>. In this last case, <code class="docutils literal notranslate"><span class="pre">c()</span></code> can (and should) in most cases
be replaced by <code class="docutils literal notranslate"><span class="pre">as.vector()</span></code> or <code class="docutils literal notranslate"><span class="pre">as.integer()</span></code> for readability. In fact, we suspect it is <em>always</em>
preferable to do so, and may change the default to <code class="docutils literal notranslate"><span class="pre">allow_single_expression</span> <span class="pre">=</span> <span class="pre">FALSE</span></code> in the future. Please
report your use case if <code class="docutils literal notranslate"><span class="pre">as.vector()</span></code> does not suit your needs (#1344, &#64;MichaelChirico).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">use_lintr()</span></code>: new exported helper for creating a minimal <code class="docutils literal notranslate"><span class="pre">.lintr</span></code> configuration (#902, &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xml_nodes_to_lints()</span></code>: new exported helper for converting <code class="docutils literal notranslate"><span class="pre">xml_node</span></code> objects obtained using linter logic
expressed in XPath into <code class="docutils literal notranslate"><span class="pre">Lint</span></code> objects (#1124, #1216, #1234, &#64;MichaelChirico and &#64;AshesITR).</p></li>
</ul>
</section>
</section>
<section id="id14">
<h2>Bug fixes<a class="headerlink" href="#id14" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>RStudio</strong>: Source markers are cleared when there are no lints (#520, &#64;AshesITR).</p></li>
<li><p>Error message for mismatched starts and ends of exclusion ranges is now more helpful.
(#571, #860, &#64;AshesITR and &#64;danielinteractive).</p></li>
<li><p>Improved location information for R parse errors (#894, #892, &#64;renkun-ken and &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_source_expressions()</span></code>:</p>
<ul>
<li><p>Fix possible error on invalid XML produced by <code class="docutils literal notranslate"><span class="pre">xmlparsedata::xml_parse_data()</span></code> (#559, &#64;renkun-ken).</p></li>
<li><p>Fix handling zero-length variable name error (#566, &#64;renkun-ken).</p></li>
<li><p>Malformed Rmd files now cause a lint instead of an error (#571, &#64;AshesITR).</p></li>
<li><p>No longer fails if <code class="docutils literal notranslate"><span class="pre">getParseData()</span></code> returns a truncated (invalid) Unicode character as parsed text (#815,
&#64;leogama).</p></li>
<li><p>Fixes the <code class="docutils literal notranslate"><span class="pre">text</span></code> value for <code class="docutils literal notranslate"><span class="pre">STR_CONST</span></code> nodes involving 1- or 2-width octal escapes
(e.g. <code class="docutils literal notranslate"><span class="pre">&quot;\1&quot;</span></code>) to account for an R parser bug (<a class="reference external" href="https://bugs.r-project.org/show_bug.cgi?id=18323">https://bugs.r-project.org/show_bug.cgi?id=18323</a>; #1056,
&#64;MichaelChirico).</p></li>
<li><p>Handle Rmd inputs containing unevaluated code blocks with named format specifiers (#472, &#64;russHyde).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">line_length_linter()</span></code>: fix a bug causing duplicate lints for lines containing multiple expressions (#681, &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint_package()</span></code>:</p>
<ul>
<li><p>Warns and returns <code class="docutils literal notranslate"><span class="pre">NULL</span></code> if no package is found (instead of giving a peculiar error message; #776,
&#64;MichaelChirico).</p></li>
<li><p>Stricter about what is considered to be a package – folders named <code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code> are ignored (#702,
&#64;MichaelChirico).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">linters_with_defaults()</span></code> (formerly <code class="docutils literal notranslate"><span class="pre">with_defaults()</span></code>):</p>
<ul>
<li><p>No longer duplicates the <code class="docutils literal notranslate"><span class="pre">lintr_function</span></code> class when it is already present (#511, &#64;AshesITR).</p></li>
<li><p>Warns if a named argument is <code class="docutils literal notranslate"><span class="pre">NULL</span></code> but its name is not in <code class="docutils literal notranslate"><span class="pre">defaults</span></code> (#1049, &#64;AshesITR).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">linters_with_defaults()</span></code> handles automatic naming of very long arguments correctly (#774, &#64;MichaelChirico).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">save_cache()</span></code> will now recursively create the cache directory; this avoids errors that could arise if any parent
directories do not exist (#60, &#64;dankessler).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spaces_left_parentheses_linter()</span></code>: fix a bug causing warnings like “In <code class="docutils literal notranslate"><span class="pre">parent</span> <span class="pre">==</span> <span class="pre">parent[before_operator_idx]</span></code>
longer object length is not a multiple of shorter object length” in nested expressions (#654, &#64;AshesITR).</p></li>
</ul>
</section>
<section id="internals">
<h2>Internals<a class="headerlink" href="#internals" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Added a new, more restrictive test workflow - <code class="docutils literal notranslate"><span class="pre">test-package</span></code> - that fails on warnings emitted by tests
(#1263, #1272, &#64;AshesITR).</p></li>
<li><p>Added a secondary, more restrictive lint workflow - <code class="docutils literal notranslate"><span class="pre">lint-changed-files</span></code> - for newly written / modified code
(#641, &#64;dragosmg).</p></li>
<li><p>Several optional <code class="docutils literal notranslate"><span class="pre">Imported</span></code> packages have become <code class="docutils literal notranslate"><span class="pre">Suggested</span></code> dependencies: <code class="docutils literal notranslate"><span class="pre">httr</span></code>, <code class="docutils literal notranslate"><span class="pre">testthat</span></code>, and <code class="docutils literal notranslate"><span class="pre">rstudioapi</span></code>.
This should allow snappier CI builds for usages not relying on some more “peripheral” features of the package.</p></li>
<li><p>Special thanks to &#64;bersbersbers for early testing on the 3.0.0 changes.</p></li>
<li><p>Switched CI from Travis to GitHub Actions, using the full tidyverse recommended <code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">CMD</span> <span class="pre">check</span></code>. Code coverage and
linting are implemented using separate GitHub Actions workflows (#572, &#64;dragosmg).</p></li>
<li><p>Updated R CMD GitHub Actions workflow to check for R 3.6 on Ubuntu, instead of R 3.3, and for R 4.0 on Windows,
instead of R 3.6 (#803, &#64; dragosmg).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lintr</span></code> now uses the 3rd edition of <code class="docutils literal notranslate"><span class="pre">testthat</span></code> (&#64;MichaelChirico, &#64;AshesITR, #910, #967).</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-2-0-1">
<h1>lintr 2.0.1<a class="headerlink" href="#lintr-2-0-1" title="Link to this heading">#</a></h1>
<section id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>lintr now supports GitHub Actions and will print the lints as warning messages if lints are printed during an action.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> will now lint vignettes and data-raw by default (#447, &#64;AshesITR).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint_dir()</span></code> will now include Rmd and Rnw files by default (&#64;AshesITR).</p></li>
</ul>
</section>
<section id="minor-fixes-and-features">
<h2>Minor fixes and features<a class="headerlink" href="#minor-fixes-and-features" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">single_quote_linter()</span></code> no longer causes a print issue when open quote
appears at a column &gt; than close quote (#457, &#64;jamieRowen)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">absolute_path_linter()</span></code> and <code class="docutils literal notranslate"><span class="pre">nonportable_path_linter()</span></code> now handle
file-paths that are wrapped with double-quotes (#433, #437, &#64;russHyde).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_source_expressions()</span></code> has been changed to handle <code class="docutils literal notranslate"><span class="pre">expr_or_assign_or_help</span></code>
tokens arising when parsing code containing equals-assignments in R-devel
(#403, #456, &#64;russHyde).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_usage_linter</span></code> has been changed to ensure lint-position is indicated
relative to the start of the file, rather than the start of a defining
function (#432, &#64;russHyde).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">commas_linter</span></code> now allows spaces to come before a comma when used to denote a
fall-through in a switch statement (#499, &#64;MrMallIronmaker)</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-2-0-0">
<h1>lintr 2.0.0<a class="headerlink" href="#lintr-2-0-0" title="Link to this heading">#</a></h1>
<p>lintr 2.0.0 is a major release, and incorporates development changes since the last major release (1.0.0) in 2016-04-16.</p>
<section id="deprecated-functions">
<h2>Deprecated functions<a class="headerlink" href="#deprecated-functions" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Deprecated <code class="docutils literal notranslate"><span class="pre">camel_case_linter()</span></code>, <code class="docutils literal notranslate"><span class="pre">snake_case_linter()</span></code> and <code class="docutils literal notranslate"><span class="pre">multiple_dots_linter()</span></code>
in favor of <code class="docutils literal notranslate"><span class="pre">object_name_linter()</span></code> which enforce the given style: snake_case,
dotted.case, lowerCamelCalse, UpperCamelCase, alllowercase or ALLUPPERCASE
(#59, &#64;fangly).</p></li>
<li><p>Deprecated absolute_paths_linter() in favor of the new <code class="docutils literal notranslate"><span class="pre">absolute_path_linter()</span></code>,
with a lax mode for fewer false positive lints (#199, &#64;fangly).</p></li>
</ul>
</section>
<section id="id15">
<h2>New linters<a class="headerlink" href="#id15" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">cyclocomp_linter()</span></code> identifies overly complex functions (#361, &#64;fabian-s)</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">equals_na_linter()</span></code> (#143, #326, &#64;jabranham)</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">extraction_operator_linter()</span></code> checks that the <code class="docutils literal notranslate"><span class="pre">[[</span></code> operator is used when
extracting a single element from an object, not <code class="docutils literal notranslate"><span class="pre">[</span></code> (subsetting) nor <code class="docutils literal notranslate"><span class="pre">$</span></code>
(interactive use) (&#64;fangly).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">function_left_parentheses_linter()</span></code> to check that there is no space between
a function name and its left parentheses (#204, &#64;jrnold).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">implicit_integer_linter()</span></code> detects round numbers not declared as integers,
i.e. 1 instead of 1L (&#64;fangly).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">nonportable_path_linter()</span></code> identifies paths constructed without file.path()
(&#64;fangly).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">paren_brace_linter()</span></code> checks that there is a space between right
parenthesis and an opening curly brace (&#64;bfgray3, #242).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">pipe_continuation_linter()</span></code> to ensure there is a space before %&gt;% and newline afterwards (#216).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">semicolon_terminator_linter()</span></code> reports semicolons at the end of a line (#147,
&#64;gaborcsardi) and between expressions (#181, &#64;fangly).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">seq_linter()</span></code>, finds <code class="docutils literal notranslate"><span class="pre">1:length(...)</span></code> (and similar) expressions (#155, &#64;gaborcsardi)</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">todo_comment_linter()</span></code> lints TODOs (&#64;fangly).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">T_and_F_symbol_linter()</span></code> warns when using T and F instead of TRUE and FALSE
(&#64;fangly).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">undesirable_operator_linter()</span></code> and <code class="docutils literal notranslate"><span class="pre">undesirable_function_linter()</span></code> lint uses of
user-specified functions and operators (#48, #149, &#64;fangly).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">unneeded_concatenation_linter()</span></code> lints uses of c() with a constant or no
arguments (&#64;fangly).</p></li>
</ul>
</section>
<section id="new-functions-for-writing-linters">
<h2>New functions for writing linters<a class="headerlink" href="#new-functions-for-writing-linters" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Export <code class="docutils literal notranslate"><span class="pre">expect_lint()</span></code> (#178, #210)</p></li>
<li><p>Export <code class="docutils literal notranslate"><span class="pre">ids_with_token()</span></code> and <code class="docutils literal notranslate"><span class="pre">with_id()</span></code> (#297 &#64;stufield)</p></li>
<li><p>linters can use the XML parse tree as well now, via the
<a class="github reference external" href="https://github.com/MangoTheCat/xmlparsedata">MangoTheCat/xmlparsedata</a> package (#154, &#64;gaborcsardi)</p></li>
</ul>
</section>
<section id="new-functions-for-users">
<h2>New functions for users<a class="headerlink" href="#new-functions-for-users" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">lint_dir()</span></code> function to lint files under a given directory (&#64;arekbee, #360)</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">summary.lints()</span></code> function to summarize the linter results (#260, #262, &#64;wlandau).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">checkstyle_output()</span></code> function to output lints to checkstyle XML output (#156, &#64;joshkgold)</p></li>
</ul>
</section>
<section id="linter-fixes">
<h2>Linter fixes<a class="headerlink" href="#linter-fixes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">closed_curly_linter()</span></code> now allows closing parenthesis or comma after closing curly brace (#167, &#64;Enchufa2)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">commas_linter()</span></code> now handles missing arguments calls properly (#145)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">commented_code_linter()</span></code> now relaxed, it no longer lints comments within roxygen blocks
and does not consider “-” an R operator to avoid too many false positives.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function_left_parentheses_linter()</span></code> now allows spaces if a function starts with a left parenthesis (#311)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">no_tab_linter()</span></code> now reports proper line in all cases (#134, &#64;fangly)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_length_linter()</span></code> argument <code class="docutils literal notranslate"><span class="pre">length</span></code> now defaults to 30 for consistency (#325 &#64;DragosMG)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_name_linter()</span></code> now works when passed multiple styles (#341, &#64;infotroph)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_usage_linter()</span></code> has been changed to better detect lexical scoping of global variables (#27, #336, #91, #382)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_usage_linter()</span></code> now respects <code class="docutils literal notranslate"><span class="pre">utils::globalVariables()</span></code>, so it can be used to avoid false positive warnings due to non-standard evaluation (#352)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_usage_linter()</span></code> now ignores top level calls that contain function definitions (#26).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object_linter*()</span></code>s now only lint objects declared in the current file
(#76, #108, #136, #191, #194, #201, &#64;fangly).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">open_curly_linter()</span></code> and <code class="docutils literal notranslate"><span class="pre">closed_curly_linter()</span></code> now do not lint double curly syntax (#388)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">open_curly_linter()</span></code> now allows comments after the curly braces (#188)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pipe_continuation_linter()</span></code> now behaves better in nested expressions, functions etc. (#366 &#64;russHyde)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">space_inside_linter()</span></code> now reports proper line and column numbers (#203, &#64;fangly)</p></li>
</ul>
</section>
<section id="general-improvements-and-fixes">
<h2>General improvements and fixes<a class="headerlink" href="#general-improvements-and-fixes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">expect_lint()</span></code> now no longer shows Rstudio markers and error messages are correctly preserved (#180, #211, &#64;fangly)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Lint()</span></code> / <code class="docutils literal notranslate"><span class="pre">as.data.frame()</span></code> error now fixed (#179, &#64;fangly).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint()</span></code> no longer errors with inline <code class="docutils literal notranslate"><span class="pre">\\Sexpr</span></code> (#127).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint()</span></code> no longer errors with ‘&lt;% %&gt;’ constructs (#185).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> now works with the cache, as intended (#146, &#64;schloerke)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> now excludes <code class="docutils literal notranslate"><span class="pre">R/RcppExports.R</span></code> by default (#282)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lint_package()</span></code> now removes fully excluded files as soon as possible</p></li>
<li><p>lintr now looks up its configuration in any parent directories as well as the package directory (#238, #345)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seq_linter</span></code> is now one of the default linters (#316).</p></li>
<li><p>Fix issue in lintr’s compatibility with R-devel, due to to a new version of the PCRE library (#411.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">read_settings()</span></code> now has a better error message when the config file does
not end with a newline (#160, #189)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_lint_free()</span></code> is now automatically skipped when run on covr (#287)</p></li>
<li><p>Now lintr only tries to generate comments if running in wercker or travis CI (#166)</p></li>
<li><p>Add support for overriding GitHub API Token via <code class="docutils literal notranslate"><span class="pre">GITHUB_TOKEN</span></code> environment
variable (#63, &#64;mattyb)</p></li>
<li><p>Config files are now also searched for in the users’ home directory (#266, &#64;randy3k)</p></li>
<li><p>Fixed crash caused by ambiguous cache file paths (#212, &#64;fangly).</p></li>
<li><p>RStudio addins to lint current source and project (fixes #264, &#64;JhossePaul)</p></li>
<li><p>Added proper handling of tab characters (fixes #44, &#64;fangly)</p></li>
<li><p>lintr does not need the igraph package any more (#152, &#64;gaborcsardi)</p></li>
<li><p>Fixed cache not saved in a directory other than requested (#213, &#64;fangly)
avoid reading and pre-processing of ignored files (&#64;mwaldstein)</p></li>
<li><p>Allow for any number of <code class="docutils literal notranslate"><span class="pre">#</span></code> to start a comment. Useful in ESS (#299, &#64;prosoitos)</p></li>
<li><p>R Markdown files that do not contain chunks are no longer treated as code (#370).</p></li>
<li><p>Fixed plain-code-block bug in Rmarkdown (#252, &#64;russHyde)</p></li>
<li><p>Fixed bug where non-R chunks using {lang} <code class="docutils literal notranslate"><span class="pre">engine</span> <span class="pre">format</span></code> were parsed from R-markdown (#322, &#64;russHyde)</p></li>
<li><p>Ensured <code class="docutils literal notranslate"><span class="pre">lintr</span></code> runs / installs / tests on R-3.6: pinned to github
<code class="docutils literal notranslate"><span class="pre">xmlparsedata</span></code>; ensure vectors are length-1 when compared using <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> and <code class="docutils literal notranslate"><span class="pre">||</span></code>
(#363 #377 #384 #391, &#64;russHyde).</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-1-0-3">
<h1>lintr 1.0.3<a class="headerlink" href="#lintr-1-0-3" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fix tests to work with changes in the parser in R 3.6</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-1-0-2">
<h1>lintr 1.0.2<a class="headerlink" href="#lintr-1-0-2" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Fix tests to work with upcoming testthat release.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-1-0-1">
<h1>lintr 1.0.1<a class="headerlink" href="#lintr-1-0-1" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>bugfix to work with knitr 1.16.7</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expect_lint_free()</span></code> now is always skipped on CRAN. This is necessary because
the non-binary R source may not be available when running tests on CRAN, and
those tests may not be run in the package directory.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-1-0-0">
<h1>lintr 1.0.0<a class="headerlink" href="#lintr-1-0-0" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>bugfix to work with testthat 1.0.0</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-0-3-3">
<h1>lintr 0.3.3<a class="headerlink" href="#lintr-0-3-3" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>infix_spaces_linter now properly checks <code class="docutils literal notranslate"><span class="pre">=</span></code> in named arguments. (#130, &#64;saurfang).</p></li>
<li><p>commas_linter now properly recognizes lints when preceded by a blank line and
points to the missing space rather than the comma (#111, #129, &#64;saurfang).</p></li>
<li><p>Make spaces_left_parentheses_linter more robust when determining <code class="docutils literal notranslate"><span class="pre">(</span></code> type (#128, &#64;saurfang)</p></li>
<li><p>commented_code_linter (#83, &#64;jackwasey)</p></li>
<li><p>Now trims long comments (#55, reported by &#64;paulstaab)</p></li>
<li><p>Automatic commenting of Github commits and pull requests when linting on Travis-CI</p></li>
<li><p>expect_lint_free expectation can be added to testthat unit tests.</p></li>
<li><p>Robust configuration system and exclusion logic</p></li>
<li><p>Emacs and Sublime Text 3 plugins now available from their respective package repositories.</p></li>
<li><p>add <code class="docutils literal notranslate"><span class="pre">names.lints</span></code>, <code class="docutils literal notranslate"><span class="pre">split.lints</span></code> (#49, &#64;ttriche)</p></li>
<li><p>Fixed bug that caused vim syntastic plugin not to work properly in windows (#46, &#64;abossenbroek)</p></li>
<li><p>allow lintr customization per project using <code class="docutils literal notranslate"><span class="pre">.lintr</span></code> config files.</p></li>
<li><p>use <code class="docutils literal notranslate"><span class="pre">globalenv()</span></code> instead of <code class="docutils literal notranslate"><span class="pre">baseenv()</span></code> for default parent environment so
that <code class="docutils literal notranslate"><span class="pre">methods</span></code> will be included.</p></li>
<li><p>do not check object usage if eval fails.  Fixes (#24, reported by &#64;fabian-s)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trailing_whitespace_linter</span></code> was reporting the incorrect line number</p></li>
<li><p>Use RStudio source marker API to display lints (#37, &#64;jjallaire)</p></li>
<li><p>Permit single quotes if they quote literal double quotes (#28, &#64;jackwasey)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">nolint</span></code> comments are respected with caching (#68, &#64;krlmlr)</p></li>
<li><p>Properly handle all knitr document formats</p></li>
<li><p>Allow for (( when linting (#259, &#64;nathaneastwood)</p></li>
<li><p>Remove ^ from infix spaces to conform with tidyverse. (#302, &#64;nathaneastwood)</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lintr-0-2-0">
<h1>lintr 0.2.0<a class="headerlink" href="#lintr-0-2-0" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Initial release</p></li>
</ul>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./renv\library\windows\R-4.4\x86_64-w64-mingw32\lintr"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">lintr 3.1.2</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-and-improved-features">New and improved features</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lint-accuracy-fixes-removing-false-positives">Lint accuracy fixes: removing false positives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lint-accuracy-fixes-removing-false-negatives">Lint accuracy fixes: removing false negatives</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#notes">Notes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-3-1-1">lintr 3.1.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#breaking-changes">Breaking changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bug-fixes">Bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changes-to-default-linters">Changes to default linters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">New and improved features</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#new-linters">New linters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extensions-to-existing-linters">Extensions to existing linters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Lint accuracy fixes: removing false positives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Lint accuracy fixes: removing false negatives</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-3-1-0">lintr 3.1.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecations-breaking-changes">Deprecations &amp; Breaking Changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changes-to-defaults">Changes to defaults</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">New and improved features</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">New linters</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Notes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-3-0-2">lintr 3.0.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-3-0-1">lintr 3.0.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Changes to defaults</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">New and improved features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-changes">Other changes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-3-0-0">lintr 3.0.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Breaking changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecations">Deprecations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-changes-to-defaults">Other changes to defaults</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#updates-to-default-linters">Updates to <code class="docutils literal notranslate"><span class="pre">default_linters</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-noteworthy-changes">Other noteworthy changes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">New and improved features</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">New linters</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#google-linters">Google linters</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-features-and-improvements">Other features and improvements</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Bug fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#internals">Internals</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-2-0-1">lintr 2.0.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-features">New features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#minor-fixes-and-features">Minor fixes and features</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-2-0-0">lintr 2.0.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecated-functions">Deprecated functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">New linters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-functions-for-writing-linters">New functions for writing linters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-functions-for-users">New functions for users</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linter-fixes">Linter fixes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#general-improvements-and-fixes">General improvements and fixes</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-1-0-3">lintr 1.0.3</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-1-0-2">lintr 1.0.2</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-1-0-1">lintr 1.0.1</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-1-0-0">lintr 1.0.0</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-0-3-3">lintr 0.3.3</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lintr-0-2-0">lintr 0.2.0</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Brittany Cummings
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>